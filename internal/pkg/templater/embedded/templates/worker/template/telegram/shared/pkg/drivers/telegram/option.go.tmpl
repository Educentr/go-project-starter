package telegram

type Option interface {
	apply(*Telegram)
}

type optionFunc func(*Telegram)

func (o optionFunc) apply(c *Telegram) {
	o(c)
}

func WithUpdatePoller() Option {
	return optionFunc(func(t *Telegram) {
		t.startUpdatePoller = true
	})
}

func WithHiddenMessage() Option {
	return optionFunc(func(t *Telegram) {
		t.EnableHiddenMessage = true
	})
}

func WithOnSendError(cb OnSendErrorCallback) Option {
	return optionFunc(func(t *Telegram) {
		t.OnSendError = cb
	})
}

func WithAPIEndpoint(endpoint string) Option {
	return optionFunc(func(t *Telegram) {
		t.apiEndpoint = endpoint
	})
}
