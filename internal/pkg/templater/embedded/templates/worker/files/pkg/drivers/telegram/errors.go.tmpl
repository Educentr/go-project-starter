package telegram

import "strings"

// IsBotBlockedError проверяет, заблокировал ли пользователь бота
// Telegram API возвращает ошибки:
// - "Forbidden: bot was blocked by the user"
// - "Forbidden: user is deactivated"
// - "Forbidden: bot can't initiate conversation with a user"
func IsBotBlockedError(err error) bool {
	if err == nil {
		return false
	}

	errStr := err.Error()

	return strings.Contains(errStr, "bot was blocked by the user") ||
		strings.Contains(errStr, "user is deactivated") ||
		strings.Contains(errStr, "bot can't initiate conversation")
}
