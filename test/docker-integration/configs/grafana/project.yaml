main:
  name: grafanatest
  logger: zerolog
  registry_type: github

post_generate: []

git:
  repo: git@github.com:test/grafanatest.git
  module_path: github.com/test/grafanatest

tools:
  protobuf_version: 1.7.0
  golang_version: "1.24"
  ogen_version: v1.18.0
  golangci_version: 1.64.8

grafana:
  datasources:
    - name: Prometheus
      type: prometheus
      access: proxy
      url: http://prometheus:9090
      isDefault: true
      editable: false
    - name: Loki
      type: loki
      access: proxy
      url: http://loki:3100
      isDefault: false
      editable: false

rest:
  - name: api
    path:
      - ./api.swagger.yml
    api_prefix: /
    version: "v1"
    port: 8080
    generator_type: ogen
    generator_params:
      auth_handler: "off"
  - name: sys
    port: 8085
    version: "v1"
    generator_type: template
    generator_template: sys

applications:
  - name: api
    transport:
      - api
      - sys
    grafana:
      datasources:
        - Prometheus
        - Loki
