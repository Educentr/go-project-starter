{"config":{"lang":["ru"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Go Project Starter","text":"<p>\u041f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435 API-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432 production-ready \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0437\u0430 \u043c\u0438\u043d\u0443\u0442\u044b, \u0430 \u043d\u0435 \u0434\u043d\u0438.</p> <p>Go Project Starter \u2014 \u043c\u043e\u0449\u043d\u044b\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0433\u043e\u0442\u043e\u0432\u044b\u0435 \u043a production Go-\u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0438\u0437 YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438. \u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 78+ \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 ~8000 \u0441\u0442\u0440\u043e\u043a production-grade \u043a\u043e\u0434\u0430, \u0432\u043a\u043b\u044e\u0447\u0430\u044f REST API, gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b, Kafka consumers, Telegram \u0431\u043e\u0442\u044b \u0438 \u043f\u043e\u043b\u043d\u0443\u044e \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443.</p>"},{"location":"#go-project-starter_1","title":"\u041f\u043e\u0447\u0435\u043c\u0443 Go Project Starter?","text":""},{"location":"#_1","title":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043c\u043e\u043d\u043e\u043b\u0438\u0442\u0430 \u0438 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432","text":"<p>\u041d\u043e\u0432\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b \u043f\u043e\u0447\u0442\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442\u0441\u044f \u043a\u0430\u043a \u043c\u043e\u043d\u043e\u043b\u0438\u0442\u044b \u2014 \u0442\u0430\u043a \u0431\u044b\u0441\u0442\u0440\u0435\u0435 \u0441\u0442\u0430\u0440\u0442\u0430\u043d\u0443\u0442\u044c. \u041d\u043e \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442 \u0440\u0430\u0441\u0442\u0451\u0442, \u043c\u043e\u043d\u043e\u043b\u0438\u0442 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043e\u0439: \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u043c\u0435\u0448\u0430\u044e\u0442 \u0434\u0440\u0443\u0433 \u0434\u0440\u0443\u0433\u0443, \u0434\u0435\u043f\u043b\u043e\u0439 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0441\u043b\u043e\u0436\u043d\u044b\u043c, \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u043c. \u0420\u0430\u0441\u043f\u0438\u043b\u0438\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u043d\u043e\u043b\u0438\u0442\u0430 \u043d\u0430 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 \u043c\u0435\u0441\u044f\u0446\u044b \u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043e\u0433\u0440\u043e\u043c\u043d\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432.</p> <p>\u041f\u0438\u0441\u0430\u0442\u044c \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u043d\u0443\u044e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443 \u0441 \u0441\u0430\u043c\u043e\u0433\u043e \u043d\u0430\u0447\u0430\u043b\u0430 \u2014 \u0442\u043e\u0436\u0435 \u043d\u0435 \u0432\u044b\u0445\u043e\u0434: \u044d\u0442\u043e \u0438\u0437\u0431\u044b\u0442\u043e\u0447\u043d\u043e \u0434\u043b\u044f \u0441\u0442\u0430\u0440\u0442\u0430\u043f\u0430, \u0433\u0434\u0435 \u0432\u0430\u0436\u043d\u0430 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u044b\u0445\u043e\u0434\u0430 \u043d\u0430 \u0440\u044b\u043d\u043e\u043a.</p>"},{"location":"#_2","title":"\u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u043c\u043e\u043d\u043e\u0440\u0435\u043f\u043e \u0441 \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u044b\u043c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c","text":"<p>Go Project Starter \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u043a\u043e\u043c\u043f\u0440\u043e\u043c\u0438\u0441\u0441:</p> <ol> <li>\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442 \u2014 \u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0441 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0432 \u043c\u043e\u043d\u043e\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438</li> <li>\u041f\u043e\u0441\u0442\u0435\u043f\u0435\u043d\u043d\u043e\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u2014 \u0432\u044b\u043d\u043e\u0441\u0438\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 applications \u043f\u043e \u043c\u0435\u0440\u0435 \u0440\u043e\u0441\u0442\u0430</li> <li>\u0411\u0435\u0437\u0431\u043e\u043b\u0435\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0445\u043e\u0434 \u2014 \u043a\u043e\u0433\u0434\u0430 \u043d\u0443\u0436\u043d\u043e, applications \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u043d\u0435\u0441\u0442\u0438 \u043f\u043e \u0440\u0430\u0437\u043d\u044b\u043c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\u043c</li> </ol> <p>\u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043d\u0435 \u0442\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u043d\u0430 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0442\u0430\u0440\u0442\u0435, \u043d\u043e \u0438 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0434\u043e\u043b\u0433, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0442\u043e\u043c \u043f\u0440\u0438\u0434\u0451\u0442\u0441\u044f \u0434\u043e\u043b\u0433\u043e \u0440\u0430\u0437\u0433\u0440\u0435\u0431\u0430\u0442\u044c.</p>"},{"location":"#_3","title":"\u0412\u0441\u0451 \u0438\u0437 \u043a\u043e\u0440\u043e\u0431\u043a\u0438","text":"<p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 production-ready \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0441 \u043d\u0443\u043b\u044f \u043e\u0431\u044b\u0447\u043d\u043e \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442 2-3 \u043d\u0435\u0434\u0435\u043b\u0438 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f boilerplate-\u043a\u043e\u0434\u0430. Go Project Starter \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u0435\u0442 \u044d\u0442\u043e \u0434\u043e 5 \u043c\u0438\u043d\u0443\u0442, \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u044f 100% \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u0438\u0437 \u0435\u0434\u0438\u043d\u043e\u0433\u043e YAML-\u0444\u0430\u0439\u043b\u0430.</p> <p>\u041f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435:</p> <ul> <li>\u0420\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u2014 \u043c\u043e\u0436\u043d\u043e \u0441\u0440\u0430\u0437\u0443 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c</li> <li>CI/CD \u2014 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0441\u0431\u043e\u0440\u043a\u0430 Docker-\u043e\u0431\u0440\u0430\u0437\u043e\u0432 \u0438\u043b\u0438 deb/rpm \u043f\u0430\u043a\u0435\u0442\u043e\u0432</li> <li>\u0414\u0435\u043f\u043b\u043e\u0439 \u2014 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u043d\u044b\u0439, \u043d\u043e \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0430\u0437\u0432\u0451\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u043d\u0430 staging/production</li> <li>\u041d\u043e\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u2014 Telegram, Slack \u2014 \u0447\u0442\u043e\u0431\u044b \u0437\u043d\u0430\u0442\u044c \u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0435 \u0431\u0438\u043b\u0434\u043e\u0432</li> </ul> <p>\u042d\u0442\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0432\u0430\u0436\u043d\u043e \u0434\u043b\u044f \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043a\u043e\u043c\u0430\u043d\u0434 (1-2 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430), \u0433\u0434\u0435 \u043d\u0435\u0442 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 DevOps-\u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432 \u0438 \u043d\u0443\u0436\u043d\u043e \u0441\u0444\u043e\u043a\u0443\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0435, \u0430 \u043d\u0435 \u043d\u0430 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435.</p>"},{"location":"#_4","title":"\u0413\u0438\u0431\u043a\u043e\u0441\u0442\u044c","text":"<p>Go Project Starter \u043d\u0435 \u043f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u0430\u0441 \u043a \u0441\u0432\u043e\u0438\u043c \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u043c. \u041b\u044e\u0431\u043e\u0439 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043c\u043e\u0436\u043d\u043e:</p> <ul> <li>\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438 \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438\u043c</li> <li>\u041f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0434 \u0441\u0432\u043e\u0438 \u043d\u0443\u0436\u0434\u044b</li> <li>\u0412\u044b\u043d\u0435\u0441\u0442\u0438 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 pipeline (Jenkins, Ansible, \u0438 \u0442.\u0434.)</li> </ul> <p>\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u043e: \u0412 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0445 scaffolding-\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u044e\u0442 \u043a\u043e\u0434 \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u0438 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u0432\u0430\u0441 \u043d\u0430\u0435\u0434\u0438\u043d\u0435 \u0441 \u043d\u0438\u043c, Go Project Starter \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0438\u043d\u0442\u0435\u043b\u043b\u0435\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u0438 \u0432\u0430\u0448\u0435\u0439 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438. \u042d\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u0440\u0438 \u044d\u0432\u043e\u043b\u044e\u0446\u0438\u0438 API \u0431\u0435\u0437 \u043f\u043e\u0442\u0435\u0440\u0438 \u0440\u0443\u0447\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.</p>"},{"location":"#_5","title":"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438","text":""},{"location":"#_6","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430","text":"<p>\u041f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 API \u0431\u0435\u0437 \u043f\u043e\u0442\u0435\u0440\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0434\u0430:</p> <pre><code>// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// ==========================================\n\nfunc (h *Handler) CreateUser(ctx context.Context, req *CreateUserRequest) (*User, error) {\n    // \u0412\u0430\u0448\u0430 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0437\u0434\u0435\u0441\u044c - \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0451\u0442 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e!\n}\n</code></pre>"},{"location":"#_7","title":"\u041c\u043d\u043e\u0433\u043e\u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","text":"<ul> <li>REST APIs (OpenAPI 3.0 \u0447\u0435\u0440\u0435\u0437 ogen)</li> <li>gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b (Protocol Buffers v3)</li> <li>Kafka Consumers (event-driven \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430)</li> <li>Background Workers (Telegram \u0431\u043e\u0442\u044b, daemons)</li> </ul>"},{"location":"#application-based","title":"Application-Based \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u041e\u0434\u043d\u0430 \u043a\u043e\u0434\u043e\u0432\u0430\u044f \u0431\u0430\u0437\u0430, \u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438 \u0434\u0435\u043f\u043b\u043e\u044f:</p> <pre><code>applications:\n  - name: gateway\n    transport: [rest_api, grpc_users]\n\n  - name: workers\n    workers: [telegram_bot, kafka_consumer]\n</code></pre>"},{"location":"#production-ready","title":"Production-Ready \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442:</p> <ul> <li>Docker &amp; Docker Compose (multi-stage builds, ~50MB \u043e\u0431\u0440\u0430\u0437\u044b)</li> <li>GitHub Actions CI/CD</li> <li>Traefik reverse proxy</li> <li>Prometheus \u043c\u0435\u0442\u0440\u0438\u043a\u0438 &amp; Grafana dashboards</li> <li>Health checks &amp; graceful shutdown</li> <li>Structured logging (zerolog)</li> </ul>"},{"location":"#_8","title":"\u0427\u0442\u043e \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435","text":"<pre><code>myservice/                    # ~50 \u0444\u0430\u0439\u043b\u043e\u0432, ~8000 \u0441\u0442\u0440\u043e\u043a production-ready \u043a\u043e\u0434\u0430\n\u251c\u2500\u2500 cmd/server/              # \u0422\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0441 graceful shutdown\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 app/                 # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 \u0438 \u0432\u043e\u0440\u043a\u0435\u0440\u044b (\u0432\u0430\u0448 \u043a\u043e\u0434)\n\u2502   \u2514\u2500\u2500 pkg/                 # \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438\n\u251c\u2500\u2500 pkg/                     # Runtime \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 (middleware, logging, metrics)\n\u251c\u2500\u2500 docker-compose.yaml      # \u041b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 (Postgres, Redis, Traefik)\n\u251c\u2500\u2500 Dockerfile               # Multi-stage build (\u043e\u0431\u0440\u0430\u0437 ~50MB)\n\u251c\u2500\u2500 Makefile                 # 40+ targets (build, test, lint, deploy)\n\u2514\u2500\u2500 .github/workflows/       # CI/CD (test, build, push to registry)\n</code></pre>"},{"location":"#_9","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\ngo install github.com/Educentr/go-project-starter/cmd/go-project-starter@latest\n\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\ngo-project-starter --config=config.yaml\n\n# \u0417\u0430\u043f\u0443\u0441\u043a\ncd myservice\nmake docker-up    # \u0417\u0430\u043f\u0443\u0441\u043a \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\nmake generate     # \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0430 \u0438\u0437 OpenAPI\nmake run          # \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430\n</code></pre> <p>\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u043d\u0430\u0447\u0430\u043b\u0443 \u0440\u0430\u0431\u043e\u0442\u044b</p>"},{"location":"#_10","title":"\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043f\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438","text":"\u0420\u0430\u0437\u0434\u0435\u043b \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0438 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 CLI \u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u041f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f, Makefile, OnlineConf \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0413\u043e\u0442\u043e\u0432\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 GOAT \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a YAML Schema, Makefile targets Troubleshooting FAQ \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u043b\u0435\u043c"},{"location":"#_11","title":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","text":"<ul> <li>GitHub Issues \u2014 \u0431\u0430\u0433 \u0440\u0435\u043f\u043e\u0440\u0442\u044b \u0438 feature requests</li> <li>GitHub Discussions \u2014 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u044f</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>FAQ \u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0438\u0447\u043d\u044b\u0445 \u043f\u0440\u043e\u0431\u043b\u0435\u043c.</p>"},{"location":"troubleshooting/#_1","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f","text":""},{"location":"troubleshooting/#mainname-is-required","title":"\u041e\u0448\u0438\u0431\u043a\u0430 \"main.name is required\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 <code>main.name</code> \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code>main:\n  name: my-service  # \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u044d\u0442\u043e \u043f\u043e\u043b\u0435\n</code></pre>"},{"location":"troubleshooting/#duplicate-rest-name","title":"\u041e\u0448\u0438\u0431\u043a\u0430 \"duplicate rest name\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u0414\u0432\u0430 REST \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0438 \u0432\u0435\u0440\u0441\u0438\u0435\u0439.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438 name + version:</p> <pre><code>rest:\n  - name: api\n    version: v1\n  - name: api\n    version: v2  # OK - \u0440\u0430\u0437\u043d\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438\n</code></pre>"},{"location":"troubleshooting/#_2","title":"\u0424\u0430\u0439\u043b\u044b \u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u044e\u0442\u0441\u044f","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u043a target \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code># \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0430\u0431\u0441\u043e\u043b\u044e\u0442\u043d\u044b\u0439 \u043f\u0443\u0442\u044c\ngo-project-starter --config=config.yaml --target=/home/user/my-project\n\n# \u0418\u043b\u0438 \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442\nmkdir -p ./my-project\ngo-project-starter --config=config.yaml --target=./my-project\n</code></pre>"},{"location":"troubleshooting/#_3","title":"\u0421\u0431\u043e\u0440\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":""},{"location":"troubleshooting/#cannot-find-package","title":"\"cannot find package\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code>go mod download\ngo mod tidy\n</code></pre>"},{"location":"troubleshooting/#undefined-ogen","title":"\"undefined: ogen\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: Ogen \u043a\u043e\u0434 \u043d\u0435 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code>make generate\n# \u0438\u043b\u0438\nmake ogen\n</code></pre>"},{"location":"troubleshooting/#_4","title":"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d GOPRIVATE.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e:</p> <pre><code>git:\n  private_repos:\n    - github.com/myorg/*\n</code></pre>"},{"location":"troubleshooting/#docker","title":"Docker","text":""},{"location":"troubleshooting/#cannot-connect-to-docker-daemon","title":"\"Cannot connect to Docker daemon\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: Docker \u043d\u0435 \u0437\u0430\u043f\u0443\u0449\u0435\u043d.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code># Linux\nsudo systemctl start docker\n\n# macOS\nopen -a Docker\n</code></pre>"},{"location":"troubleshooting/#port-is-already-allocated","title":"\"port is already allocated\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041f\u043e\u0440\u0442 \u0437\u0430\u043d\u044f\u0442 \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u043c.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code># \u041d\u0430\u0439\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\nlsof -i :8080\n\n# \u0418\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u0440\u0442 \u0432 docker-compose\n# \u0418\u043b\u0438 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c conflicting \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\ndocker compose down\n</code></pre>"},{"location":"troubleshooting/#dev-stand","title":"Dev Stand","text":""},{"location":"troubleshooting/#onlineconf-updater-treecdb","title":"OnlineConf updater \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 TREE.cdb","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 MySQL \u0438\u043b\u0438 Admin UI.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code># \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043b\u043e\u0433\u0438\ndocker compose -f docker-compose-dev.yaml logs onlineconf-updater\ndocker compose -f docker-compose-dev.yaml logs onlineconf-database\n\n# \u041f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435\nmake dev-drop\nmake dev-up\n</code></pre>"},{"location":"troubleshooting/#init-configsql","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 init-config.sql \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: MySQL \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 init-\u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code>make dev-drop  # \u0423\u0434\u0430\u043b\u044f\u0435\u0442 volumes\nmake dev-up\n</code></pre>"},{"location":"troubleshooting/#submodule","title":"Submodule \u043d\u0435 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: OnlineConf submodule \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code>git submodule update --init --recursive\n</code></pre>"},{"location":"troubleshooting/#_5","title":"\u0422\u0435\u0441\u0442\u044b","text":""},{"location":"troubleshooting/#api-did-not-become-ready","title":"\"API did not become ready\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u043e\u0441\u044c.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a: <code>ls -la /tmp/api</code></li> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 Docker: <code>docker ps</code></li> <li>\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u043b\u043e\u0433\u0438: <code>tail -f /tmp/yourproject-test-*.log</code></li> </ol>"},{"location":"troubleshooting/#database-connection-refused","title":"\"Database connection refused\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: Testcontainers \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0438 PostgreSQL.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 Docker daemon</li> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 Docker socket</li> <li>\u0423\u0432\u0435\u043b\u0438\u0447\u044c\u0442\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430</li> </ol>"},{"location":"troubleshooting/#testenvinitializer-not-implemented","title":"\"TestEnvInitializer not implemented\"","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d \u0444\u0430\u0439\u043b <code>tests/init.go</code>.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b \u0441 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 (\u0441\u043c. GOAT).</p>"},{"location":"troubleshooting/#cicd","title":"CI/CD","text":""},{"location":"troubleshooting/#permission-denied-github-actions","title":"\"permission denied\" \u0432 GitHub Actions","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u043a\u0440\u0435\u0442\u044b \u0438\u043b\u0438 \u043f\u0440\u0430\u0432\u0430.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u0435\u043a\u0440\u0435\u0442\u044b \u0432 Settings \u2192 Secrets</li> <li>\u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e SSH \u043a\u043b\u044e\u0447 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439</li> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 registry</li> </ol>"},{"location":"troubleshooting/#docker-push-fails","title":"Docker push fails","text":"<p>\u041f\u0440\u0438\u0447\u0438\u043d\u0430: \u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 credentials \u0434\u043b\u044f registry.</p> <p>\u0420\u0435\u0448\u0435\u043d\u0438\u0435:</p> <pre><code># GitHub Container Registry\ngh secret set GHCR_USER --body \"username\"\ngh secret set GHCR_TOKEN --body \"ghp_...\"\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\ndocker login ghcr.io -u username -p token\n</code></pre>"},{"location":"troubleshooting/#_6","title":"\u041e\u0431\u0449\u0438\u0435 \u0441\u043e\u0432\u0435\u0442\u044b","text":""},{"location":"troubleshooting/#_7","title":"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>--dry-run</code> \u043f\u0435\u0440\u0435\u0434 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0435\u0439:</p> <pre><code>go-project-starter --dry-run --config=config.yaml --target=.\n</code></pre>"},{"location":"troubleshooting/#_8","title":"\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 debug \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435:</p> <pre><code>export LOG_LEVEL=debug\ngo-project-starter --config=config.yaml\n</code></pre>"},{"location":"troubleshooting/#_9","title":"\u0412\u0435\u0440\u0441\u0438\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432","text":"<p>\u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0432\u0435\u0440\u0441\u0438\u0438 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b:</p> <pre><code>go version          # \u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c 1.24+\ndocker --version    # \u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c 20.10+\n</code></pre>"},{"location":"troubleshooting/#_10","title":"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0438 \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f","text":"<p>\u041f\u0440\u0438 \u0441\u0435\u0440\u044c\u0451\u0437\u043d\u044b\u0445 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u0445:</p> <pre><code># \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0432\u0430\u0448 \u043a\u043e\u0434\ncp -r internal/app/*/transport/rest/*/handler.go /tmp/backup/\n\n# \u0423\u0434\u0430\u043b\u0438\u0442\u0435 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b\nrm -rf cmd/ internal/ pkg/ Makefile Dockerfile docker-compose.yaml\n\n# \u041f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435\ngo-project-starter --config=config.yaml\n\n# \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0432\u0430\u0448 \u043a\u043e\u0434\ncp /tmp/backup/*.go internal/app/*/transport/rest/*/\n</code></pre>"},{"location":"troubleshooting/#_11","title":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043c\u043e\u0449\u0438","text":"<p>\u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435 \u0440\u0435\u0448\u0435\u043d\u0430:</p> <ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 GitHub Issues</li> <li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 issue \u0441:</li> <li>\u0412\u0435\u0440\u0441\u0438\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 (<code>go-project-starter --version</code>)</li> <li>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f (\u0431\u0435\u0437 \u0441\u0435\u043a\u0440\u0435\u0442\u043e\u0432)</li> <li>\u041f\u043e\u043b\u043d\u044b\u0439 \u0432\u044b\u0432\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438</li> <li>\u0428\u0430\u0433\u0438 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f</li> </ol>"},{"location":"ai-agents/","title":"AI-\u0430\u0433\u0435\u043d\u0442\u044b","text":"<p>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 AI-\u043a\u043e\u0434\u0438\u043d\u0433 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 \u0432 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445.</p>"},{"location":"ai-agents/#_1","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>CLAUDE.md / LLMS.md \u2014 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442-\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u0434\u043b\u044f AI-\u0430\u0433\u0435\u043d\u0442\u043e\u0432</li> </ul>"},{"location":"ai-agents/#_2","title":"\u041e\u0431\u0437\u043e\u0440","text":"<p>Go Project Starter \u043c\u043e\u0436\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442-\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043c\u043e\u0433\u0430\u0435\u0442 AI-\u043a\u043e\u0434\u0438\u043d\u0433 \u0430\u0433\u0435\u043d\u0442\u0430\u043c (Claude Code, Codex, Cursor \u0438 \u0434\u0440.) \u043f\u043e\u043d\u0438\u043c\u0430\u0442\u044c \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443 \u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432.</p>"},{"location":"ai-agents/#_3","title":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435","text":"<pre><code>main:\n  name: myproject\n  generate_llms_md: true\n</code></pre>"},{"location":"ai-agents/#_4","title":"\u0412\u044b\u0431\u043e\u0440 \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0438\u043c\u044f \u0444\u0430\u0439\u043b\u0430:</p> \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0444\u0430\u0439\u043b \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u041d\u0435\u0442 <code>CLAUDE.md</code> <code>CLAUDE.md</code> Claude Code \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0447\u0438\u0442\u0430\u0435\u0442 \u044d\u0442\u043e\u0442 \u0444\u0430\u0439\u043b \u0415\u0441\u0442\u044c \u0441\u0432\u043e\u0439 <code>CLAUDE.md</code> <code>LLMS.md</code> \u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},{"location":"ai-agents/#_5","title":"\u0427\u0442\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442","text":"<ul> <li>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (\u0442\u0440\u0451\u0445\u0441\u043b\u043e\u0439\u043d\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430)</li> <li>\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u043c \u043a\u043e\u0434\u043e\u043c (disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b, <code>_gen</code> \u0444\u0430\u0439\u043b\u044b)</li> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0441\u0431\u043e\u0440\u043a\u0438, \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438</li> <li>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432, \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432, \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432</li> <li>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> </ul>"},{"location":"ai-agents/#_6","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>CLAUDE.md / LLMS.md \u2014 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u0438</li> </ul>"},{"location":"ai-agents/llms-md/","title":"CLAUDE.md / LLMS.md \u2014 \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f AI-\u0430\u0433\u0435\u043d\u0442\u043e\u0432","text":""},{"location":"ai-agents/llms-md/#_1","title":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442-\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u0434\u043b\u044f AI-\u043a\u043e\u0434\u0438\u043d\u0433 \u0430\u0433\u0435\u043d\u0442\u043e\u0432 (Claude Code, Codex, Cursor \u0438 \u0434\u0440.) \u0432 \u043a\u043e\u0440\u0435\u043d\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u041f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044f \u0430\u0433\u0435\u043d\u0442 \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443, \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432.</p>"},{"location":"ai-agents/llms-md/#_2","title":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438","text":"<p>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 <code>project.yaml</code>:</p> <pre><code>main:\n  name: myproject\n  generate_llms_md: true\n</code></pre> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0430 (<code>false</code>).</p>"},{"location":"ai-agents/llms-md/#_3","title":"\u0412\u044b\u0431\u043e\u0440 \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0438\u043c\u044f \u0444\u0430\u0439\u043b\u0430 \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438:</p> \u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 target-\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0444\u0430\u0439\u043b \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u041d\u0435\u0442 <code>CLAUDE.md</code> <code>CLAUDE.md</code> \u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u2014 Claude Code \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0447\u0438\u0442\u0430\u0435\u0442 \u044d\u0442\u043e\u0442 \u0444\u0430\u0439\u043b \u0415\u0441\u0442\u044c <code>CLAUDE.md</code> \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <code>LLMS.md</code> Fallback \u2014 \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0444\u0430\u0439\u043b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <p>\u041f\u0440\u0438 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 (<code>make regenerate</code>) \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0440\u0430\u043d\u0435\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0438\u043c\u044f \u0444\u0430\u0439\u043b\u0430.</p>"},{"location":"ai-agents/llms-md/#llmsmd","title":"\u0415\u0441\u043b\u0438 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0441\u044f LLMS.md","text":"<p>\u0415\u0441\u043b\u0438 \u0443 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0431\u044b\u043b \u0441\u0432\u043e\u0439 <code>CLAUDE.md</code> \u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0441\u043e\u0437\u0434\u0430\u043b <code>LLMS.md</code>, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 \u0432\u0430\u0448 <code>CLAUDE.md</code> \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u0443:</p> <pre><code>Read and follow the instructions in LLMS.md \u2014 it contains the generated project architecture guide.\n</code></pre> <p>\u042d\u0442\u043e \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u0443\u0435\u0442, \u0447\u0442\u043e AI-\u0430\u0433\u0435\u043d\u0442 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0435\u0442 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u043f\u043e \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p>"},{"location":"ai-agents/llms-md/#_4","title":"\u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438","text":"<p>\u0424\u0430\u0439\u043b \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437. \u041f\u0440\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435 <code>make regenerate</code> \u0444\u0430\u0439\u043b \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f (\u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e <code>README.md</code> \u0438 <code>LICENSE.txt</code>). \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0432 \u043d\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430.</p> <p>\u0424\u0430\u0439\u043b \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u043e\u0432 \u2014 \u043e\u043d \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439.</p>"},{"location":"ai-agents/llms-md/#_5","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u043e\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430","text":""},{"location":"ai-agents/llms-md/#_6","title":"\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0435\u043a\u0446\u0438\u0438 (\u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442)","text":"\u0421\u0435\u043a\u0446\u0438\u044f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Project Overview \u0418\u043c\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430, module path, \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 Critical Rules \u0417\u0430\u043f\u0440\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f <code>_gen</code> \u0444\u0430\u0439\u043b\u043e\u0432, \u043f\u0440\u0430\u0432\u0438\u043b\u0430 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u043e\u0432 Three-layer architecture \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>pkg/</code>, <code>internal/pkg/</code>, <code>internal/app/</code> Where to Put Code \u0422\u0430\u0431\u043b\u0438\u0446\u0430: \u0447\u0442\u043e \u043a\u0443\u0434\u0430 \u043a\u043b\u0430\u0441\u0442\u044c (handlers, service, models, constants) Build Commands <code>make build</code>, <code>make test</code>, <code>make lint</code>, <code>make generate</code>, <code>make regenerate</code> Code Generation \u041a\u043e\u0433\u0434\u0430 \u043a\u0430\u043a\u0443\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c Service Layer \u041f\u0430\u0442\u0442\u0435\u0440\u043d \u0435\u0434\u0438\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0434\u043b\u044f \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438 OnlineConf \u0418\u0435\u0440\u0430\u0440\u0445\u0438\u044f \u043f\u0443\u0442\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u043f\u0440\u0430\u0432\u0438\u043b\u0430 Applications \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0441 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430\u043c\u0438, \u0432\u043e\u0440\u043a\u0435\u0440\u0430\u043c\u0438, \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\u043c\u0438 Project Structure \u0414\u0435\u0440\u0435\u0432\u043e \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u0432 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},{"location":"ai-agents/llms-md/#_7","title":"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0435\u043a\u0446\u0438\u0438 (\u043f\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443)","text":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0421\u0435\u043a\u0446\u0438\u044f <code>use_active_record: true</code> ActiveRecord \u2014 <code>decl/</code>, <code>cmpl/</code>, <code>make generate-argen</code> \u0415\u0441\u0442\u044c REST \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b REST API \u2014 ogen, \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u043f\u0430\u0442\u0442\u0435\u0440\u043d \u0445\u0435\u043d\u0434\u043b\u0435\u0440\u043e\u0432 \u0415\u0441\u0442\u044c gRPC \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b gRPC \u2014 proto \u0444\u0430\u0439\u043b\u044b, \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0415\u0441\u0442\u044c workers Workers \u2014 \u0442\u0438\u043f\u044b, \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 <code>enabled</code> \u0444\u043b\u0430\u0433, OnlineConf \u043f\u0443\u0442\u0438 \u0415\u0441\u0442\u044c Kafka Kafka \u2014 producers/consumers, \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f <code>dev_stand: true</code> Dev Environment \u2014 docker-compose-dev, OnlineConf UI \u0415\u0441\u0442\u044c GOAT \u0442\u0435\u0441\u0442\u044b Integration Tests \u2014 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"},{"location":"ai-agents/llms-md/#_8","title":"\u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u043d\u043e-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0441\u0435\u043a\u0446\u0438\u0438:</p>"},{"location":"ai-agents/llms-md/#_9","title":"\u0427\u0442\u043e \u0441\u0442\u043e\u0438\u0442 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c","text":"<ol> <li>\u0411\u0438\u0437\u043d\u0435\u0441-\u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u2014 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u00ab\u0441\u0443\u043c\u043c\u044b \u0432 \u043a\u043e\u043f\u0435\u0439\u043a\u0430\u0445\u00bb, \u00ab\u0432\u043e\u0440\u043a\u0435\u0440\u044b \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0434\u043e\u043b\u044c\u0448\u0435 30 \u0441\u0435\u043a\u0443\u043d\u0434\u00bb)</li> <li>\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u2014 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439 (\u043f\u043b\u0430\u0442\u0451\u0436\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b, \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0435 API)</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u043a\u0430\u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b, \u043a\u0430\u043a\u0438\u0435 \u043c\u043e\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f</li> <li>\u0421\u0440\u0435\u0434\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u2014 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438, \u0441\u0435\u043a\u0440\u0435\u0442\u044b</li> <li>\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u043e\u0432 \u2014 \u0435\u0441\u043b\u0438 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b \u0436\u0438\u0432\u0443\u0442 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438</li> </ol>"},{"location":"ai-agents/llms-md/#_10","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f","text":"<p><pre><code>## Payment System\n\n- Providers: Pike (kopecks), Wata (rubles) \u2014 different amount formats!\n- Provider queue in OnlineConf: `/myproject/payment/providers_queue`\n- Webhook handlers: `internal/app/transport/rest/webhooks_*/v1/handler/`\n\n## Running Specific Tests\n\n```bash\nmake goat-tests-api-run TEST=TestPaymentTestSuite/TestPaymentLifecycle\n</code></pre> ```</p>"},{"location":"ai-agents/llms-md/#_11","title":"\u042f\u0437\u044b\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430","text":"<p>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 \u0434\u043b\u044f \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441 AI-\u0430\u0433\u0435\u043d\u0442\u0430\u043c\u0438. \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0443\u0441\u0441\u043a\u043e\u044f\u0437\u044b\u0447\u043d\u044b\u0435 \u0441\u0435\u043a\u0446\u0438\u0438 \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u043f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.</p>"},{"location":"architecture/","title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","text":"<p>\u042d\u0442\u043e\u0442 \u0440\u0430\u0437\u0434\u0435\u043b \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0443 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 Go Project Starter.</p> <p>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430</p> <p>\u0415\u0441\u043b\u0438 \u0432\u0430\u0441 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0441\u0430\u043c\u043e\u0433\u043e \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430, \u0441\u043c. \u0440\u0430\u0437\u0434\u0435\u043b \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430.</p>"},{"location":"architecture/#_2","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u2014 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0438 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432</li> </ul> <p>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430</p> <p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430.</p>"},{"location":"architecture/#_3","title":"\u041e\u0431\u0437\u043e\u0440","text":"<p>Go Project Starter \u2014 \u044d\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043a\u043e\u0434\u0430, \u0430 \u043d\u0435 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0438\u043b\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430. \u041e\u043d \u0447\u0438\u0442\u0430\u0435\u0442 YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0443 Go-\u043f\u0440\u043e\u0435\u043a\u0442 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432.</p> <pre><code>graph LR\n    A[YAML Config] --&gt; B[Go Project Starter]\n    B --&gt; C[Production-Ready Project]\n    C --&gt; D[REST APIs]\n    C --&gt; E[gRPC Services]\n    C --&gt; F[Workers]\n    C --&gt; G[Infrastructure]</code></pre>"},{"location":"architecture/#_4","title":"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u0438","text":""},{"location":"architecture/#application","title":"Application","text":"<p>Application \u2014 \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u0430\u044f \u0435\u0434\u0438\u043d\u0438\u0446\u0430 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440).</p> <ul> <li>\u041e\u0434\u0438\u043d \u0431\u0438\u043d\u0430\u0440\u044c/\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043c\u043e\u0436\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432</li> <li>HTTP \u0441\u0435\u0440\u0432\u0435\u0440\u044b, gRPC \u0441\u0435\u0440\u0432\u0435\u0440\u044b, \u0432\u043e\u0440\u043a\u0435\u0440\u044b \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e</li> <li>\u041a\u0430\u0436\u0434\u044b\u0439 application \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e</li> </ul> <pre><code>applications:\n  # API Gateway \u0441 REST \u0438 gRPC\n  - name: gateway\n    transport: [rest_api, grpc_users]\n\n  # \u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 worker instance\n  - name: workers\n    workers: [telegram_bot, kafka_consumer]\n</code></pre>"},{"location":"architecture/#transport","title":"Transport","text":"<p>Transport \u2014 \u0441\u043b\u043e\u0439 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0443.</p> \u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u0416\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b REST HTTP/JSON \u0421\u043b\u0443\u0448\u0430\u0435\u0442 \u043f\u043e\u0440\u0442 \u2192 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u044b gRPC HTTP2/protobuf \u0421\u043b\u0443\u0448\u0430\u0435\u0442 \u043f\u043e\u0440\u0442 \u2192 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u044b CLI stdin/stdout \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u2192 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u2192 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f Kafka Kafka protocol \u0421\u043b\u0443\u0448\u0430\u0435\u0442 \u0442\u043e\u043f\u0438\u043a\u0438 \u2192 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"},{"location":"architecture/#driver","title":"Driver","text":"<p>Driver \u2014 \u0430\u0434\u0430\u043f\u0442\u0435\u0440 \u043c\u0435\u0436\u0434\u0443 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u043e\u0439 \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c API (Telegram, S3, \u0438 \u0442.\u0434.)</p> <p>\u0412\u0441\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 <code>Runnable</code>:</p> <pre><code>type Runnable interface {\n    Init(ctx context.Context) error\n    Run(ctx context.Context) error\n    Shutdown(ctx context.Context) error\n    GracefulShutdown(ctx context.Context) error\n}\n</code></pre> <ul> <li>\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b (Telegram) \u2014 \u0438\u043c\u0435\u044e\u0442 \u0444\u043e\u043d\u043e\u0432\u044b\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b</li> <li>\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b (S3) \u2014 no-op \u0432 \u043c\u0435\u0442\u043e\u0434\u0435 Run</li> </ul>"},{"location":"architecture/#disclaimer-","title":"Disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b","text":"<p>\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u2014 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// ==========================================\n\nfunc (h *Handler) CreateUser(ctx context.Context, req *CreateUserRequest) (*User, error) {\n    // \u0412\u0430\u0448 \u043a\u043e\u0434 \u0437\u0434\u0435\u0441\u044c - \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0451\u0442 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e!\n}\n</code></pre>"},{"location":"architecture/#_5","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u2014 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432</li> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u2014 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430</li> </ul>"},{"location":"architecture/generated-project/","title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0438 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u043e\u0432 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 Go-\u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.</p>"},{"location":"architecture/generated-project/#_2","title":"\u041e\u0431\u0449\u0430\u044f \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","text":"<p>\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u0430\u043c \u0441\u043b\u043e\u0438\u0441\u0442\u043e\u0439 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b \u0441 \u0447\u0451\u0442\u043a\u0438\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435\u043c \u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438. \u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u0435\u0440\u0445\u0443 \u0432\u043d\u0438\u0437 \u2014 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u0441\u043b\u043e\u0439 \u043e\u0431\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0443, \u0441\u0435\u0440\u0432\u0438\u0441 \u2014 \u043a \u0434\u0430\u043d\u043d\u044b\u043c.</p> <pre><code>flowchart TB\n    NET_IN((Network)) -.-&gt; TRANSPORT\n\n    subgraph TRANSPORT[\"Transport Layer\"]\n        direction LR\n        API[\"&lt;b&gt;API&lt;/b&gt;&lt;br/&gt;Authorise \u00b7 Helpers&lt;br/&gt;Handlers\"]\n        CLI[\"&lt;b&gt;CLI&lt;/b&gt;&lt;br/&gt;Authorise&lt;br/&gt;Handlers\"]\n        WORKERS[\"&lt;b&gt;Workers&lt;/b&gt;&lt;br/&gt;Jobs\"]\n        BOTS[\"&lt;b&gt;Bots&lt;/b&gt;&lt;br/&gt;Authorise \u00b7 Helpers&lt;br/&gt;Handlers\"]\n    end\n\n    TRANSPORT --&gt; SERVICE[\"&lt;b&gt;Service&lt;/b&gt;\"]\n\n    SERVICE --&gt; DATA\n\n    subgraph DATA[\"Data Layer\"]\n        direction LR\n        CLIENTS[Clients]\n        MODELS[Models]\n        DRIVERS[Drivers]\n    end\n\n    MODELS --&gt; DB_CONN[DB connectors] -.-&gt; DB[(DB)]\n    CLIENTS &amp; DRIVERS -.-&gt; NET_OUT((Network))\n\n    style TRANSPORT fill:#e3f2fd\n    style DATA fill:#fff3e0\n    style SERVICE fill:#e8f5e9,stroke:#4caf50</code></pre> <p>Config (OnlineConf)</p> <p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u0430 \u0432\u0441\u0435\u0445 \u0441\u043b\u043e\u044f\u0445 \u2014 Transport, Service, Data. \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u043a\u0430\u043a \u0441\u0438\u043d\u0433\u043b\u0442\u043e\u043d \u0447\u0435\u0440\u0435\u0437 OnlineConf.</p> <p>\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0438:</p> \u0421\u043b\u043e\u0439 \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Transport API, CLI, Workers, Bots \u0422\u043e\u0447\u043a\u0438 \u0432\u0445\u043e\u0434\u0430 \u0441 Authorise, Helpers, Handlers/Jobs Service \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442, \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438 Data Clients, Models, Drivers \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c DB connectors \u041a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u044b \u043a \u0411\u0414 \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0431\u0430\u0437\u0430\u043c \u0434\u0430\u043d\u043d\u044b\u0445 Config OnlineConf \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u0430 \u0432\u0441\u0435\u0445 \u0441\u043b\u043e\u044f\u0445 <p>\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u0441\u0432\u044f\u0437\u0438:</p> <ul> <li>Network (\u0432\u0432\u0435\u0440\u0445\u0443) \u2192 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043a API \u0438 Bots</li> <li>Network (\u0432\u043d\u0438\u0437\u0443) \u2190 \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043e\u0442 Clients \u0438 Drivers</li> <li>DB \u2190 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043a \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0447\u0435\u0440\u0435\u0437 DB connectors</li> </ul>"},{"location":"architecture/generated-project/#_3","title":"\u0422\u0440\u0451\u0445\u0441\u043b\u043e\u0439\u043d\u044b\u0439 \u0434\u0438\u0437\u0430\u0439\u043d","text":"<p>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0430 \u043d\u0430 \u0442\u0440\u0451\u0445 \u0441\u043b\u043e\u044f\u0445 \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439:</p> <pre><code>flowchart TB\n    subgraph LAYER1[\"&lt;b&gt;\u0421\u043b\u043e\u0439 1: internal/app/&lt;/b&gt;&lt;br/&gt;\u041f\u0440\u043e\u0435\u043a\u0442-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0439 \u043a\u043e\u0434\"]\n        L1_DESC[\"\u2713 \u0417\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0430&lt;br/&gt;\u2713 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043b\u043e\u0433\u0433\u0435\u0440&lt;br/&gt;\u2713 \u0417\u043d\u0430\u0435\u0442 \u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430\u0445\"]\n    end\n\n    subgraph LAYER2[\"&lt;b&gt;\u0421\u043b\u043e\u0439 2: internal/pkg/&lt;/b&gt;&lt;br/&gt;\u041f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434\"]\n        L2_DESC[\"\u2717 \u041d\u0415 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0430&lt;br/&gt;\u2717 \u041d\u0415 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d \u043a \u043b\u043e\u0433\u0433\u0435\u0440\u0443&lt;br/&gt;\u2713 \u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432\u0432\u0435\u0440\u0445\"]\n    end\n\n    subgraph LAYER3[\"&lt;b&gt;\u0421\u043b\u043e\u0439 3: pkg/&lt;/b&gt;&lt;br/&gt;Runtime \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438\"]\n        L3_DESC[\"\u2717 \u041d\u0415 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0430&lt;br/&gt;\u2717 \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c&lt;br/&gt;\u2713 \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043d\u0435\u0441\u0435\u043d \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c\"]\n    end\n\n    LAYER1 --&gt;|\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442| LAYER2\n    LAYER2 --&gt;|\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u0442| LAYER3\n\n    style LAYER1 fill:#fff3e0,stroke:#ff9800\n    style LAYER2 fill:#e8f5e9,stroke:#4caf50\n    style LAYER3 fill:#f3e5f5,stroke:#9c27b0</code></pre>"},{"location":"architecture/generated-project/#_4","title":"\u041f\u043e\u0447\u0435\u043c\u0443 \u044d\u0442\u043e \u0432\u0430\u0436\u043d\u043e?","text":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u0432 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0435 \u0421\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u041d\u0438\u0436\u043d\u0438\u0435 \u0441\u043b\u043e\u0438 \u043d\u0435 \u0437\u0430\u0432\u0438\u0441\u044f\u0442 \u043e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u2014 \u043b\u0435\u0433\u043a\u043e \u043c\u043e\u043a\u0430\u0442\u044c \u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0430 \u043a \u043b\u043e\u0433\u0433\u0435\u0440\u0443 <code>internal/pkg</code> \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0438, \u043b\u043e\u0433\u0433\u0435\u0440 \u2014 \u043d\u0430 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u0443\u0440\u043e\u0432\u043d\u0435 \u041f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 <code>pkg/</code> \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043d\u0435\u0441\u0442\u0438 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 go module \u0426\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u0435\u0440\u0445\u0443 \u0432\u043d\u0438\u0437"},{"location":"architecture/generated-project/#spec-first","title":"Spec-First \u043f\u043e\u0434\u0445\u043e\u0434","text":"<p>\u041e\u0434\u043d\u0430 \u0438\u0437 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0435\u0439 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u2014 \u043f\u043e\u0434\u0445\u043e\u0434 spec-first (\u0438\u043b\u0438 contract-first):</p> <pre><code>flowchart LR\n    SPEC[OpenAPI/Proto&lt;br/&gt;\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f] --&gt; GEN{\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440}\n    GEN --&gt; SERVER[Server Code&lt;br/&gt;Handlers]\n    GEN --&gt; CLIENT[Client Code&lt;br/&gt;HTTP/gRPC \u043a\u043b\u0438\u0435\u043d\u0442\u044b]\n\n    style SPEC fill:#e3f2fd\n    style SERVER fill:#e8f5e9\n    style CLIENT fill:#fff3e0</code></pre> <p>\u041f\u0440\u0438\u043d\u0446\u0438\u043f: \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0434\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043b\u044e\u0431\u043e\u0433\u043e \u043a\u043e\u0434\u0430. \u041f\u043e \u044d\u0442\u043e\u0439 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f:</p> <ul> <li>\u0421\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434 \u2014 handlers \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u043a\u043e\u0434 \u2014 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432</li> </ul> <p>\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430:</p> \u0410\u0441\u043f\u0435\u043a\u0442 \u0412\u044b\u0433\u043e\u0434\u0430 \u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442 API \u043e\u043f\u0438\u0441\u0430\u043d \u0434\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u2014 frontend \u0438 backend \u043c\u043e\u0433\u0443\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0422\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u044f \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u041a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u044c \u041a\u043b\u0438\u0435\u043d\u0442 \u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0441\u0435\u0433\u0434\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043e\u0434\u043d\u043e\u0439 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"},{"location":"architecture/generated-project/#_5","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043b\u043e\u0451\u0432","text":""},{"location":"architecture/generated-project/#pkg-runtime","title":"\u0421\u043b\u043e\u0439 <code>pkg/</code> (Runtime)","text":"<pre><code>flowchart LR\n    subgraph PKG[\"pkg/\"]\n        APP[\"app/&lt;br/&gt;Lifecycle\"]\n        DRIVERS[\"drivers/&lt;br/&gt;DB, Redis, S3...\"]\n        REST[\"rest/&lt;br/&gt;HTTP \u043a\u043b\u0438\u0435\u043d\u0442\u044b\"]\n        MIDDLEWARE[\"middleware/&lt;br/&gt;HTTP middleware\"]\n    end\n\n    style PKG fill:#f3e5f5,stroke:#9c27b0</code></pre> <p>\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: Runtime-\u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u043c\u0435\u0436\u0434\u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438.</p> <p>\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f:</p> <ul> <li>\u2717 \u041d\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u043e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>\u2717 \u041d\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u043e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0439 \u043b\u043e\u0433\u0433\u0435\u0440\u0430</li> <li>\u2713 \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043d\u0435\u0441\u0435\u043d \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 go module</li> </ul> <p>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435:</p> \u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u0440\u044b <code>pkg/app/</code> \u0416\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>Runnable</code> \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441, graceful shutdown <code>pkg/drivers/</code> \u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 PostgreSQL, Redis, S3, Telegram <code>pkg/rest/</code> \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 REST \u043a\u043b\u0438\u0435\u043d\u0442\u044b Ogen-\u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 API <code>pkg/middleware/</code> HTTP middleware Metrics, tracing, auth"},{"location":"architecture/generated-project/#internalpkg-generated-core","title":"\u0421\u043b\u043e\u0439 <code>internal/pkg/</code> (Generated Core)","text":"<pre><code>flowchart LR\n    subgraph IPKG[\"internal/pkg/\"]\n        MODEL[\"model/&lt;br/&gt;\u041c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445\"]\n        SERVICE[\"service/&lt;br/&gt;\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b\"]\n        REPO[\"repository/&lt;br/&gt;\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c\"]\n        CONSTANT[\"constant/&lt;br/&gt;\u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b\"]\n    end\n\n    style IPKG fill:#e8f5e9,stroke:#4caf50</code></pre> <p>\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434, \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043c\u0435\u0436\u0434\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0430.</p> <p>\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f:</p> <ul> <li>\u2717 \u041d\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a</li> <li>\u2717 \u041d\u0435 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d \u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043b\u043e\u0433\u0433\u0435\u0440\u0443</li> <li>\u2713 \u0424\u0443\u043d\u043a\u0446\u0438\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u0432\u0432\u0435\u0440\u0445, \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2014 \u043d\u0430 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u0443\u0440\u043e\u0432\u043d\u0435</li> </ul> <p>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435:</p> \u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430 <code>model/</code> \u041c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 <code>type User struct {...}</code> <code>service/</code> \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 <code>type UserService interface {...}</code> <code>repository/</code> \u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438 <code>func (r *Repo) GetUser(ctx, id)</code> <code>constant/</code> \u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b <code>const ServiceName = \"my-api\"</code>"},{"location":"architecture/generated-project/#internalapp-project-specific","title":"\u0421\u043b\u043e\u0439 <code>internal/app/</code> (Project-Specific)","text":"<pre><code>flowchart LR\n    subgraph IAPP[\"internal/app/{app_name}/\"]\n        TRANSPORT[\"transport/&lt;br/&gt;REST, gRPC, CLI\"]\n        WORKER[\"worker/&lt;br/&gt;Telegram, Daemon\"]\n        SVC[\"service/&lt;br/&gt;\u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430\"]\n    end\n\n    style IAPP fill:#fff3e0,stroke:#ff9800</code></pre> <p>\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041a\u043e\u0434, \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0439 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.</p> <p>\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438:</p> <ul> <li>\u2713 \u041c\u043e\u0436\u0435\u0442 \u0437\u0430\u0432\u0438\u0441\u0435\u0442\u044c \u043e\u0442 \u043a\u043e\u043d\u0444\u0438\u0433\u0430</li> <li>\u2713 \u041c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 (\u043b\u043e\u0433\u0433\u0435\u0440, \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b)</li> <li>\u2713 \u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0443 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432</li> </ul> <p>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435:</p> \u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u0440 <code>transport/rest/</code> REST \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 <code>handler.go</code> \u0441 \u043c\u0435\u0442\u043e\u0434\u0430\u043c\u0438 API <code>transport/grpc/</code> gRPC \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f proto-\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432 <code>worker/</code> \u0424\u043e\u043d\u043e\u0432\u044b\u0435 \u0432\u043e\u0440\u043a\u0435\u0440\u044b Telegram bot, Kafka consumer <code>service/</code> \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u0430\u044f \u0434\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u0438\u043a\u0430"},{"location":"architecture/generated-project/#service-","title":"Service \u2014 \u044f\u0434\u0440\u043e \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438","text":"<p>Service \u2014 \u044d\u0442\u043e \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0432\u0441\u044e \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0443 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432, \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432 \u0438\u043b\u0438 \u0431\u043e\u0442\u043e\u0432 \u2014 \u0432\u0441\u0435 \u043e\u043d\u0438 \u043e\u0431\u0440\u0430\u0449\u0430\u044e\u0442\u0441\u044f \u043a \u043e\u0434\u043d\u043e\u043c\u0443 \u0438 \u0442\u043e\u043c\u0443 \u0436\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0443.</p> <pre><code>flowchart TB\n    subgraph TRANSPORTS[\"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u0441\u043b\u043e\u0439\"]\n        REST[REST API]\n        GRPC[gRPC]\n        CLI[CLI]\n        BOT[Telegram Bot]\n        WORKER[Worker]\n    end\n\n    subgraph CORE[\"\u042f\u0434\u0440\u043e\"]\n        SERVICE[Service&lt;br/&gt;\u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430]\n    end\n\n    subgraph DATA[\"\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c\"]\n        MODEL[Model/ORM]\n        CLIENT[REST/gRPC \u043a\u043b\u0438\u0435\u043d\u0442\u044b]\n        DRIVER[Drivers]\n    end\n\n    REST --&gt; SERVICE\n    GRPC --&gt; SERVICE\n    CLI --&gt; SERVICE\n    BOT --&gt; SERVICE\n    WORKER --&gt; SERVICE\n\n    SERVICE --&gt; MODEL\n    SERVICE --&gt; CLIENT\n    SERVICE --&gt; DRIVER\n\n    style CORE fill:#e8f5e9,stroke:#4caf50</code></pre> <p>\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043f\u0440\u0438\u043d\u0446\u0438\u043f\u044b:</p> <ol> <li>\u0415\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438 \u2014 \u0432\u0441\u044f \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u043b\u0435\u0436\u0438\u0442 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435</li> <li>\u0418\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0441\u0442\u044c \u2014 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0435 \u0437\u043d\u0430\u0435\u0442 \u043e \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430\u0445, \u043e\u043d \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0431\u0438\u0437\u043d\u0435\u0441-\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438</li> <li>\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u2014 \u043f\u0440\u0438 \u0440\u0430\u0441\u043f\u0438\u043b\u0438\u0432\u0430\u043d\u0438\u0438 \u043c\u043e\u043d\u043e\u0440\u0435\u043f\u043e \u043d\u0430 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b, \u0438\u043c\u0435\u043d\u043d\u043e \u0441\u0435\u0440\u0432\u0438\u0441 \u0431\u0443\u0434\u0435\u0442 \u0440\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u0442\u044c\u0441\u044f</li> </ol> <p>\u0427\u0442\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u0443:</p> \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Model ORM \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0431\u0430\u0437\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e go-active-record) Client \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043a \u0434\u0440\u0443\u0433\u0438\u043c \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c (REST, gRPC) Driver \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u044b \u043a \u0432\u043d\u0435\u0448\u043d\u0438\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c Config \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 OnlineConf (\u0441\u0438\u043d\u0433\u043b\u0442\u043e\u043d) <p>\u0412\u0430\u0436\u043d\u043e: \u0423\u0434\u0435\u043b\u044f\u0439\u0442\u0435 \u043e\u0441\u043e\u0431\u043e\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430. \u041a\u0430\u0436\u0434\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u043d, \u0447\u0442\u043e\u0431\u044b \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u043c \u0435\u0433\u043e \u0431\u044b\u043b\u043e \u043f\u0440\u043e\u0449\u0435 \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441.</p>"},{"location":"architecture/generated-project/#_6","title":"\u0422\u0438\u043f\u044b \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432","text":"<p>\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u0441\u043b\u043e\u0439 \u0434\u0435\u043b\u0438\u0442\u0441\u044f \u043d\u0430 4 \u0442\u0438\u043f\u0430 \u043f\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0443 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439:</p> <pre><code>flowchart TB\n    subgraph INCOMING[\"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b\"]\n        REST[REST API&lt;br/&gt;\u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 HTTP \u0437\u0430\u043f\u0440\u043e\u0441\u044b]\n        GRPC[gRPC&lt;br/&gt;\u041f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 RPC \u0432\u044b\u0437\u043e\u0432\u044b]\n    end\n\n    subgraph POLLING[\"\u041e\u043f\u0440\u043e\u0441/\u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430\"]\n        BOT[Bots&lt;br/&gt;\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c,&lt;br/&gt;\u0447\u0438\u0442\u0430\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f]\n        WORKER[Workers&lt;br/&gt;\u0411\u0435\u0440\u0451\u0442 \u0437\u0430\u0434\u0430\u0447\u0438 \u0438\u0437 \u043e\u0447\u0435\u0440\u0435\u0434\u0438,&lt;br/&gt;\u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0432 \u0446\u0438\u043a\u043b\u0435]\n    end\n\n    subgraph UTILITY[\"\u0423\u0442\u0438\u043b\u0438\u0442\u044b\"]\n        CLI[CLI&lt;br/&gt;\u041a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b&lt;br/&gt;\u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f]\n    end\n\n    style INCOMING fill:#e3f2fd\n    style POLLING fill:#fff3e0\n    style UTILITY fill:#e8f5e9</code></pre> \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u0440\u044b API (REST/gRPC) \u041f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442, \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442 HTTP \u044d\u043d\u0434\u043f\u043e\u0438\u043d\u0442\u044b, gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b Workers \u0414\u0435\u043c\u043e\u043d\u044b \u0441 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u043c \u0446\u0438\u043a\u043b\u043e\u043c, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442 \u0434\u0436\u043e\u0431\u044b \u043f\u0430\u0447\u043a\u0430\u043c\u0438 \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u0435\u0439, cron-\u0437\u0430\u0434\u0430\u0447\u0438 Bots \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u044e\u0442\u0441\u044f \u043a \u0432\u043d\u0435\u0448\u043d\u0438\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c, \u0436\u0434\u0443\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f Telegram, Slack \u0431\u043e\u0442\u044b CLI \u041a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u044b\u0435 \u0443\u0442\u0438\u043b\u0438\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u043e\u0432\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u0438, \u0430\u0434\u043c\u0438\u043d\u0441\u043a\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b <p>Workers vs Bots:</p> <ul> <li>Workers \u2014 \u0441\u0430\u043c\u0438 \u0431\u0435\u0440\u0443\u0442 \u0437\u0430\u0434\u0430\u0447\u0438 (pull-\u043c\u043e\u0434\u0435\u043b\u044c)</li> <li>Bots \u2014 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043e\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c (push-\u043c\u043e\u0434\u0435\u043b\u044c)</li> </ul>"},{"location":"architecture/generated-project/#application","title":"\u041a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f Application","text":"<p>Application \u2014 \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u0430\u044f \u0435\u0434\u0438\u043d\u0438\u0446\u0430 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440).</p> <pre><code>flowchart TB\n    subgraph SERVICE[\"\u041e\u0434\u0438\u043d \u0441\u0435\u0440\u0432\u0438\u0441 (codebase)\"]\n        subgraph APP1[\"Application: gateway\"]\n            REST1[REST API v1]\n            GRPC1[gRPC Users]\n        end\n\n        subgraph APP2[\"Application: workers\"]\n            TG[Telegram Bot]\n            KAFKA[Kafka Consumer]\n        end\n\n        subgraph APP3[\"Application: admin\"]\n            REST2[REST Admin API]\n        end\n    end\n\n    subgraph DEPLOY[\"Kubernetes/Docker\"]\n        POD1[Pod: gateway&lt;br/&gt;replicas: 3]\n        POD2[Pod: workers&lt;br/&gt;replicas: 1]\n        POD3[Pod: admin&lt;br/&gt;replicas: 1]\n    end\n\n    APP1 -.-&gt; POD1\n    APP2 -.-&gt; POD2\n    APP3 -.-&gt; POD3\n\n    style SERVICE fill:#e3f2fd\n    style DEPLOY fill:#e8f5e9</code></pre>"},{"location":"architecture/generated-project/#_7","title":"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438","text":"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0410\u0442\u043e\u043c\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u041e\u0434\u0438\u043d \u0431\u0438\u043d\u0430\u0440\u044c = \u043e\u0434\u0438\u043d \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 = \u043e\u0434\u0438\u043d pod \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b HTTP \u0441\u0435\u0440\u0432\u0435\u0440\u044b, gRPC \u0441\u0435\u0440\u0432\u0435\u0440\u044b, \u0432\u043e\u0440\u043a\u0435\u0440\u044b \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041a\u0430\u0436\u0434\u043e\u0435 application \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u041a\u0430\u0436\u0434\u043e\u0435 application \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u0432\u043e\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <pre><code>applications:\n  # API Gateway \u0441 REST \u0438 gRPC (\u0432\u044b\u0441\u043e\u043a\u043e\u043d\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0439)\n  - name: gateway\n    transport:\n      - name: rest_api\n      - name: grpc_users\n\n  # \u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 worker instance (\u043e\u0434\u0438\u043d \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440)\n  - name: workers\n    worker: [telegram_bot]\n    kafka: [order_consumer]\n\n  # \u0412\u0441\u0451-\u0432-\u043e\u0434\u043d\u043e\u043c \u0434\u043b\u044f \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0434\u0435\u043f\u043b\u043e\u0435\u0432\n  - name: monolith\n    transport:\n      - name: rest_api\n      - name: grpc_users\n    worker: [telegram_bot]\n</code></pre>"},{"location":"architecture/generated-project/#application_1","title":"\u0416\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b Application","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Init: \u0417\u0430\u043f\u0443\u0441\u043a\n\n    state Init {\n        [*] --&gt; LoadConfig: 1. \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0430\n        LoadConfig --&gt; CreateLogger: 2. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043b\u043e\u0433\u0433\u0435\u0440\u0430\n        CreateLogger --&gt; InitDrivers: 3. Init \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432\n        InitDrivers --&gt; [*]\n    }\n\n    Init --&gt; Run: \u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n\n    state Run {\n        [*] --&gt; RunDrivers: 1. Run \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432\n        RunDrivers --&gt; StartHTTP: 2. \u0417\u0430\u043f\u0443\u0441\u043a HTTP \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432\n        StartHTTP --&gt; StartGRPC: 3. \u0417\u0430\u043f\u0443\u0441\u043a gRPC \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432\n        StartGRPC --&gt; StartWorkers: 4. \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432\n        StartWorkers --&gt; Serving: \u0412\u0441\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u044b\n        Serving --&gt; [*]: SIGTERM/SIGINT\n    }\n\n    Run --&gt; Shutdown: \u0421\u0438\u0433\u043d\u0430\u043b \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f\n\n    state Shutdown {\n        [*] --&gt; GracefulWorkers: 1. Graceful shutdown \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432\n        GracefulWorkers --&gt; StopHTTP: 2. \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 HTTP (drain)\n        StopHTTP --&gt; StopGRPC: 3. \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 gRPC\n        StopGRPC --&gt; ShutdownDrivers: 4. Shutdown \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432\n        ShutdownDrivers --&gt; [*]\n    }\n\n    Shutdown --&gt; [*]: \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435</code></pre>"},{"location":"architecture/generated-project/#_8","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430","text":"<p>\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c: \u041f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0431\u0435\u0437 \u043f\u043e\u0442\u0435\u0440\u0438 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.</p> <p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440:</p> <pre><code>// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// Changes manually made below will not be overwritten by generator.\n// ==========================================\n\nfunc (h *Handler) CreateUser(ctx context.Context, req *CreateUserRequest) (*User, error) {\n    // \u0412\u0430\u0448\u0430 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0437\u0434\u0435\u0441\u044c\n    // \u042d\u0442\u043e\u0442 \u043a\u043e\u0434 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0451\u0442 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e!\n\n    user := &amp;User{\n        Email: req.Email,\n        Name:  req.Name,\n    }\n\n    // \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f\n    if err := h.validateBusinessRules(user); err != nil {\n        return nil, err\n    }\n\n    return h.repo.Create(ctx, user)\n}\n</code></pre> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430:</p> <ol> <li>\u041a\u043e\u0434 \u0432\u044b\u0448\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435</li> <li>\u041a\u043e\u0434 \u043d\u0438\u0436\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430</li> <li>\u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u2014 \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0435\u0433\u043e \u043d\u0438\u0436\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430</li> </ol>"},{"location":"architecture/generated-project/#_9","title":"\u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439","text":"<p>\u0414\u0440\u0430\u0439\u0432\u0435\u0440 \u2014 \u0430\u0434\u0430\u043f\u0442\u0435\u0440 \u043c\u0435\u0436\u0434\u0443 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u043e\u0439 \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c API.</p> <pre><code>flowchart LR\n    subgraph APP[\"Application\"]\n        SERVICE[Service&lt;br/&gt;\u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430]\n    end\n\n    subgraph INTERFACE[\"Interface\"]\n        IFACE[\"SendMessage(ctx, msg)&lt;br/&gt;GetFile(ctx, id)\"]\n    end\n\n    subgraph DRIVERS[\"Drivers\"]\n        TG[Telegram Driver]\n        SLACK[Slack Driver]\n        MOCK[Mock Driver]\n    end\n\n    subgraph EXTERNAL[\"External APIs\"]\n        TG_API[Telegram API]\n        SLACK_API[Slack API]\n    end\n\n    SERVICE --&gt; IFACE\n    IFACE -.-&gt; TG\n    IFACE -.-&gt; SLACK\n    IFACE -.-&gt; MOCK\n    TG --&gt; TG_API\n    SLACK --&gt; SLACK_API\n\n    style APP fill:#fff3e0\n    style INTERFACE fill:#e8f5e9\n    style DRIVERS fill:#e3f2fd\n    style EXTERNAL fill:#fce4ec</code></pre>"},{"location":"architecture/generated-project/#_10","title":"\u041f\u0440\u0438\u043d\u0446\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b","text":"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c Service \u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 (\"\u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\") Interface \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043a\u043e\u043d\u0442\u0440\u0430\u043a\u0442 (\u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c) Driver \u0422\u0440\u0430\u043d\u0441\u043b\u0438\u0440\u0443\u0435\u0442 \u0432\u044b\u0437\u043e\u0432 \u0432 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 API <p>\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430:</p> <ul> <li>\u0417\u0430\u043c\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438</li> <li>\u041b\u0451\u0433\u043a\u043e\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 mock-\u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b</li> <li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u0432 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e</li> </ul>"},{"location":"architecture/generated-project/#runnable","title":"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 Runnable","text":"<p>\u0412\u0441\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442 \u0443\u043d\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0436\u0438\u0437\u043d\u0435\u043d\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430:</p> <pre><code>type Runnable interface {\n    Init(ctx context.Context) error           // \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439\n    Run(ctx context.Context) error            // \u0417\u0430\u043f\u0443\u0441\u043a \u0444\u043e\u043d\u043e\u0432\u044b\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432\n    Shutdown(ctx context.Context) error       // \u041d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u0430\u044f \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\n    GracefulShutdown(ctx context.Context) error // Graceful \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\n}\n</code></pre>"},{"location":"architecture/generated-project/#_11","title":"\u0422\u0438\u043f\u044b \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432","text":"<pre><code>flowchart TB\n    subgraph ACTIVE[\"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b\"]\n        TG[\"Telegram&lt;br/&gt;webhook listener\"]\n        WS[\"WebSocket&lt;br/&gt;connection pool\"]\n    end\n\n    subgraph PASSIVE[\"\u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b\"]\n        S3[\"S3&lt;br/&gt;on-demand calls\"]\n        DB[\"PostgreSQL&lt;br/&gt;connection pool\"]\n    end\n\n    ACTIVE --&gt;|Run \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442| GOROUTINE[\u0424\u043e\u043d\u043e\u0432\u0430\u044f \u0433\u043e\u0440\u0443\u0442\u0438\u043d\u0430]\n    PASSIVE --&gt;|Run = no-op| NOOP[\u041d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 \u0432\u043e\u0437\u0432\u0440\u0430\u0442]\n\n    style ACTIVE fill:#fff3e0\n    style PASSIVE fill:#e8f5e9</code></pre> \u0422\u0438\u043f \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u041c\u0435\u0442\u043e\u0434 Run \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 Telegram, WebSocket \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442, \u0441\u043b\u0443\u0448\u0430\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0435 S3, PostgreSQL No-op, \u0432\u044b\u0437\u043e\u0432\u044b \u043f\u043e \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044e"},{"location":"architecture/generated-project/#middleware-stack","title":"Middleware Stack","text":"<pre><code>flowchart TB\n    REQ[HTTP Request] --&gt; MW1\n\n    subgraph MIDDLEWARE[\"Middleware Chain\"]\n        MW1[\"1. Context Creation&lt;br/&gt;\u0442\u0430\u0439\u043c\u0430\u0443\u0442, cancel\"]\n        MW2[\"2. Panic Recovery&lt;br/&gt;\u043f\u0435\u0440\u0435\u0445\u0432\u0430\u0442 \u043f\u0430\u043d\u0438\u043a\"]\n        MW3[\"3. Request Timing&lt;br/&gt;\u0432\u0440\u0435\u043c\u044f \u043d\u0430\u0447\u0430\u043b\u0430\"]\n        MW4[\"4. Tracing&lt;br/&gt;x-req-id header\"]\n        MW5[\"5. Metrics&lt;br/&gt;Prometheus counters\"]\n        MW6[\"6. X-Server Header&lt;br/&gt;\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\"]\n        MW7[\"7. HTTP Auth&lt;br/&gt;(\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)\"]\n        MW8[\"8. CSRF Protection&lt;br/&gt;(\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)\"]\n\n        MW1 --&gt; MW2 --&gt; MW3 --&gt; MW4 --&gt; MW5 --&gt; MW6 --&gt; MW7 --&gt; MW8\n    end\n\n    MW8 --&gt; HANDLER[Handler&lt;br/&gt;\u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430]\n    HANDLER --&gt; RESP[HTTP Response]\n\n    style MIDDLEWARE fill:#e3f2fd</code></pre>"},{"location":"architecture/generated-project/#middleware","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 middleware","text":"# Middleware \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 1 Context Creation \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 request context \u0441 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u043e\u043c \u0438 cancel \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439 2 Panic Recovery \u041f\u0435\u0440\u0435\u0445\u0432\u0430\u0442 \u043f\u0430\u043d\u0438\u043a, \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 stack trace, \u0432\u043e\u0437\u0432\u0440\u0430\u0442 500 3 Request Timing \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 context 4 Tracing \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435/\u043f\u0440\u043e\u0431\u0440\u043e\u0441 trace ID (<code>x-req-id</code> header) 5 Metrics \u0421\u0431\u043e\u0440 Prometheus \u043c\u0435\u0442\u0440\u0438\u043a (latency, status codes, in-flight) 6 X-Server Header \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430 \u0441 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0430 7 HTTP Auth Actor-based \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e) 8 CSRF Protection \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f CSRF \u0442\u043e\u043a\u0435\u043d\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"},{"location":"architecture/generated-project/#request-flow","title":"\u041f\u043e\u0442\u043e\u043a \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (Request Flow)","text":"<p>\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0443\u0442\u044c HTTP-\u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0447\u0435\u0440\u0435\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u0443:</p> <pre><code>sequenceDiagram\n    participant Client\n    participant Traefik as Traefik&lt;br/&gt;(reverse proxy)\n    participant HTTP as HTTP Server\n    participant MW as Middleware Chain\n    participant Handler as Handler\n    participant Service as Service\n    participant Repo as Repository\n    participant DB as Database\n\n    Client-&gt;&gt;Traefik: POST /api/v1/users\n    Traefik-&gt;&gt;HTTP: Forward request\n\n    HTTP-&gt;&gt;MW: Process request\n    Note over MW: 1. Context + timeout&lt;br/&gt;2. Panic recovery&lt;br/&gt;3. Tracing (x-req-id)&lt;br/&gt;4. Metrics start\n\n    MW-&gt;&gt;Handler: Call handler\n    Handler-&gt;&gt;Service: CreateUser(ctx, req)\n    Service-&gt;&gt;Repo: repo.Create(ctx, user)\n    Repo-&gt;&gt;DB: INSERT INTO users...\n    DB--&gt;&gt;Repo: OK\n    Repo--&gt;&gt;Service: user, nil\n    Service--&gt;&gt;Handler: user, nil\n    Handler--&gt;&gt;MW: response\n\n    Note over MW: 5. Metrics end&lt;br/&gt;6. Log request\n\n    MW--&gt;&gt;HTTP: response\n    HTTP--&gt;&gt;Traefik: HTTP 201 Created\n    Traefik--&gt;&gt;Client: response</code></pre>"},{"location":"architecture/generated-project/#_12","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<pre><code>myservice/                         # ~50 \u0444\u0430\u0439\u043b\u043e\u0432, ~8000 \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430\n\u251c\u2500\u2500 cmd/\n\u2502   \u2514\u2500\u2500 server/                    # \u0422\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\n\u2502       \u2514\u2500\u2500 main.go\n\u2502\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 app/                       # \u041f\u0440\u043e\u0435\u043a\u0442-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0439 \u043a\u043e\u0434\n\u2502   \u2502   \u2514\u2500\u2500 {app_name}/\n\u2502   \u2502       \u251c\u2500\u2500 transport/\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 rest/\n\u2502   \u2502       \u2502   \u2502   \u2514\u2500\u2500 {api_name}/\n\u2502   \u2502       \u2502   \u2502       \u251c\u2500\u2500 handler.go     # \u2190 \u0412\u0410\u0428 \u041a\u041e\u0414 \u0417\u0414\u0415\u0421\u042c\n\u2502   \u2502       \u2502   \u2502       \u2514\u2500\u2500 middleware.go\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 grpc/\n\u2502   \u2502       \u2502       \u2514\u2500\u2500 {service_name}/\n\u2502   \u2502       \u2502           \u2514\u2500\u2500 handler.go\n\u2502   \u2502       \u251c\u2500\u2500 worker/\n\u2502   \u2502       \u2502   \u251c\u2500\u2500 telegram/\n\u2502   \u2502       \u2502   \u2502   \u2514\u2500\u2500 handler.go\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 daemon/\n\u2502   \u2502       \u2502       \u2514\u2500\u2500 handler.go\n\u2502   \u2502       \u2514\u2500\u2500 service/\n\u2502   \u2502           \u2514\u2500\u2500 service.go            # \u2190 \u0412\u0410\u0428 \u041a\u041e\u0414 \u0417\u0414\u0415\u0421\u042c\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 pkg/                       # \u041f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434\n\u2502       \u251c\u2500\u2500 model/                 # \u041c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445\n\u2502       \u251c\u2500\u2500 repository/            # \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c\n\u2502       \u251c\u2500\u2500 service/               # \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432\n\u2502       \u2514\u2500\u2500 constant/              # \u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b (ServiceName)\n\u2502\n\u251c\u2500\u2500 pkg/                           # Runtime \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438\n\u2502   \u251c\u2500\u2500 app/                       # Lifecycle\n\u2502   \u251c\u2500\u2500 drivers/                   # DB, Redis, S3...\n\u2502   \u251c\u2500\u2500 rest/                      # HTTP \u043a\u043b\u0438\u0435\u043d\u0442\u044b\n\u2502   \u2514\u2500\u2500 middleware/                # HTTP middleware\n\u2502\n\u251c\u2500\u2500 api/                           # API \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438\n\u2502   \u251c\u2500\u2500 openapi.yaml               # OpenAPI 3.0\n\u2502   \u2514\u2500\u2500 proto/                     # Protobuf \u0444\u0430\u0439\u043b\u044b\n\u2502\n\u251c\u2500\u2500 docker-compose.yaml            # \u041b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435\n\u251c\u2500\u2500 docker-compose-dev.yaml        # Dev \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0441 OnlineConf\n\u251c\u2500\u2500 Dockerfile                     # Multi-stage build (~50MB)\n\u251c\u2500\u2500 Makefile                       # 40+ targets\n\u2502\n\u2514\u2500\u2500 .github/\n    \u2514\u2500\u2500 workflows/                 # CI/CD\n        \u251c\u2500\u2500 ci.yaml                # Test, lint, build\n        \u2514\u2500\u2500 release.yaml           # Docker push\n</code></pre>"},{"location":"architecture/generated-project/#endpoints","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 endpoints","text":""},{"location":"architecture/generated-project/#system-healthmonitoring-sys","title":"System Health/Monitoring (\u0448\u0430\u0431\u043b\u043e\u043d <code>sys</code>)","text":"\u041c\u0435\u0442\u043e\u0434 \u041f\u0443\u0442\u044c \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 GET <code>/version</code> \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u0435\u0440\u0441\u0438\u0438 GET <code>/ready</code> Readiness probe GET <code>/live</code> Liveness probe GET <code>/metrics</code> Prometheus \u043c\u0435\u0442\u0440\u0438\u043a\u0438 GET <code>/debug/pprof/*</code> Go pprof \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{"location":"cli/","title":"CLI","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 Go Project Starter.</p>"},{"location":"cli/#_1","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u044b \u2014 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b (init, setup, migrate)</li> <li>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u2014 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430</li> </ul>"},{"location":"cli/#_2","title":"\u041e\u0431\u0437\u043e\u0440","text":"<p>Go Project Starter \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 CLI \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432:</p> <pre><code>go-project-starter [command] [flags]\n</code></pre>"},{"location":"cli/#_3","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0431\u0435\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b) \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 <code>init</code> \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 <code>setup</code> \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 CI/CD, \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, deploy \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 <code>migrate</code> \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e"},{"location":"cli/#_4","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\ngo install github.com/Educentr/go-project-starter/cmd/go-project-starter@latest\n\n# \u0421\u043f\u0440\u0430\u0432\u043a\u0430\ngo-project-starter --help\n\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\ngo-project-starter --config=config.yaml\n\n# \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard\ngo-project-starter init --target=.\n</code></pre>"},{"location":"cli/#_5","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u044b \u2014 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b</li> <li>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u2014 \u0432\u0441\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0444\u043b\u0430\u0433\u0438</li> </ul>"},{"location":"cli/commands/","title":"\u041a\u043e\u043c\u0430\u043d\u0434\u044b","text":"<p>\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434 Go Project Starter.</p>"},{"location":"cli/commands/#_2","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)","text":"<p>\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438\u0437 YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>go-project-starter --config=config.yaml\n</code></pre>"},{"location":"cli/commands/#_3","title":"\u0424\u043b\u0430\u0433\u0438","text":"\u0424\u043b\u0430\u0433 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>--config</code> \u041f\u0443\u0442\u044c \u043a \u0444\u0430\u0439\u043b\u0443 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 <code>project.yaml</code> <code>--configDir</code> \u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0441 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0435\u0439 <code>.</code> <code>--target</code> \u0426\u0435\u043b\u0435\u0432\u0430\u044f \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 <code>.</code> <code>--dry-run</code> \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0435\u0437 \u0437\u0430\u043f\u0438\u0441\u0438 \u0444\u0430\u0439\u043b\u043e\u0432 <code>false</code>"},{"location":"cli/commands/#_4","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b","text":"<pre><code># \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0432 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e\ngo-project-starter --config=config.yaml\n\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e\ngo-project-starter --config=config.yaml --target=./my-service\n\n# \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 (dry-run)\ngo-project-starter --dry-run --config=config.yaml --target=./my-service\n\n# \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0438\u0437 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\ngo-project-starter --configDir=.project-config --config=project.yaml --target=.\n</code></pre>"},{"location":"cli/commands/#init","title":"init","text":"<p>\u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <pre><code>go-project-starter init --target=.\n</code></pre>"},{"location":"cli/commands/#_5","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441","text":"<ol> <li>\u0412\u0432\u043e\u0434 \u0438\u043c\u0435\u043d\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>\u0412\u044b\u0431\u043e\u0440 \u043b\u043e\u0433\u0433\u0435\u0440\u0430 (zerolog)</li> <li>\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 Docker registry (github, digitalocean, aws, selfhosted)</li> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f</li> <li>\u0412\u044b\u0431\u043e\u0440 \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:</li> <li>REST API</li> <li>gRPC Service</li> <li>Telegram Bot</li> <li>Multi-app</li> </ol>"},{"location":"cli/commands/#_6","title":"\u0412\u044b\u0432\u043e\u0434","text":"<pre><code>=== Go Project Starter - Project Initialization ===\n\n--- Basic Information ---\n? Project name (lowercase, no spaces): my-service\n? Logger: zerolog\n? Docker registry type: github\n\n? Git repository URL: git@github.com:myorg/my-service.git\n? Go module path: github.com/myorg/my-service\n\n--- Project Type ---\n? What type of project? REST API\n\nConfiguration saved to .project-config/project.yaml\n\nNext steps:\n\n  1. Review and customize project.yaml\n  2. Run: go-project-starter --configDir=.project-config --target=.\n  3. Run: go-project-starter setup --configDir=.project-config --target=.\n</code></pre>"},{"location":"cli/commands/#setup","title":"setup","text":"<p>\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0440\u0430\u0437\u0432\u0451\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u2014 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 CI/CD, \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, deploy-\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432.</p> <pre><code>go-project-starter setup [command]\n</code></pre>"},{"location":"cli/commands/#_7","title":"\u041f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u044b","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0431\u0435\u0437 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u044b) \u041f\u043e\u043b\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard <code>ci</code> \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 CI/CD <code>server</code> \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 <code>deploy</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f deploy \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432"},{"location":"cli/commands/#wizard","title":"Wizard","text":"<p>\u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e:</p> <ol> <li>CI/CD \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 (GitHub Actions / GitLab CI)</li> <li>\u041e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f (staging, production)</li> <li>\u0421\u0435\u0440\u0432\u0435\u0440\u044b \u0438 SSH \u0434\u043e\u0441\u0442\u0443\u043f</li> <li>Registry credentials</li> </ol>"},{"location":"cli/commands/#_8","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>$ go-project-starter setup\n=== Go Project Starter Setup Wizard ===\n\n? Admin email (for certbot and notifications): admin@example.com\n\u2139 Detected CI provider: github\n? Repository (owner/repo): myorg/my-service\n\u2139 Using registry type from project.yaml: github\n\n--- Servers ---\n? How many deployment servers? 1\n\n--- Server 1 ---\n? Server name (logical identifier): production\n? Server host (IP or hostname): 192.168.1.100\n? SSH port: 22\n? SSH user (for initial setup): root\n? Deploy user (will be created): deploy\n\n--- Environments ---\n? How many environments? 1\n\n--- Environment 1 ---\n? Environment name: production\n? Git branch: main\n? Use OnlineConf for configuration management? No\n\n--- Notifications ---\n? Enable Telegram notifications? No\n? Enable Slack notifications? No\n\n\u2713 Configuration saved to setup.yaml\n\n--- CI/CD Setup ---\n\u2139 GitHub CLI (gh) detected. Will use it to configure secrets.\n\nConfiguring GitHub secrets...\n\u2713 Set secret: SSH_PRIVATE_KEY\n\u2713 Set secret: SSH_USER\n\u2713 Set secret: REGISTRY_LOGIN_SERVER\n\u2713 Set secret: GHCR_USER\n\u2713 Set secret: GHCR_TOKEN\n\n--- Deploy Script ---\n\u2713 Generated deploy script: scripts/deploy.sh\n\n=== Setup Complete ===\n</code></pre>"},{"location":"cli/commands/#_9","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":"<ul> <li><code>setup.yaml</code> \u2014 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f wizard</li> <li><code>.github/workflows/</code> \u0438\u043b\u0438 <code>.gitlab-ci.yml</code> \u2014 CI/CD \u0444\u0430\u0439\u043b\u044b</li> <li><code>scripts/deploy.sh</code> \u2014 \u0441\u043a\u0440\u0438\u043f\u0442 \u0440\u0430\u0437\u0432\u0451\u0440\u0442\u044b\u0432\u0430\u043d\u0438\u044f</li> </ul>"},{"location":"cli/commands/#migrate","title":"migrate","text":"<p>\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430.</p> <pre><code>go-project-starter migrate --configDir=.project-config\n</code></pre>"},{"location":"cli/commands/#_10","title":"\u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","text":"<ul> <li>\u041f\u043e\u0441\u043b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e</li> <li>\u041f\u0440\u0438 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0438 deprecated-\u043f\u043e\u043b\u0435\u0439 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> </ul>"},{"location":"cli/commands/#_11","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441","text":"<ol> <li>\u0427\u0442\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0445 \u043f\u043e\u043b\u0435\u0439</li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> </ol>"},{"location":"cli/commands/#_12","title":"\u041e\u0431\u0449\u0438\u0435 \u0444\u043b\u0430\u0433\u0438","text":"<p>\u0424\u043b\u0430\u0433\u0438, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043a\u043e\u043c\u0430\u043d\u0434:</p> \u0424\u043b\u0430\u0433 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>--help</code>, <code>-h</code> \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043f\u0440\u0430\u0432\u043a\u0443 <code>--version</code> \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u044e"},{"location":"cli/options/","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430","text":"<p>\u0412\u0441\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0444\u043b\u0430\u0433\u0438 \u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b Go Project Starter.</p>"},{"location":"cli/options/#_2","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":""},{"location":"cli/options/#-config","title":"--config","text":"<p>\u041f\u0443\u0442\u044c \u043a \u0444\u0430\u0439\u043b\u0443 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <pre><code>go-project-starter --config=my-config.yaml\ngo-project-starter --config=configs/production.yaml\n</code></pre> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e: <code>project.yaml</code></p>"},{"location":"cli/options/#-configdir","title":"--configDir","text":"<p>\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0444\u0430\u0439\u043b\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438.</p> <pre><code>go-project-starter --configDir=.project-config --config=project.yaml\n</code></pre> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e: \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f</p> <p>\u041f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438:</p> <pre><code>.project-config/\n\u251c\u2500\u2500 project.yaml      # \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\n\u251c\u2500\u2500 openapi.yaml      # API \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f\n\u2514\u2500\u2500 users.proto       # Protobuf \u0444\u0430\u0439\u043b\u044b\n</code></pre>"},{"location":"cli/options/#-target","title":"--target","text":"<p>\u0426\u0435\u043b\u0435\u0432\u0430\u044f \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <pre><code>go-project-starter --config=config.yaml --target=./my-service\n</code></pre> <p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e: \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f</p>"},{"location":"cli/options/#-dry-run","title":"--dry-run","text":"<p>\u0420\u0435\u0436\u0438\u043c \u043f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u2014 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0435\u0437 \u0437\u0430\u043f\u0438\u0441\u0438 \u0444\u0430\u0439\u043b\u043e\u0432.</p> <pre><code>go-project-starter --dry-run --config=config.yaml --target=./my-service\n</code></pre> <p>\u0412\u044b\u0432\u043e\u0434 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442:</p> <ul> <li>\u041a\u0430\u043a\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u044b</li> <li>\u041a\u0430\u043a\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u0431\u0443\u0434\u0443\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b</li> <li>\u041a\u0430\u043a\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b</li> </ul>"},{"location":"cli/options/#_3","title":"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","text":""},{"location":"cli/options/#-help-h","title":"--help, -h","text":"<p>\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u043f\u0440\u0430\u0432\u043a\u0443 \u043f\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0435.</p> <pre><code>go-project-starter --help\ngo-project-starter init --help\ngo-project-starter setup --help\n</code></pre>"},{"location":"cli/options/#-version","title":"--version","text":"<p>\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430.</p> <pre><code>go-project-starter --version\n</code></pre>"},{"location":"cli/options/#_4","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"cli/options/#_5","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<pre><code># \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0447\u0435\u0440\u0435\u0437 wizard\ngo-project-starter init --target=.\n\n# \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442\ngo-project-starter --configDir=.project-config --target=.\n\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c CI/CD\ngo-project-starter setup --configDir=.project-config --target=.\n</code></pre>"},{"location":"cli/options/#_6","title":"\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<pre><code># \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\ngo-project-starter --dry-run --configDir=.project-config --target=.\n\n# \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\ngo-project-starter --configDir=.project-config --target=.\n</code></pre>"},{"location":"cli/options/#_7","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e (\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435)","text":"<pre><code>go-project-starter --config=config.yaml --target=/tmp/test-project\ncd /tmp/test-project\ngo build ./...\n</code></pre>"},{"location":"cli/options/#_8","title":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:</p> \u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>GOPROXY</code> Go proxy \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 <code>GOPRIVATE</code> \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0445 Go \u043c\u043e\u0434\u0443\u043b\u0435\u0439"},{"location":"cli/options/#post-generation","title":"Post-generation \u0448\u0430\u0433\u0438","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0448\u0430\u0433\u0438, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <pre><code>post_generate:\n  - git_install      # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439\n  - tools_install    # \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b (ogen, argen, golangci-lint)\n  - clean_imports    # \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c imports \u0447\u0435\u0440\u0435\u0437 goimports\n  - executable_scripts  # chmod +x \u0434\u043b\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432\n  - call_generate    # \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c make generate\n  - go_mod_tidy      # \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c go mod tidy\n</code></pre> <p>\u0428\u0430\u0433\u0438 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0443\u0431\u0440\u0430\u0432 \u0438\u0445 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430.</p>"},{"location":"configuration/","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<p>\u041f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Go Project Starter.</p>"},{"location":"configuration/#_2","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0441\u0435\u043a\u0446\u0438\u0438 \u2014 \u0441\u0435\u043a\u0446\u0438\u0438 main, git, tools</li> <li>\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b \u2014 REST, gRPC, Kafka, CLI</li> <li>Workers \u2014 Telegram, Daemon</li> <li>Applications \u2014 Applications, drivers</li> <li>\u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u2014 Grafana, artifacts, deploy</li> </ul>"},{"location":"configuration/#_3","title":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>main:\n  name: string              # \u0418\u043c\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\n  logger: zerolog           # \u0422\u0438\u043f \u043b\u043e\u0433\u0433\u0435\u0440\u0430\n  registry_type: github     # Container registry\n  use_active_record: bool   # \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c ORM\n\ngit:\n  repo: string              # URL Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\n  module_path: string       # Go module path\n  private_repos: []         # \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 Go \u043c\u043e\u0434\u0443\u043b\u0438\n\nrest:\n  - name: string            # \u0418\u043c\u044f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430\n    path: []                # \u041f\u0443\u0442\u0438 \u043a OpenAPI \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f\u043c\n    generator_type: ogen    # \u0422\u0438\u043f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430\n    port: int               # HTTP \u043f\u043e\u0440\u0442\n    version: string         # \u0412\u0435\u0440\u0441\u0438\u044f API\n\ngrpc:\n  - name: string            # \u0418\u043c\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430\n    path: []                # \u041f\u0443\u0442\u0438 \u043a Protobuf \u0444\u0430\u0439\u043b\u0430\u043c\n    port: int               # gRPC \u043f\u043e\u0440\u0442\n\nkafka:\n  - name: string            # \u0418\u043c\u044f producer/consumer\n    type: producer          # producer \u0438\u043b\u0438 consumer\n    events: []              # \u0421\u043e\u0431\u044b\u0442\u0438\u044f\n\nworkers:\n  - name: string            # \u0418\u043c\u044f \u0432\u043e\u0440\u043a\u0435\u0440\u0430\n    generator_type: telegram # \u0422\u0438\u043f: telegram/daemon\n\napplications:\n  - name: string            # \u0418\u043c\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\n    transport: []           # REST/gRPC \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b\n    workers: []             # \u0412\u043e\u0440\u043a\u0435\u0440\u044b\n    drivers: []             # \u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b\n\ngrafana:\n  datasources: []           # Datasources \u0434\u043b\u044f Grafana\n\nartifacts:\n  - docker                  # \u0422\u0438\u043f\u044b \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432\n\npackaging:\n  maintainer: string        # Maintainer \u043f\u0430\u043a\u0435\u0442\u043e\u0432\n  description: string       # \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\n</code></pre>"},{"location":"configuration/#_4","title":"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<pre><code>main:\n  name: myservice\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/myservice\n  module_path: github.com/myorg/myservice\n\nrest:\n  - name: api\n    path: [./api/openapi.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    transport: [api, sys]\n</code></pre>"},{"location":"configuration/#_5","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438","text":"<ol> <li>REST/gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0432 applications</li> <li>\u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c</li> <li>\u0418\u043c\u0435\u043d\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f (REST, gRPC, drivers)</li> <li>ActiveRecord \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f ArgenVersion</li> <li>Registry type: \u0442\u043e\u043b\u044c\u043a\u043e <code>github</code>, <code>digitalocean</code>, <code>aws</code>, \u0438\u043b\u0438 <code>selfhosted</code></li> <li>\u041f\u043e\u0440\u0442\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f REST (\u043a\u0440\u043e\u043c\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 <code>sys</code>)</li> </ol>"},{"location":"configuration/#_6","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043a \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u043c\u0443 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044e \u043a\u0430\u0436\u0434\u043e\u0439 \u0441\u0435\u043a\u0446\u0438\u0438:</p> <ul> <li>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0441\u0435\u043a\u0446\u0438\u0438 \u2014 main, git, tools</li> <li>\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b \u2014 REST, gRPC, Kafka, CLI</li> <li>Workers \u2014 Telegram, Daemon</li> <li>Applications \u2014 Applications, drivers</li> <li>\u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u2014 Grafana, artifacts, deploy</li> </ul>"},{"location":"configuration/applications/","title":"Applications \u0438 Drivers","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0435\u043a\u0446\u0438\u0439 <code>applications</code> \u0438 <code>drivers</code>.</p>"},{"location":"configuration/applications/#applications","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>applications</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u2014 \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u044b\u0445 \u0435\u0434\u0438\u043d\u0438\u0446 \u0434\u0435\u043f\u043b\u043e\u044f.</p> <pre><code>applications:\n  # API Gateway\n  - name: api\n    transport: [public, admin, system]\n\n  # Event processors\n  - name: event_processor\n    kafka: [order_events, payment_events]\n\n  # Notification worker\n  - name: notifier\n    workers: [notification_bot]\n\n  # \u0421 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0442 Docker \u043e\u0431\u0440\u0430\u0437\u043e\u0432\n  - name: checker\n    transport: [sys]\n    workers: [checker]\n    depends_on_docker_images:\n      - ghcr.io/some-app/cool-app:latest\n      - postgres:15-alpine\n</code></pre>"},{"location":"configuration/applications/#_1","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (= \u0438\u043c\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430) <code>transport</code> \u041d\u0435\u0442 REST/gRPC \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b (string[] \u0438\u043b\u0438 object[]) <code>kafka</code> \u041d\u0435\u0442 Kafka producers/consumers <code>worker</code> \u041d\u0435\u0442 \u0424\u043e\u043d\u043e\u0432\u044b\u0435 \u0432\u043e\u0440\u043a\u0435\u0440\u044b <code>driver</code> \u041d\u0435\u0442 \u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439 <code>cli</code> \u041d\u0435\u0442 CLI \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 (\u044d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u0435\u043d) <code>use_active_record</code> \u041d\u0435\u0442 Override use_active_record \u0434\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>use_envs</code> \u041d\u0435\u0442 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>deploy</code> \u041d\u0435\u0442 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0435\u043f\u043b\u043e\u044f (volumes) <code>depends_on_docker_images</code> \u041d\u0435\u0442 Docker \u043e\u0431\u0440\u0430\u0437\u044b \u0434\u043b\u044f pre-pull <code>goat_tests</code> \u041d\u0435\u0442 \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c GOAT \u0442\u0435\u0441\u0442\u044b (bool) <code>goat_tests_config</code> \u041d\u0435\u0442 \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 GOAT \u0442\u0435\u0441\u0442\u043e\u0432 <code>grafana</code> \u041d\u0435\u0442 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Grafana dashboard <code>artifacts</code> \u041d\u0435\u0442 Per-app override artifacts (docker, deb, rpm, apk)"},{"location":"configuration/applications/#_2","title":"\u0424\u043e\u0440\u043c\u0430\u0442 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432","text":"<p>\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438:</p> <p>\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 (string[]):</p> <pre><code>applications:\n  - name: api\n    transport: [api, sys]  # \u0421\u043f\u0438\u0441\u043e\u043a \u0438\u043c\u0451\u043d \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432\n</code></pre> <p>\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 (object[]):</p> <pre><code>applications:\n  - name: api\n    transport:\n      - name: api\n      - name: external_api\n        config:\n          instantiation: dynamic  # Per-app override\n</code></pre>"},{"location":"configuration/applications/#application","title":"\u041a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f Application","text":"<p>Application \u2014 \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u0430\u044f \u0435\u0434\u0438\u043d\u0438\u0446\u0430 \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440).</p> <ul> <li>\u041e\u0434\u0438\u043d \u0431\u0438\u043d\u0430\u0440\u044c/\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u043c\u043e\u0436\u0435\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432</li> <li>HTTP \u0441\u0435\u0440\u0432\u0435\u0440\u044b, gRPC \u0441\u0435\u0440\u0432\u0435\u0440\u044b, \u0432\u043e\u0440\u043a\u0435\u0440\u044b \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e</li> <li>\u041a\u0430\u0436\u0434\u044b\u0439 application \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e</li> </ul>"},{"location":"configuration/applications/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439","text":""},{"location":"configuration/applications/#api-only","title":"API-only","text":"<pre><code>applications:\n  - name: api\n    transport: [api, sys]\n</code></pre>"},{"location":"configuration/applications/#workers-only","title":"Workers-only","text":"<pre><code>applications:\n  - name: workers\n    workers: [telegram_bot, kafka_consumer]\n    transport: [sys]\n</code></pre>"},{"location":"configuration/applications/#monolith","title":"Monolith","text":"<pre><code>applications:\n  - name: monolith\n    transport: [api, admin, sys]\n    workers: [telegram_bot]\n    kafka: [events]\n</code></pre>"},{"location":"configuration/applications/#docker","title":"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 Docker \u043e\u0431\u0440\u0430\u0437\u043e\u0432","text":"<p><code>depends_on_docker_images</code> \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e pull \u043e\u0431\u0440\u0430\u0437\u043e\u0432:</p> <pre><code>applications:\n  - name: checker\n    transport: [sys]\n    depends_on_docker_images:\n      - ghcr.io/some-app/cool-app:latest\n</code></pre> <p>\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0439 docker-compose:</p> <pre><code>cool-app-image-puller:\n  image: ghcr.io/some-app/cool-app:latest\n  pull_policy: always\n  restart: \"no\"\n\nchecker:\n  depends_on:\n    cool-app-image-puller:\n      condition: service_completed_successfully\n</code></pre>"},{"location":"configuration/applications/#goat","title":"GOAT \u0442\u0435\u0441\u0442\u044b","text":"<p>\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432:</p> <pre><code>applications:\n  - name: api\n    goat_tests: true\n    transport: [api, sys]\n\n# \u0418\u043b\u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\napplications:\n  - name: api\n    goat_tests_config:\n      enabled: true\n      binary_path: /tmp/my-custom-path\n</code></pre>"},{"location":"configuration/applications/#grafana-dashboard","title":"Grafana dashboard","text":"<pre><code>applications:\n  - name: api\n    transport: [api, sys]\n    grafana:\n      datasources:\n        - Prometheus\n        - Loki\n</code></pre>"},{"location":"configuration/applications/#drivers","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>drivers</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439.</p> <pre><code>drivers:\n  - name: telegram_bot\n    import: pkg/drivers/telegram\n    package: telegram\n    obj_name: TelegramDriver\n    service_injection: \"optional custom code\"\n\n  - name: payment_gateway\n    type: http\n    config:\n      base_url: https://api.stripe.com\n</code></pre>"},{"location":"configuration/applications/#_4","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430 <code>import</code> \u0414\u0430 Import path <code>package</code> \u0414\u0430 \u0418\u043c\u044f \u043f\u0430\u043a\u0435\u0442\u0430 <code>obj_name</code> \u0414\u0430 \u0418\u043c\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430 <code>service_injection</code> \u041d\u0435\u0442 \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438\u043d\u044a\u0435\u043a\u0446\u0438\u0438"},{"location":"configuration/applications/#runnable","title":"\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 Runnable","text":"<p>\u0412\u0441\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0442 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441:</p> <pre><code>type Runnable interface {\n    Init(ctx context.Context) error\n    Run(ctx context.Context) error\n    Shutdown(ctx context.Context) error\n    GracefulShutdown(ctx context.Context) error\n}\n</code></pre>"},{"location":"configuration/applications/#_5","title":"\u0422\u0438\u043f\u044b \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432","text":"\u0422\u0438\u043f \u041f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0418\u043c\u0435\u0435\u0442 \u0444\u043e\u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 Telegram (webhooks/websockets) \u041f\u0430\u0441\u0441\u0438\u0432\u043d\u044b\u0439 Run \u2014 no-op S3, HTTP \u043a\u043b\u0438\u0435\u043d\u0442\u044b"},{"location":"configuration/applications/#_6","title":"\u0416\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430","text":"<pre><code>Init() \u2192 Run() (\u0432 \u0433\u043e\u0440\u0443\u0442\u0438\u043d\u0435) \u2192 GracefulShutdown() \u2192 Shutdown()\n</code></pre> <ol> <li><code>Init()</code> \u2014 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439, \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0430</li> <li><code>Run()</code> \u2014 \u0437\u0430\u043f\u0443\u0441\u043a \u0444\u043e\u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 (\u0434\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432)</li> <li><code>GracefulShutdown()</code> \u2014 \u043c\u044f\u0433\u043a\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435</li> <li><code>Shutdown()</code> \u2014 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435</li> </ol>"},{"location":"configuration/applications/#_7","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430","text":"<ol> <li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430:</li> </ol> <pre><code>package payment\n\ntype PaymentDriver struct {\n    client *http.Client\n    apiKey string\n}\n\nfunc (d *PaymentDriver) Init(ctx context.Context) error {\n    d.client = &amp;http.Client{Timeout: 10 * time.Second}\n    d.apiKey = config.Get(\"payment.api_key\")\n    return nil\n}\n\nfunc (d *PaymentDriver) Run(ctx context.Context) error {\n    &lt;-ctx.Done()\n    return nil\n}\n\nfunc (d *PaymentDriver) Shutdown(ctx context.Context) error {\n    d.client.CloseIdleConnections()\n    return nil\n}\n\nfunc (d *PaymentDriver) GracefulShutdown(ctx context.Context) error {\n    return d.Shutdown(ctx)\n}\n\n// \u0411\u0438\u0437\u043d\u0435\u0441-\u043c\u0435\u0442\u043e\u0434\u044b\nfunc (d *PaymentDriver) ProcessPayment(ctx context.Context, amount int64) error {\n    // ...\n}\n</code></pre> <ol> <li>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e:</li> </ol> <pre><code>drivers:\n  - name: payment_gateway\n    import: pkg/drivers/payment\n    package: payment\n    obj_name: PaymentDriver\n</code></pre> <ol> <li>\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e:</li> </ol> <pre><code>applications:\n  - name: api\n    transport: [api, sys]\n    driver: [payment_gateway]\n</code></pre>"},{"location":"configuration/applications/#_8","title":"\u0417\u0430\u043c\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430","text":"<p>\u0414\u043b\u044f \u0437\u0430\u043c\u0435\u043d\u044b \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438:</p> <pre><code># \u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u0441 AWS S3 \u043d\u0430 DigitalOcean Spaces\ndrivers:\n  - name: storage\n    type: s3\n    provider: digitalocean  # \u041f\u0440\u043e\u0441\u0442\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u043e\u043a\u0443\n</code></pre>"},{"location":"configuration/infrastructure/","title":"\u0418\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0435\u043a\u0446\u0438\u0439 <code>grafana</code>, <code>artifacts</code>, <code>packaging</code> \u0438 <code>jsonschema</code>.</p>"},{"location":"configuration/infrastructure/#grafana","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>grafana</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f Grafana dashboards.</p> <pre><code>grafana:\n  datasources:\n    - name: Prometheus\n      type: prometheus\n      access: proxy\n      url: http://prometheus:9090\n      isDefault: true\n      editable: false\n    - name: Loki\n      type: loki\n      access: proxy\n      url: http://loki:3100\n      editable: false\n\napplications:\n  - name: api\n    transport: [api, sys]\n    grafana:\n      datasources:\n        - Prometheus\n        - Loki\n</code></pre>"},{"location":"configuration/infrastructure/#datasource","title":"\u041f\u043e\u043b\u044f datasource","text":"\u041f\u043e\u043b\u0435 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0418\u043c\u044f datasource <code>type</code> \u0422\u0438\u043f: <code>prometheus</code>, <code>loki</code> <code>access</code> \u0420\u0435\u0436\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f\u0430: <code>proxy</code>, <code>direct</code> <code>url</code> URL datasource <code>isDefault</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u0430\u043a default <code>editable</code> \u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 UI"},{"location":"configuration/infrastructure/#_2","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043f\u0430\u043d\u0435\u043b\u0438","text":"\u041f\u0430\u043d\u0435\u043b\u044c \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u041c\u0435\u0442\u0440\u0438\u043a\u0438 Logs Loki datasource \u041b\u043e\u0433\u0438 \u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0435\u0439 \u043f\u043e \u0443\u0440\u043e\u0432\u043d\u044e Go Runtime Prometheus <code>go_goroutines</code>, <code>go_memstats_*</code>, <code>go_gc_*</code> HTTP Server: {name} \u0414\u043b\u044f <code>ogen</code> \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 <code>http_server_request_duration_seconds</code> HTTP Client: {name} \u0414\u043b\u044f <code>ogen_client</code> <code>http_client_request_duration_seconds</code>"},{"location":"configuration/infrastructure/#_3","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":"<pre><code>grafana/\n\u251c\u2500\u2500 dashboards/\n\u2502   \u2514\u2500\u2500 {app-name}-dashboard.json\n\u2514\u2500\u2500 provisioning/\n    \u251c\u2500\u2500 dashboards/\n    \u2502   \u2514\u2500\u2500 dashboards.yaml\n    \u2514\u2500\u2500 datasources/\n        \u2514\u2500\u2500 datasources.yaml\n</code></pre>"},{"location":"configuration/infrastructure/#artifacts","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>artifacts</code>","text":"<p>\u0422\u0438\u043f\u044b \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u0441\u0431\u043e\u0440\u043a\u0438.</p> <pre><code>artifacts:\n  - docker    # Docker \u043e\u0431\u0440\u0430\u0437\u044b (\u0432\u043a\u043b\u044e\u0447\u0435\u043d \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)\n  - deb       # Debian \u043f\u0430\u043a\u0435\u0442\u044b (.deb)\n  - rpm       # RPM \u043f\u0430\u043a\u0435\u0442\u044b (.rpm)\n  - apk       # Alpine \u043f\u0430\u043a\u0435\u0442\u044b (.apk)\n</code></pre> \u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 <code>docker</code> Docker \u043e\u0431\u0440\u0430\u0437\u044b Kubernetes, Docker Compose <code>deb</code> Debian \u043f\u0430\u043a\u0435\u0442\u044b Ubuntu, Debian <code>rpm</code> RPM \u043f\u0430\u043a\u0435\u0442\u044b CentOS, RHEL, Fedora <code>apk</code> Alpine \u043f\u0430\u043a\u0435\u0442\u044b Alpine Linux"},{"location":"configuration/infrastructure/#packaging","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>packaging</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f <code>deb</code>, <code>rpm</code>, <code>apk</code>).</p> <pre><code>packaging:\n  maintainer: \"DevOps Team &lt;devops@example.com&gt;\"\n  description: \"My microservice for handling orders\"\n  homepage: \"https://github.com/myorg/myservice\"\n  license: \"MIT\"\n  vendor: \"My Company\"\n  install_dir: \"/usr/bin\"\n  config_dir: \"/etc/myservice\"\n  upload:\n    enabled: true\n    type: minio\n    bucket: \"packages\"\n    region: \"us-east-1\"\n    endpoint: \"https://minio.example.com\"\n    prefix: \"deb/myservice\"\n</code></pre>"},{"location":"configuration/infrastructure/#_4","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>maintainer</code> \u0414\u0430 Email maintainer'\u0430 \u043f\u0430\u043a\u0435\u0442\u0430 <code>description</code> \u0414\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u0430 <code>homepage</code> \u041d\u0435\u0442 URL \u043f\u0440\u043e\u0435\u043a\u0442\u0430 <code>license</code> \u041d\u0435\u0442 \u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f <code>vendor</code> \u041d\u0435\u0442 \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 <code>install_dir</code> \u041d\u0435\u0442 \u041f\u0443\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0430 <code>config_dir</code> \u041d\u0435\u0442 \u041f\u0443\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 <code>upload</code> \u041d\u0435\u0442 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0430\u043a\u0435\u0442\u043e\u0432"},{"location":"configuration/infrastructure/#upload","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>upload</code>","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>enabled</code> \u0414\u0430 \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0443 <code>type</code> \u0414\u0430 <code>minio</code>, <code>aws</code>, \u0438\u043b\u0438 <code>rsync</code> <code>bucket</code> \u0414\u043b\u044f minio/aws \u0418\u043c\u044f S3 bucket <code>region</code> \u0414\u043b\u044f minio/aws AWS \u0440\u0435\u0433\u0438\u043e\u043d <code>endpoint</code> \u0414\u043b\u044f minio URL MinIO endpoint <code>prefix</code> \u041d\u0435\u0442 \u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u043f\u0443\u0442\u0438 <code>host</code> \u0414\u043b\u044f rsync SSH \u0445\u043e\u0441\u0442 <code>path</code> \u0414\u043b\u044f rsync \u041f\u0443\u0442\u044c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 <code>user</code> \u0414\u043b\u044f rsync SSH \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"},{"location":"configuration/infrastructure/#upload_1","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b upload","text":""},{"location":"configuration/infrastructure/#minio","title":"MinIO","text":"<pre><code>upload:\n  enabled: true\n  type: minio\n  bucket: \"packages\"\n  region: \"us-east-1\"\n  endpoint: \"https://minio.example.com\"\n  prefix: \"deb/myservice\"\n</code></pre> <p>\u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0435 \u0441\u0435\u043a\u0440\u0435\u0442\u044b: <code>MINIO_ACCESS_KEY</code>, <code>MINIO_SECRET_KEY</code></p>"},{"location":"configuration/infrastructure/#aws-s3","title":"AWS S3","text":"<pre><code>upload:\n  enabled: true\n  type: aws\n  bucket: \"my-packages-bucket\"\n  region: \"eu-west-1\"\n  prefix: \"releases/myservice\"\n</code></pre> <p>\u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0435 \u0441\u0435\u043a\u0440\u0435\u0442\u044b: <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code></p>"},{"location":"configuration/infrastructure/#rsync","title":"Rsync","text":"<pre><code>upload:\n  enabled: true\n  type: rsync\n  host: \"repo.example.com\"\n  path: \"/var/repo/packages\"\n  user: \"deploy\"\n</code></pre> <p>\u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0435 \u0441\u0435\u043a\u0440\u0435\u0442\u044b: <code>UPLOAD_SSH_PRIVATE_KEY</code></p>"},{"location":"configuration/infrastructure/#_5","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":"<pre><code>packaging/\n\u2514\u2500\u2500 {app-name}/\n    \u251c\u2500\u2500 nfpm.yaml                    # \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f nfpm\n    \u251c\u2500\u2500 systemd/\n    \u2502   \u2514\u2500\u2500 {project}-{app}.service  # Systemd unit\n    \u2514\u2500\u2500 scripts/\n        \u251c\u2500\u2500 postinstall.sh           # Post-install \u0441\u043a\u0440\u0438\u043f\u0442\n        \u2514\u2500\u2500 preremove.sh             # Pre-remove \u0441\u043a\u0440\u0438\u043f\u0442\n</code></pre>"},{"location":"configuration/infrastructure/#_6","title":"\u0421\u0431\u043e\u0440\u043a\u0430 \u043f\u0430\u043a\u0435\u0442\u043e\u0432","text":"<pre><code>make install-nfpm     # \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c nfpm\nmake deb-api          # \u0421\u043e\u0431\u0440\u0430\u0442\u044c .deb \u0434\u043b\u044f api\nmake rpm-api          # \u0421\u043e\u0431\u0440\u0430\u0442\u044c .rpm\nmake packages         # \u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u043f\u0430\u043a\u0435\u0442\u044b\nmake upload-packages  # \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0430\u043a\u0435\u0442\u044b\n</code></pre>"},{"location":"configuration/infrastructure/#jsonschema","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>jsonschema</code>","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f Go \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u0438\u0437 JSON Schema.</p> <pre><code>jsonschema:\n  - name: models\n    schemas:\n      - id: user\n        path: ./user.schema.json\n        type: UserSchema\n      - id: event\n        path: ./event.schema.json\n    package: models\n</code></pre>"},{"location":"configuration/infrastructure/#_7","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0418\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0441\u0445\u0435\u043c <code>schemas</code> \u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0445\u0435\u043c <code>schemas[].id</code> \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 <code>schemas[].path</code> \u041f\u0443\u0442\u044c \u043a JSON schema <code>schemas[].type</code> \u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e: \u0438\u043c\u044f Go \u0442\u0438\u043f\u0430 <code>package</code> \u041e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e: \u0438\u043c\u044f \u043f\u0430\u043a\u0435\u0442\u0430"},{"location":"configuration/infrastructure/#kafka","title":"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Kafka","text":"<pre><code>jsonschema:\n  - name: models\n    schemas:\n      - id: user\n        path: ./user.schema.json\n\nkafka:\n  - name: producer\n    type: producer\n    events:\n      - name: user_events\n        schema: models.user  # \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0441\u0445\u0435\u043c\u0443\n</code></pre>"},{"location":"configuration/infrastructure/#_8","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":"<pre><code>pkg/schema/{name}/    # Go \u043a\u043e\u0434\napi/schema/{name}/    # \u041a\u043e\u043f\u0438\u0438 schema \u0444\u0430\u0439\u043b\u043e\u0432\n</code></pre>"},{"location":"configuration/infrastructure/#_9","title":"\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>main:\n  name: orderservice\n  logger: zerolog\n  registry_type: github\n\nartifacts:\n  - docker\n  - deb\n  - rpm\n\npackaging:\n  maintainer: \"Platform Team &lt;platform@example.com&gt;\"\n  description: \"Order processing microservice\"\n  homepage: \"https://github.com/example/orderservice\"\n  license: \"Apache-2.0\"\n  vendor: \"Example Inc\"\n\ngrafana:\n  datasources:\n    - name: Prometheus\n      type: prometheus\n      url: http://prometheus:9090\n      isDefault: true\n    - name: Loki\n      type: loki\n      url: http://loki:3100\n\napplications:\n  - name: api\n    transport: [api, sys]\n    grafana:\n      datasources: [Prometheus, Loki]\n</code></pre>"},{"location":"configuration/infrastructure/#deploy-time","title":"Deploy-time \u043f\u043b\u0435\u0439\u0441\u0445\u043e\u043b\u0434\u0435\u0440\u044b","text":"<p>\u0412 env \u0444\u0430\u0439\u043b\u0430\u0445 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043b\u0435\u0439\u0441\u0445\u043e\u043b\u0434\u0435\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0437\u0430\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0434\u0435\u043f\u043b\u043e\u044f (\u0430 \u043d\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f env \u0444\u0430\u0439\u043b\u0430 \u0432 CI).</p>"},{"location":"configuration/infrastructure/#_10","title":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043f\u043b\u0435\u0439\u0441\u0445\u043e\u043b\u0434\u0435\u0440\u044b","text":"\u041f\u043b\u0435\u0439\u0441\u0445\u043e\u043b\u0434\u0435\u0440 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>@@SSH_HOST@@</code> IP \u0430\u0434\u0440\u0435\u0441 \u0438\u043b\u0438 hostname \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0434\u0435\u043f\u043b\u043e\u044f"},{"location":"configuration/infrastructure/#_11","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":"<p>\u0412 docker-compose \u0438\u043b\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f:</p> <pre><code># docker-compose.yaml\nservices:\n  myapp:\n    environment:\n      - ADVERTISE_HOST=@@SSH_HOST@@\n      - EXTERNAL_URL=http://@@SSH_HOST@@:8080\n</code></pre> <p>\u041f\u0440\u0438 \u0434\u0435\u043f\u043b\u043e\u0435 <code>@@SSH_HOST@@</code> \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043c\u0435\u043d\u0451\u043d \u043d\u0430 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 IP/hostname \u0446\u0435\u043b\u0435\u0432\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</p>"},{"location":"configuration/infrastructure/#_12","title":"\u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c","text":"<p>\u041f\u043b\u0435\u0439\u0441\u0445\u043e\u043b\u0434\u0435\u0440\u044b \u043f\u043e\u043b\u0435\u0437\u043d\u044b \u043a\u043e\u0433\u0434\u0430:</p> <ul> <li>\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043d\u0443\u0436\u043d\u043e \u0437\u043d\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0432\u043d\u0435\u0448\u043d\u0438\u0439 IP \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0432 service discovery</li> <li>\u041d\u0443\u0436\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c callback URL \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432</li> <li>\u041f\u0440\u0438 \u0434\u0435\u043f\u043b\u043e\u0435 \u043d\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 IP</li> </ul>"},{"location":"configuration/main/","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0441\u0435\u043a\u0446\u0438\u0438","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0435\u043a\u0446\u0438\u0439 <code>main</code>, <code>git</code> \u0438 \u0432\u0435\u0440\u0441\u0438\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432.</p>"},{"location":"configuration/main/#main","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>main</code>","text":"<p>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <pre><code>main:\n  name: myproject\n  registry_type: github\n  logger: zerolog\n  author: \"Your Name\"\n  use_active_record: true\n  dev_stand: true\n</code></pre>"},{"location":"configuration/main/#_2","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u043f\u0443\u0442\u044f\u0445, Docker \u043e\u0431\u0440\u0430\u0437\u0430\u0445) <code>registry_type</code> \u041d\u0435\u0442 <code>github</code>, <code>digitalocean</code>, <code>aws</code>, \u0438\u043b\u0438 <code>selfhosted</code> <code>logger</code> \u041d\u0435\u0442 \u0422\u0438\u043f \u043b\u043e\u0433\u0433\u0435\u0440\u0430: <code>zerolog</code> (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e) \u0438\u043b\u0438 <code>logrus</code> <code>author</code> \u041d\u0435\u0442 \u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 <code>use_active_record</code> \u041d\u0435\u0442 \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e \u043a\u043e\u0434\u0430 \u0434\u043b\u044f PostgreSQL <code>dev_stand</code> \u041d\u0435\u0442 \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c docker-compose-dev.yaml \u0441 OnlineConf <code>skip_service_init</code> \u041d\u0435\u0442 \u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e Service layer"},{"location":"configuration/main/#_3","title":"\u0412\u044b\u0431\u043e\u0440 \u043b\u043e\u0433\u0433\u0435\u0440\u0430","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0434\u0432\u0430 \u043b\u043e\u0433\u0433\u0435\u0440\u0430:</p> \u041b\u043e\u0433\u0433\u0435\u0440 \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 zerolog <code>zerolog</code> \u0412\u044b\u0441\u043e\u043a\u043e\u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 JSON-\u043b\u043e\u0433\u0433\u0435\u0440 \u0441 zero allocation. \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u043b\u044f\u043c\u0438 (<code>.Str()</code>, <code>.Int()</code>, <code>.Err()</code>). logrus <code>logrus</code> \u0428\u0438\u0440\u043e\u043a\u043e \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043b\u043e\u0433\u0433\u0435\u0440. \u041f\u0440\u043e\u0441\u0442\u043e\u0439 API \u0447\u0435\u0440\u0435\u0437 <code>.WithField()</code> / <code>.WithError()</code>. <pre><code># zerolog (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)\nmain:\n  logger: zerolog\n\n# logrus\nmain:\n  logger: logrus\n</code></pre> <p>\u041b\u043e\u0433\u0433\u0435\u0440 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430:</p> <ul> <li>\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u2014 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f <code>pkg/app/logger/</code> \u0441 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 <code>InitZlog</code> \u0438\u043b\u0438 <code>InitLogrus</code></li> <li>\u0418\u043c\u043f\u043e\u0440\u0442\u044b \u2014 zerolog \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 <code>zlog \"github.com/rs/zerolog\"</code>, logrus \u2014 <code>rlog \"github.com/Educentr/go-project-starter-runtime/pkg/logger\"</code></li> <li>\u0412\u044b\u0437\u043e\u0432\u044b \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u2014 \u0432\u0441\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0446\u0438\u044e <code>{{ .Logger }}</code>, \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043b\u043e\u0433\u0433\u0435\u0440\u0430 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u043c \u043a\u043e\u0434\u0435</li> <li>\u0422\u0435\u0441\u0442\u044b \u2014 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043b\u043e\u0433\u0433\u0435\u0440 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0434 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0442\u0438\u043f</li> </ul>"},{"location":"configuration/main/#container-registry","title":"\u0422\u0438\u043f\u044b Container Registry","text":"\u0422\u0438\u043f Registry \u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0435 \u0441\u0435\u043a\u0440\u0435\u0442\u044b GitHub Actions <code>github</code> GitHub Container Registry (ghcr.io) <code>GHCR_USER</code>, <code>GHCR_TOKEN</code> <code>digitalocean</code> DigitalOcean Container Registry <code>REGISTRY_PASSWORD</code> <code>aws</code> Amazon ECR <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, <code>AWS_REGION</code> <code>selfhosted</code> \u041b\u044e\u0431\u043e\u0439 Docker Registry <code>REGISTRY_URL</code>, <code>REGISTRY_USERNAME</code>, <code>REGISTRY_PASSWORD</code>"},{"location":"configuration/main/#aws-ecr","title":"AWS ECR","text":"<p>\u0414\u043b\u044f AWS ECR \u0444\u043e\u0440\u043c\u0430\u0442 URL \u0440\u0435\u0435\u0441\u0442\u0440\u0430: <code>{account-id}.dkr.ecr.{region}.amazonaws.com</code></p> <pre><code>main:\n  registry_type: aws\n</code></pre>"},{"location":"configuration/main/#self-hosted-registry","title":"Self-Hosted Registry","text":"<p>\u0414\u043b\u044f self-hosted \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u0432 (\u0432\u043a\u043b\u044e\u0447\u0430\u044f MinIO-backed registry):</p> <pre><code>main:\n  registry_type: selfhosted\n</code></pre> <p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e <code>REGISTRY_LOGIN_SERVER</code> \u0432 GitHub \u0434\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f URL \u0440\u0435\u0435\u0441\u0442\u0440\u0430.</p>"},{"location":"configuration/main/#git","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>git</code>","text":"<p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f.</p> <pre><code>git:\n  repo: https://github.com/org/repo\n  module_path: github.com/org/repo\n  private_repos:\n    - github.com/myorg/internal-pkg\n    - gitlab.com/company/*\n</code></pre>"},{"location":"configuration/main/#_4","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>repo</code> \u0414\u0430 URL Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f <code>module_path</code> \u0414\u0430 Go module path <code>private_repos</code> \u041d\u0435\u0442 \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0434\u043b\u044f GOPRIVATE"},{"location":"configuration/main/#go","title":"\u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 Go \u043c\u043e\u0434\u0443\u043b\u0438","text":"<p>\u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0445 Go \u043c\u043e\u0434\u0443\u043b\u0435\u0439, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u0445 \u0432 <code>private_repos</code>:</p> <pre><code>git:\n  repo: github.com/myorg/service\n  module_path: github.com/myorg/service\n  private_repos:\n    - github.com/myorg/internal-pkg\n    - gitlab.com/company/*\n</code></pre> <p>\u042d\u0442\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442 \u0432 Makefile \u0438 Dockerfile:</p> <pre><code>GOPRIVATE=github.com/myorg/internal-pkg,gitlab.com/company/*\n</code></pre>"},{"location":"configuration/main/#tools","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>tools</code>","text":"<p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u0435\u0440\u0441\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432.</p> <pre><code>tools:\n  protobuf_version: \"1.7.0\"\n  golang_version: \"1.24\"\n  ogen_version: \"v0.78.0\"\n  golangci_version: \"1.55.2\"\n  argen_version: \"v1.0.0\"\n  runtime_version: \"v0.5.0\"\n  go_jsonschema_version: \"v0.16.0\"\n  goat_version: \"v0.3.1\"\n  goat_services_version: \"v0.1.0\"\n</code></pre>"},{"location":"configuration/main/#_5","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>protobuf_version</code> \u0412\u0435\u0440\u0441\u0438\u044f protoc-gen-go 1.7.0 <code>golang_version</code> \u0412\u0435\u0440\u0441\u0438\u044f Go \u0434\u043b\u044f \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 1.24 <code>ogen_version</code> \u0412\u0435\u0440\u0441\u0438\u044f ogen v0.78.0 <code>golangci_version</code> \u0412\u0435\u0440\u0441\u0438\u044f golangci-lint 1.55.2 <code>argen_version</code> \u0412\u0435\u0440\u0441\u0438\u044f argen (ActiveRecord) v1.0.0 <code>runtime_version</code> \u0412\u0435\u0440\u0441\u0438\u044f go-project-starter-runtime \u0430\u0432\u0442\u043e <code>go_jsonschema_version</code> \u0412\u0435\u0440\u0441\u0438\u044f go-jsonschema v0.16.0 <code>goat_version</code> \u0412\u0435\u0440\u0441\u0438\u044f GOAT \u0442\u0435\u0441\u0442-\u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 \u0430\u0432\u0442\u043e <code>goat_services_version</code> \u0412\u0435\u0440\u0441\u0438\u044f GOAT services \u0430\u0432\u0442\u043e"},{"location":"configuration/main/#post_generate","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>post_generate</code>","text":"<p>\u0428\u0430\u0433\u0438, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 \u043f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.</p> <pre><code>post_generate:\n  - git_install          # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439\n  - tools_install        # \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c dev \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b\n  - clean_imports        # \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c imports \u0447\u0435\u0440\u0435\u0437 goimports\n  - executable_scripts   # chmod +x \u0434\u043b\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432\n  - call_generate        # \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c make generate\n  - go_mod_tidy          # \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c go mod tidy\n</code></pre>"},{"location":"configuration/main/#_6","title":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0448\u0430\u0433\u0438","text":"\u0428\u0430\u0433 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>git_install</code> \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 <code>tools_install</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c ogen, argen, golangci-lint <code>clean_imports</code> \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u0442\u044c imports \u0447\u0435\u0440\u0435\u0437 goimports <code>executable_scripts</code> \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u043c\u0438 <code>call_generate</code> \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c <code>make generate</code> <code>go_mod_tidy</code> \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c <code>go mod tidy</code> <p>\u0412\u0430\u0436\u043d\u043e \u0434\u043b\u044f dev_stand</p> <p><code>dev_stand: true</code> \u0442\u0440\u0435\u0431\u0443\u0435\u0442 <code>git_install</code> \u0432 <code>post_generate</code>, \u0442\u0430\u043a \u043a\u0430\u043a OnlineConf \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a git submodule.</p>"},{"location":"configuration/transports/","title":"\u0422\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0435\u043a\u0446\u0438\u0439 <code>rest</code>, <code>grpc</code>, <code>kafka</code> \u0438 <code>cli</code>.</p>"},{"location":"configuration/transports/#rest","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>rest</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f REST API \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432.</p> <pre><code>rest:\n  # OpenAPI \u0441\u0435\u0440\u0432\u0435\u0440\n  - name: api\n    path: [./api/openapi.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n    health_check_path: /health\n\n  # \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 endpoints (\u043c\u0435\u0442\u0440\u0438\u043a\u0438, health)\n  - name: system\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\n  # REST \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API\n  - name: payment_api\n    path: [./api/payment.yaml]\n    generator_type: ogen_client\n    auth_params:\n      transport: header\n      type: apikey\n</code></pre>"},{"location":"configuration/transports/#_2","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 <code>path</code> \u0414\u043b\u044f ogen/ogen_client \u041f\u0443\u0442\u0438 \u043a OpenAPI \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f\u043c <code>generator_type</code> \u0414\u0430 \u0422\u0438\u043f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430: <code>ogen</code>, <code>template</code>, <code>ogen_client</code> <code>generator_template</code> \u0414\u043b\u044f template \u0418\u043c\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>sys</code>) <code>generator_params</code> \u041d\u0435\u0442 \u0414\u043e\u043f. \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>auth_handler</code>) <code>port</code> \u0414\u0430 (\u043a\u0440\u043e\u043c\u0435 sys) HTTP \u043f\u043e\u0440\u0442 <code>version</code> \u0414\u0430 \u0412\u0435\u0440\u0441\u0438\u044f API (v1, v2, \u0438 \u0442.\u0434.) <code>api_prefix</code> \u041d\u0435\u0442 \u041f\u0440\u0435\u0444\u0438\u043a\u0441 URL \u0434\u043b\u044f API <code>health_check_path</code> \u041d\u0435\u0442 \u041f\u0443\u0442\u044c \u0434\u043b\u044f health check <code>public_service</code> \u041d\u0435\u0442 \u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 (\u0431\u0435\u0437 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438) <code>auth_params</code> \u041d\u0435\u0442 \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 (\u0434\u043b\u044f ogen_client) <code>instantiation</code> \u041d\u0435\u0442 <code>static</code> \u0438\u043b\u0438 <code>dynamic</code> (\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f ogen_client)"},{"location":"configuration/transports/#_3","title":"\u0422\u0438\u043f\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432","text":"\u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 <code>ogen</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438\u0437 OpenAPI 3.0 \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0431\u0438\u0437\u043d\u0435\u0441 API <code>template</code> \u0428\u0430\u0431\u043b\u043e\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f Health checks, \u043c\u0435\u0442\u0440\u0438\u043a\u0438, \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 endpoints <code>ogen_client</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f REST \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0412\u044b\u0437\u043e\u0432 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 API"},{"location":"configuration/transports/#_4","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","text":"<p>\u0414\u043b\u044f <code>ogen_client</code> \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e:</p> <pre><code>rest:\n  - name: external_api\n    generator_type: ogen_client\n    auth_params:\n      transport: header    # \u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 (\u043f\u043e\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e header)\n      type: apikey         # \u0422\u0438\u043f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438: apikey \u0438\u043b\u0438 bearer\n</code></pre> <p>\u0422\u0438\u043f\u044b \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438:</p> \u0422\u0438\u043f OnlineConf \u043f\u0443\u0442\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>apikey</code> <code>{service_name}/transport/rest/{rest_name}/auth_params/apikey</code> API key \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435 <code>bearer</code> <code>{service_name}/transport/rest/{rest_name}/auth_params/token</code> Bearer token \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435 Authorization"},{"location":"configuration/transports/#ogen_client","title":"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (ogen_client)","text":"<p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e REST-\u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (<code>static</code>). \u0420\u0435\u0436\u0438\u043c <code>dynamic</code> \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435:</p> <pre><code>rest:\n  - name: external_api\n    generator_type: ogen_client\n    instantiation: dynamic  # \u041a\u043b\u0438\u0435\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435\n\napplications:\n  - name: server\n    transport:\n      - name: external_api\n        config:\n          instantiation: dynamic  # Override \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\n</code></pre> <p>\u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>dynamic</code>:</p> <ul> <li>URL \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438</li> <li>\u041d\u0443\u0436\u043d\u0430 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\u043c\u0438</li> </ul> <p>\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:</p> <ol> <li><code>application.transport[].config.instantiation</code> (\u043d\u0430\u0438\u0432\u044b\u0441\u0448\u0438\u0439)</li> <li><code>rest[].instantiation</code> (default \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439)</li> </ol>"},{"location":"configuration/transports/#api","title":"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 API","text":"<pre><code>rest:\n  - name: api\n    path: [./api/v1.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: api\n    path: [./api/v2.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v2\n</code></pre> <p>\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430:</p> <pre><code>internal/app/server/transport/rest/api/\n\u251c\u2500\u2500 v1/\n\u2502   \u251c\u2500\u2500 handlers.go\n\u2502   \u2514\u2500\u2500 router.go\n\u2514\u2500\u2500 v2/\n    \u251c\u2500\u2500 handlers.go\n    \u2514\u2500\u2500 router.go\n</code></pre>"},{"location":"configuration/transports/#grpc","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>grpc</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f gRPC \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432.</p> <pre><code>grpc:\n  - name: users\n    path: ./proto/users.proto\n    short: users\n    port: 9000\n    generator_type: buf_client\n    buf_local_plugins: false\n</code></pre>"},{"location":"configuration/transports/#_5","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f gRPC \u043a\u043b\u0438\u0435\u043d\u0442\u0430 <code>path</code> \u0414\u0430 \u041f\u0443\u0442\u044c \u043a .proto \u0444\u0430\u0439\u043b\u0443 <code>short</code> \u041d\u0435\u0442 \u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0438\u043c\u044f (\u0434\u043b\u044f \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u043a\u0435\u0442\u043e\u0432) <code>port</code> \u0414\u0430 gRPC \u043f\u043e\u0440\u0442 <code>generator_type</code> \u0414\u0430 \u0422\u0438\u043f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430: <code>buf_client</code> <code>buf_local_plugins</code> \u041d\u0435\u0442 \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 buf \u043f\u043b\u0430\u0433\u0438\u043d\u044b <code>instantiation</code> \u041d\u0435\u0442 <code>static</code> \u0438\u043b\u0438 <code>dynamic</code> (\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f buf_client) <p>\u0422\u043e\u043b\u044c\u043a\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u044b</p> <p>\u0412 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f gRPC \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 (<code>buf_client</code>). \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 (<code>buf_server</code>) \u043f\u043e\u043a\u0430 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430.</p>"},{"location":"configuration/transports/#buf_client","title":"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (buf_client)","text":"<p>\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e gRPC-\u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437 \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (<code>static</code>). \u0420\u0435\u0436\u0438\u043c <code>dynamic</code> \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435 \u0447\u0435\u0440\u0435\u0437 <code>NewDynamicClient(ctx, address)</code>:</p> <pre><code>grpc:\n  - name: users\n    path: ./proto/users.proto\n    port: 9000\n    generator_type: buf_client\n    instantiation: dynamic  # \u041a\u043b\u0438\u0435\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u044b\u0437\u043e\u0432\u0435\n</code></pre> <p>\u0427\u0442\u043e \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0432 <code>dynamic</code> \u0440\u0435\u0436\u0438\u043c\u0435:</p> <ul> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043d\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 (<code>SetClient</code>)</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 Service struct</li> <li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043d\u0435 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432 <code>ValidateFor*</code></li> <li>\u0412\u043c\u0435\u0441\u0442\u043e <code>NewClient()</code> + <code>Init()</code> \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f <code>NewDynamicClient(ctx, address)</code></li> <li>\u0410\u0434\u0440\u0435\u0441 (host:port) \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442\u0441\u044f \u043a\u0430\u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440, \u0431\u0435\u0437 OnlineConf</li> </ul> <p>\u041a\u043e\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>dynamic</code>:</p> <ul> <li>\u0410\u0434\u0440\u0435\u0441 gRPC \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435</li> <li>\u041d\u0443\u0436\u043d\u0430 \u0438\u0437\u043e\u043b\u044f\u0446\u0438\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 \u043c\u0435\u0436\u0434\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438</li> <li>\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\u043c\u0438</li> </ul>"},{"location":"configuration/transports/#kafka","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>kafka</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f Kafka producers \u0438 consumers.</p> <pre><code>kafka:\n  - name: events_producer\n    type: producer\n    driver: segmentio\n    client: main_kafka\n    events:\n      - name: user_events\n        schema: models.user\n\n  - name: order_consumer\n    type: consumer\n    driver: segmentio\n    client: main_kafka\n    group: my_group\n    events:\n      - name: order_events\n</code></pre>"},{"location":"configuration/transports/#_6","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f producer/consumer <code>type</code> \u0414\u0430 <code>producer</code> \u0438\u043b\u0438 <code>consumer</code> <code>driver</code> \u041d\u0435\u0442 <code>segmentio</code> (default) \u0438\u043b\u0438 custom <code>client</code> \u0414\u0430 \u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0434\u043b\u044f OnlineConf \u043f\u0443\u0442\u0438 <code>group</code> \u0414\u043b\u044f consumer Consumer group <code>events</code> \u0414\u0430 \u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439"},{"location":"configuration/transports/#events","title":"\u041a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f Events","text":"<ul> <li><code>KafkaEvent</code> \u2014 \u0435\u0434\u0438\u043d\u0438\u0446\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438/\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439</li> <li>Event name \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 Go \u043c\u0435\u0442\u043e\u0434\u043e\u0432</li> <li>Topic name \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 event name</li> <li>Topic \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 OnlineConf</li> </ul>"},{"location":"configuration/transports/#_7","title":"\u0422\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f","text":"<p>Events \u043c\u043e\u0433\u0443\u0442 \u0441\u0441\u044b\u043b\u0430\u0442\u044c\u0441\u044f \u043d\u0430 JSON Schema:</p> <pre><code>jsonschema:\n  - name: models\n    schemas:\n      - id: user\n        path: ./user.schema.json\n\nkafka:\n  - name: producer\n    type: producer\n    client: main_kafka\n    events:\n      - name: user_events\n        schema: models.user  # \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434\n</code></pre>"},{"location":"configuration/transports/#onlineconf-kafka","title":"OnlineConf \u043f\u0443\u0442\u0438 \u0434\u043b\u044f Kafka","text":"\u041f\u0443\u0442\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>{service}/kafka/{client}/brokers</code> \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u0440\u043e\u043a\u0435\u0440\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e <code>{service}/kafka/{client}/auth_type</code> none, PLAIN, SCRAM-SHA-256, SCRAM-SHA-512 <code>{service}/kafka/{client}/username</code> SASL username <code>{service}/kafka/{client}/password</code> SASL password <code>{service}/kafka/{client}/tls_enabled</code> 0 \u0438\u043b\u0438 1 <code>{service}/kafka/{client}/events/{event_name}/topic</code> Override topic name"},{"location":"configuration/transports/#cli","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>cli</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f CLI \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430. CLI \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434 \u0438\u0437 YAML-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u2014 \u043f\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0438 \u0441 \u0442\u0435\u043c, \u043a\u0430\u043a ogen \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 REST handlers \u0438\u0437 OpenAPI.</p> <pre><code>cli:\n  - name: admin\n    path:\n      - ./commands.yaml           # \u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f CLI \u043a\u043e\u043c\u0430\u043d\u0434\n    generator_type: template\n    generator_template: cli\n\napplications:\n  - name: admin-cli\n    cli: admin\n    driver: [postgres]\n</code></pre>"},{"location":"configuration/transports/#_8","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f CLI \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 <code>path</code> \u041d\u0435\u0442 \u041f\u0443\u0442\u044c \u043a YAML-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043a\u043e\u043c\u0430\u043d\u0434 (<code>commands.yaml</code>) <code>generator_type</code> \u0414\u0430 <code>template</code> <code>generator_template</code> \u0414\u0430 <code>cli</code>"},{"location":"configuration/transports/#cli_1","title":"\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 CLI","text":"<ul> <li>CLI \u044d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u0435\u043d \u2014 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441 CLI \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c REST/gRPC \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b</li> <li>\u041e\u0434\u0438\u043d CLI \u043d\u0430 application</li> <li>\u0412\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u043e\u0442 \u0436\u0435 Service \u2014 CLI handlers \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 \u0442\u0435 \u0436\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u0441\u0435\u0440\u0432\u0438\u0441\u0430</li> <li>\u041c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b</li> </ul>"},{"location":"configuration/transports/#_9","title":"\u041f\u0440\u0438\u043d\u0446\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b","text":"<pre><code>./myapp &lt;command&gt; [arguments...]\n\n# \u041f\u0440\u0438\u043c\u0435\u0440\u044b:\n./myapp migrate up\n./myapp user create --email admin@example.com\n./myapp cache clear --all\n</code></pre>"},{"location":"configuration/transports/#commandsyaml","title":"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 (<code>commands.yaml</code>)","text":"<p>\u0415\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d <code>path</code>, \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0447\u0438\u0442\u0430\u0435\u0442 YAML-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e \u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442:</p> <ul> <li>Params structs \u2014 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b</li> <li>UnimplementedCLI \u2014 \u0441\u0442\u0430\u0431 \u0441 default-\u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 (\u043f\u043e \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0438 \u0441 ogen/gRPC)</li> <li>registerCommands() \u2014 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0441 flag parsing \u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439</li> <li>Command/Subcommand structs \u2014 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0438 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434</li> </ul> <pre><code># commands.yaml\ncommands:\n  - name: user\n    description: \"User management\"\n    subcommands:\n      - name: create\n        description: \"Create a new user\"\n        flags:\n          - name: email\n            type: string\n            required: true\n            description: \"User email\"\n          - name: name\n            type: string\n            description: \"User name\"\n      - name: list\n        description: \"List all users\"\n        flags:\n          - name: limit\n            type: int\n            default: \"100\"\n            description: \"Max results\"\n\n  - name: ping\n    description: \"Check connectivity\"\n\n  - name: migrate\n    description: \"Database migrations\"\n    flags:\n      - name: dir\n        type: string\n        default: \"up\"\n        description: \"Direction: up or down\"\n      - name: steps\n        type: int\n        description: \"Number of steps\"\n</code></pre> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438:</p> <ul> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c <code>subcommands</code> \u0418\u041b\u0418 \u0431\u044b\u0442\u044c leaf-\u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 (\u0431\u0435\u0437 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434)</li> <li>\u0424\u043b\u0430\u0433\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443 leaf-\u043a\u043e\u043c\u0430\u043d\u0434 \u0438 \u0443 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434</li> <li>\u0422\u0438\u043f\u044b \u0444\u043b\u0430\u0433\u043e\u0432: <code>string</code>, <code>int</code>, <code>bool</code>, <code>float64</code>, <code>duration</code></li> <li><code>required: true</code> \u2014 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430</li> <li><code>default</code> \u2014 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (\u0441\u0442\u0440\u043e\u043a\u0430, \u043f\u0430\u0440\u0441\u0438\u0442\u0441\u044f \u0432 \u043d\u0443\u0436\u043d\u044b\u0439 \u0442\u0438\u043f)</li> </ul>"},{"location":"configuration/transports/#_10","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u043a\u043e\u0434","text":"<p>\u0418\u0437 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0444\u0430\u0439\u043b <code>psg_handler_gen.go</code>:</p>"},{"location":"configuration/transports/#params-structs","title":"Params structs","text":"<p>\u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b/\u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441 \u0444\u043b\u0430\u0433\u0430\u043c\u0438 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f struct \u0441 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438:</p> <pre><code>type UserCreateParams struct {\n    Email string\n    Name  string\n}\n\ntype MigrateParams struct {\n    Dir   string\n    Steps int\n}\n</code></pre> <p>\u0418\u043c\u044f: <code>{Command}{Subcommand}Params</code> (PascalCase). \u0415\u0441\u043b\u0438 \u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043d\u0435\u0442 \u0444\u043b\u0430\u0433\u043e\u0432, Params struct \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f.</p>"},{"location":"configuration/transports/#unimplementedcli","title":"UnimplementedCLI","text":"<p>\u0421\u0442\u0430\u0431 \u0441 default-\u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u2014 \u043c\u043e\u0436\u043d\u043e \u0441\u0440\u0430\u0437\u0443 \u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0431\u0435\u0437 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043b\u043e\u0433\u0438\u043a\u0438:</p> <pre><code>type UnimplementedCLI struct{}\n\nfunc (UnimplementedCLI) RunUserCreate(ctx context.Context, params UserCreateParams) error {\n    return fmt.Errorf(\"command 'user create' is not implemented\")\n}\n\nfunc (UnimplementedCLI) RunPing(ctx context.Context) error {\n    return fmt.Errorf(\"command 'ping' is not implemented\")\n}\n</code></pre> <p>\u0418\u043c\u044f \u043c\u0435\u0442\u043e\u0434\u0430: <code>Run{Command}{Subcommand}</code> (PascalCase).</p>"},{"location":"configuration/transports/#_11","title":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u043a\u043e\u0434","text":"<p>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0444\u0430\u0439\u043b\u044b \u0432 \u0442\u043e\u043c \u0436\u0435 \u043f\u0430\u043a\u0435\u0442\u0435 \u0438 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043c\u0435\u0442\u043e\u0434\u044b:</p> <pre><code>// user.go\npackage admin\n\nfunc (h *Handler) RunUserCreate(ctx context.Context, params UserCreateParams) error {\n    user, err := h.GetService().CreateUser(ctx, params.Email, params.Name)\n    if err != nil {\n        return fmt.Errorf(\"failed to create user: %w\", err)\n    }\n    fmt.Printf(\"User created: ID=%d\\n\", user.ID)\n    return nil\n}\n</code></pre> <p>\u0410\u043d\u0430\u043b\u043e\u0433\u0438\u044f \u0441 ogen</p> <p>\u041f\u0430\u0442\u0442\u0435\u0440\u043d \u0438\u0434\u0435\u043d\u0442\u0438\u0447\u0435\u043d ogen: spec \u2192 <code>UnimplementedHandler</code> \u2192 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043d\u0443\u0436\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b. \u041d\u0435\u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 \"not implemented\".</p>"},{"location":"configuration/transports/#_12","title":"\u0411\u0435\u0437 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","text":"<p>\u0415\u0441\u043b\u0438 <code>path</code> \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d, \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 handler \u0441 \u0437\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u043e\u043c \u0434\u043b\u044f \u0440\u0443\u0447\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043a\u043e\u043c\u0430\u043d\u0434.</p>"},{"location":"configuration/transports/#cli-worker","title":"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 CLI \u0438 Worker","text":"CLI Worker \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u043c \u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u043e\u0434\u043d\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0410\u0432\u0442\u043e\u043d\u043e\u043c\u043d\u044b\u0439 \u0417\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043e shutdown"},{"location":"configuration/workers/","title":"Workers","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0435\u043a\u0446\u0438\u0438 <code>workers</code> \u0434\u043b\u044f \u0444\u043e\u043d\u043e\u0432\u044b\u0445 \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432.</p>"},{"location":"configuration/workers/#workers_1","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>workers</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0444\u043e\u043d\u043e\u0432\u044b\u0445 \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432.</p> <pre><code>workers:\n  - name: notification_bot\n    generator_type: telegram\n\n  - name: background_processor\n    generator_type: daemon\n</code></pre>"},{"location":"configuration/workers/#_1","title":"\u041f\u043e\u043b\u044f","text":"\u041f\u043e\u043b\u0435 \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>name</code> \u0414\u0430 \u0418\u043c\u044f \u0432\u043e\u0440\u043a\u0435\u0440\u0430 <code>generator_type</code> \u0414\u0430 \u0422\u0438\u043f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430: <code>telegram</code> \u0438\u043b\u0438 <code>daemon</code> <code>generator_template</code> \u041d\u0435\u0442 \u0418\u043c\u044f \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},{"location":"configuration/workers/#_2","title":"\u0422\u0438\u043f\u044b \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432","text":""},{"location":"configuration/workers/#telegram-bot","title":"Telegram Bot","text":"<p>Telegram \u0431\u043e\u0442 \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 webhooks \u0438 polling.</p> <pre><code>workers:\n  - name: notification_bot\n    generator_type: telegram\n</code></pre>"},{"location":"configuration/workers/#_3","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438","text":"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 Handler \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 PreCheckoutQuery <code>PreCheckout</code> \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0430 SuccessfulPayment <code>Purchase</code> \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 CallbackQuery <code>CallbackQuery</code> Callback \u043e\u0442 \u043a\u043d\u043e\u043f\u043e\u043a Message <code>TextMessage</code> \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0430/\u043a\u043e\u043c\u0430\u043d\u0434"},{"location":"configuration/workers/#_4","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>internal/app/{app}/worker/telegram/{worker_name}/\n\u251c\u2500\u2500 router.go         # \u041c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439\n\u251c\u2500\u2500 handler/\n\u2502   \u2514\u2500\u2500 handler.go    # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 (\u0432\u0430\u0448 \u043a\u043e\u0434)\n\u2514\u2500\u2500 commands/\n    \u2514\u2500\u2500 commands.go   # \u041a\u043e\u043c\u0430\u043d\u0434\u044b \u0431\u043e\u0442\u0430\n</code></pre>"},{"location":"configuration/workers/#daemon","title":"Daemon","text":"<p>\u0424\u043e\u043d\u043e\u0432\u044b\u0439 \u0434\u0435\u043c\u043e\u043d \u0434\u043b\u044f \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u0447.</p> <pre><code>workers:\n  - name: background_processor\n    generator_type: daemon\n</code></pre>"},{"location":"configuration/workers/#_5","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>internal/app/{app}/worker/daemon/{worker_name}/\n\u251c\u2500\u2500 worker.go         # \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u043e\u0440\u043a\u0435\u0440\n\u2514\u2500\u2500 handler/\n    \u2514\u2500\u2500 handler.go    # \u041b\u043e\u0433\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u0432\u0430\u0448 \u043a\u043e\u0434)\n</code></pre>"},{"location":"configuration/workers/#_6","title":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432 \u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e","text":"<p>\u0412\u043e\u0440\u043a\u0435\u0440\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0430\u044e\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0441\u0435\u043a\u0446\u0438\u044e <code>applications</code>:</p> <pre><code>workers:\n  - name: notification_bot\n    generator_type: telegram\n\n  - name: background_processor\n    generator_type: daemon\n\napplications:\n  # \u0412\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0432\u043e\u0440\u043a\u0435\u0440 instance\n  - name: worker\n    workers: [notification_bot, background_processor]\n    transport: [sys]  # \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 endpoints \u0434\u043b\u044f \u043c\u0435\u0442\u0440\u0438\u043a\n\n  # \u0418\u043b\u0438 \u043a\u043e\u043c\u0431\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\n  - name: monolith\n    transport: [api, sys]\n    workers: [notification_bot]\n</code></pre>"},{"location":"configuration/workers/#_7","title":"\u0416\u0438\u0437\u043d\u0435\u043d\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0432\u043e\u0440\u043a\u0435\u0440\u0430","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                \u0418\u041d\u0418\u0426\u0418\u0410\u041b\u0418\u0417\u0410\u0426\u0418\u042f                \u2502\n\u2502  1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0440\u043a\u0435\u0440\u0430                        \u2502\n\u2502  2. \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n                      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   \u0417\u0410\u041f\u0423\u0421\u041a                    \u2502\n\u2502  1. \u0417\u0430\u043f\u0443\u0441\u043a \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0433\u043e\u0440\u0443\u0442\u0438\u043d\u0435            \u2502\n\u2502  2. Telegram: \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a API            \u2502\n\u2502  3. Daemon: \u0437\u0430\u043f\u0443\u0441\u043a \u0446\u0438\u043a\u043b\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n                      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  \u0420\u0410\u0411\u041e\u0422\u0410                     \u2502\n\u2502  - Telegram: \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043e\u0442 \u0431\u043e\u0442\u0430     \u2502\n\u2502  - Daemon: \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0437\u0430\u0434\u0430\u0447  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n                      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                \u0417\u0410\u0412\u0415\u0420\u0428\u0415\u041d\u0418\u0415                   \u2502\n\u2502  1. Graceful shutdown                       \u2502\n\u2502  2. \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439            \u2502\n\u2502  3. \u041e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"configuration/workers/#onlineconf","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 OnlineConf","text":""},{"location":"configuration/workers/#telegram-bot_1","title":"Telegram Bot","text":"\u041f\u0443\u0442\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>{service}/worker/telegram/{name}/token</code> Bot token <code>{service}/worker/telegram/{name}/webhook_url</code> Webhook URL (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"},{"location":"configuration/workers/#daemon_1","title":"Daemon","text":"\u041f\u0443\u0442\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>{service}/worker/daemon/{name}/interval</code> \u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f <code>{service}/worker/daemon/{name}/enabled</code> \u0412\u043a\u043b\u044e\u0447\u0435\u043d/\u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d"},{"location":"configuration/workers/#_8","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u043e\u043b\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<pre><code>main:\n  name: notification-service\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/notification-service\n  module_path: github.com/myorg/notification-service\n\nrest:\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\nworkers:\n  - name: telegram_bot\n    generator_type: telegram\n\n  - name: email_sender\n    generator_type: daemon\n\ndrivers:\n  - name: telegram\n    import: pkg/drivers/telegram\n    package: telegram\n    obj_name: TelegramDriver\n\napplications:\n  - name: notifier\n    workers: [telegram_bot, email_sender]\n    transport: [sys]\n    driver: [telegram]\n</code></pre>"},{"location":"development/","title":"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430","text":"<p>\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044e Go Project Starter.</p>"},{"location":"development/#_2","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u2014 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430</li> </ul>"},{"location":"development/#_3","title":"\u041e\u0431\u0437\u043e\u0440 \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u044b","text":"<pre><code>graph TB\n    subgraph \"Generator Tool\"\n        CLI[CLI Entry Point&lt;br/&gt;main.go] --&gt; Config[Configuration Loader&lt;br/&gt;config package]\n        Config --&gt; Generator[Code Generator&lt;br/&gt;generator package]\n        Generator --&gt; Templater[Template Engine&lt;br/&gt;templater package]\n        Templater --&gt; Templates[Embedded Templates&lt;br/&gt;embedded/templates/]\n    end\n\n    subgraph \"Generated Output\"\n        Templates --&gt; REST[REST APIs&lt;br/&gt;Ogen/Template-based]\n        Templates --&gt; GRPC[gRPC Services&lt;br/&gt;Protobuf-based]\n        Templates --&gt; Workers[Workers&lt;br/&gt;Telegram/Daemon]\n        Templates --&gt; Infra[Infrastructure&lt;br/&gt;Docker/Traefik/CI]\n    end</code></pre>"},{"location":"development/#_4","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430","text":"<pre><code>go-project-starter/\n\u251c\u2500\u2500 cmd/go-project-starter/    # CLI \u0442\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430\n\u2502   \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 internal/pkg/\n\u2502   \u251c\u2500\u2500 config/                # \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432\n\u2502   \u2502   \u251c\u2500\u2500 config.go\n\u2502   \u2502   \u2514\u2500\u2500 structs.go\n\u2502   \u251c\u2500\u2500 generator/             # \u041e\u0440\u043a\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438\n\u2502   \u2502   \u2514\u2500\u2500 generator.go\n\u2502   \u251c\u2500\u2500 templater/             # \u0414\u0432\u0438\u0436\u043e\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432\n\u2502   \u2502   \u251c\u2500\u2500 templater.go\n\u2502   \u2502   \u251c\u2500\u2500 fs.go\n\u2502   \u2502   \u251c\u2500\u2500 disclaimer.go\n\u2502   \u2502   \u2514\u2500\u2500 embedded/templates/\n\u2502   \u251c\u2500\u2500 meta/                  # \u0412\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n\u2502   \u2502   \u2514\u2500\u2500 meta.go\n\u2502   \u251c\u2500\u2500 migrate/               # \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u043c\u0435\u0436\u0434\u0443 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438\n\u2502   \u2502   \u2514\u2500\u2500 migrate.go\n\u2502   \u2514\u2500\u2500 ds/                    # Domain structures\n\u2502       \u2514\u2500\u2500 const.go\n\u251c\u2500\u2500 example/                   # \u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439\n\u2514\u2500\u2500 test/                      # \u0422\u0435\u0441\u0442\u044b\n</code></pre>"},{"location":"development/#_5","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":""},{"location":"development/#config","title":"config/","text":"<p>\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 spf13/viper.</p> <p>\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:</p> <ul> <li>\u041f\u0430\u0440\u0441\u0438\u043d\u0433 YAML-\u0444\u0430\u0439\u043b\u043e\u0432</li> <li>\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0432\u0441\u0435\u0445 \u0441\u0435\u043a\u0446\u0438\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> <li>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 lookup maps \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430</li> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e</li> </ul>"},{"location":"development/#generator","title":"generator/","text":"<p>\u041e\u0440\u043a\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.</p> <p>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u044d\u0442\u0430\u043f\u044b:</p> <ol> <li>\u0421\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 (main, transport, worker, logger, app)</li> <li>\u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0444\u0430\u0439\u043b\u043e\u0432</li> <li>\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> <li>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439 \u0438 \u0444\u0430\u0439\u043b\u043e\u0432</li> <li>\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 API-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0439</li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0445</li> <li>\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 post-generation \u0437\u0430\u0434\u0430\u0447</li> </ol>"},{"location":"development/#templater","title":"templater/","text":"<p>\u0414\u0432\u0438\u0436\u043e\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430.</p> <p>\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438:</p> <ul> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Go <code>text/template</code></li> <li>Embedded filesystem \u0434\u043b\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432</li> <li>Disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430</li> <li>\u041a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432</li> </ul>"},{"location":"development/#meta","title":"meta/","text":"<p>\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f\u043c\u0438.</p> <p>\u0424\u0443\u043d\u043a\u0446\u0438\u0438:</p> <ul> <li>\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0432 <code>meta.yaml</code></li> <li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430</li> <li>\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0445\u0435\u043c\u044b</li> </ul>"},{"location":"development/#_6","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438","text":"<pre><code>sequenceDiagram\n    participant CLI as CLI\n    participant Config as Config\n    participant Generator as Generator\n    participant Templater as Templater\n    participant FS as Filesystem\n\n    CLI-&gt;&gt;Config: Load YAML config\n    Config-&gt;&gt;Config: Validate\n    CLI-&gt;&gt;Generator: Generate()\n    Generator-&gt;&gt;Templater: Collect templates\n    Generator-&gt;&gt;FS: Scan existing files\n    FS-&gt;&gt;Generator: Extract user code\n\n    loop For each template\n        Generator-&gt;&gt;Templater: Execute template\n        Templater-&gt;&gt;Generator: Generated code\n        Generator-&gt;&gt;Generator: Merge with user code\n    end\n\n    Generator-&gt;&gt;FS: Write files\n    Generator-&gt;&gt;FS: Copy API specs\n    Generator-&gt;&gt;FS: Save metadata</code></pre>"},{"location":"development/#_7","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432","text":"<pre><code>templater/embedded/templates/\n\u251c\u2500\u2500 main/              # \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430\n\u2502   \u251c\u2500\u2500 Makefile.tmpl\n\u2502   \u251c\u2500\u2500 Dockerfile.tmpl\n\u2502   \u251c\u2500\u2500 docker-compose.yaml.tmpl\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 transport/\n\u2502   \u251c\u2500\u2500 rest/\n\u2502   \u2502   \u251c\u2500\u2500 ogen/      # OpenAPI \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\n\u2502   \u2502   \u2514\u2500\u2500 template/\n\u2502   \u2502       \u2514\u2500\u2500 sys/   # \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d\n\u2502   \u251c\u2500\u2500 grpc/          # gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b\n\u2502   \u2514\u2500\u2500 kafka/         # Kafka consumers\n\u251c\u2500\u2500 worker/\n\u2502   \u2514\u2500\u2500 template/\n\u2502       \u251c\u2500\u2500 telegram/  # Telegram \u0431\u043e\u0442\n\u2502       \u2514\u2500\u2500 daemon/    # Daemon \u0432\u043e\u0440\u043a\u0435\u0440\n\u251c\u2500\u2500 app/               # Application layer\n\u2514\u2500\u2500 logger/            # Logger implementations\n</code></pre>"},{"location":"development/#_8","title":"\u0422\u0438\u043f\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432","text":""},{"location":"development/#rest","title":"REST \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b","text":"\u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 <code>ogen</code> OpenAPI 3.0 \u043a\u043e\u0434\u043e\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0431\u0438\u0437\u043d\u0435\u0441 API <code>template</code> \u0428\u0430\u0431\u043b\u043e\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f Health checks, \u043c\u0435\u0442\u0440\u0438\u043a\u0438, \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 endpoints <code>ogen_client</code> REST \u043a\u043b\u0438\u0435\u043d\u0442 \u0412\u044b\u0437\u043e\u0432 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 API"},{"location":"development/#_9","title":"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b","text":"<ul> <li><code>sys</code> \u2014 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f Prometheus \u043c\u0435\u0442\u0440\u0438\u043a, health checks, pprof</li> </ul>"},{"location":"development/#workflow","title":"Workflow \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438","text":""},{"location":"development/#1","title":"1. \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f","text":"<pre><code>git clone https://github.com/Educentr/go-project-starter\ncd go-project-starter\n</code></pre>"},{"location":"development/#2","title":"2. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code>go mod download\n</code></pre>"},{"location":"development/#3","title":"3. \u0421\u0431\u043e\u0440\u043a\u0430","text":"<pre><code>make build\n# \u0438\u043b\u0438\ngo build -o go-project-starter ./cmd/go-project-starter\n</code></pre>"},{"location":"development/#4","title":"4. \u041b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":"<pre><code>go install ./cmd/go-project-starter\n</code></pre>"},{"location":"development/#5","title":"5. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>go-project-starter --config=example/config.yaml --target=/tmp/test-project\n</code></pre>"},{"location":"development/#_10","title":"\u041a\u043e\u043c\u0430\u043d\u0434\u044b","text":"<pre><code># \u0421\u0431\u043e\u0440\u043a\u0430\nmake build\n\n# \u0422\u0435\u0441\u0442\u044b\nmake test      # \u0421 coverage\nmake race      # \u0421 race detector\n\n# Linting\nmake install-lint   # \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 golangci-lint\nmake lint           # \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439\nmake lint-full      # \u041f\u043e\u043b\u043d\u044b\u0439 lint\nmake lint-fix       # \u0410\u0432\u0442\u043e\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\n\n# Coverage\nmake coverage       # HTML \u043e\u0442\u0447\u0451\u0442\n</code></pre>"},{"location":"development/#_11","title":"\u0426\u0438\u043a\u043b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438","text":"<pre><code># 1. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u0434\u0435\n# 2. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\ngo install ./cmd/go-project-starter\n\n# 3. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\ngo-project-starter --config=example/config.yaml --target=/tmp/test\n\n# 4. Lint\nmake lint\n\n# 5. Commit\ngit add .\ngit commit -m \"Feature: ...\"\n</code></pre>"},{"location":"development/#_12","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430","text":""},{"location":"development/#_13","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430","text":"<ol> <li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e: <code>templates/transport/rest/template/{name}/</code></li> <li>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 <code>.tmpl</code> \u0444\u0430\u0439\u043b\u044b</li> <li>\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u0432 <code>templater/fs.go</code></li> <li>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u0435\u0441\u0442\u044b</li> <li>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044e</li> </ol>"},{"location":"development/#_14","title":"\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432","text":"<pre><code>package {{ .PackageName }}\n\n// Generated by go-project-starter\n// Version: {{ .Version }}\n\ntype {{ .StructName }} struct {\n    {{- range .Fields }}\n    {{ .Name }} {{ .Type }} `json:\"{{ .JSONName }}\"`\n    {{- end }}\n}\n</code></pre>"},{"location":"development/#_15","title":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432","text":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>.ProjectName</code> \u0418\u043c\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 <code>.ModulePath</code> Go module path <code>.Version</code> \u0412\u0435\u0440\u0441\u0438\u044f API <code>.Port</code> \u041f\u043e\u0440\u0442 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 <code>.RestName</code> \u0418\u043c\u044f REST \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430"},{"location":"development/#_16","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438","text":"<p>\u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044e \u0432 <code>config/structs.go</code>:</p> <pre><code>func (c *Config) Validate() error {\n    if c.Main.Name == \"\" {\n        return errors.New(\"main.name is required\")\n    }\n\n    names := make(map[string]bool)\n    for _, rest := range c.Rest {\n        if names[rest.Name] {\n            return fmt.Errorf(\"duplicate rest name: %s\", rest.Name)\n        }\n        names[rest.Name] = true\n    }\n\n    return nil\n}\n</code></pre> <p>\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438:</p> <ol> <li>REST/gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0432 applications</li> <li>\u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c</li> <li>\u0418\u043c\u0435\u043d\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</li> <li>ActiveRecord \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f ArgenVersion</li> <li>\u041f\u043e\u0440\u0442\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f REST (\u043a\u0440\u043e\u043c\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 <code>sys</code>)</li> </ol>"},{"location":"development/#_17","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438","text":"<pre><code># Dry-run\ngo-project-starter --dry-run --config=example/config.yaml --target=/tmp/test\n\n# \u041f\u043e\u043b\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f\ngo-project-starter --config=example/config.yaml --target=/tmp/test\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438\ncd /tmp/test &amp;&amp; go build ./...\n</code></pre>"},{"location":"development/#runtime","title":"\u0412\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 Runtime","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 go-project-starter-runtime. \u041f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0435\u043b\u0438\u0437\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c <code>MinRuntimeVersion</code>:</p> <pre><code>// internal/pkg/templater/templater.go\nconst MinRuntimeVersion = \"vX.Y.Z\"\n</code></pre>"},{"location":"development/#release-checklist","title":"Release Checklist","text":""},{"location":"development/#1-runtime","title":"1. \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 Runtime","text":"<pre><code>// internal/pkg/templater/templater.go\nconst MinRuntimeVersion = \"vX.Y.Z\"  // \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0432\u0435\u0440\u0441\u0438\u044f runtime\n</code></pre>"},{"location":"development/#2-deprecation-cleanup","title":"2. Deprecation Cleanup","text":"<ol> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 <code>internal/pkg/migrate/migrate.go</code></li> <li>\u0423\u0434\u0430\u043b\u0438\u0442\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0439 \u043a\u043e\u0434</li> <li>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 <code>DEPRECATION.md</code></li> </ol>"},{"location":"development/#3-github-release","title":"3. GitHub Release","text":"<pre><code># \u041d\u0430\u0439\u0442\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0440\u0435\u043b\u0438\u0437\ngh release list --limit 1\n\n# \u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\ngh release view &lt;prev-version&gt; --json targetCommitish -q .targetCommitish\ngit log --oneline &lt;prev-commit&gt;..HEAD\n\n# \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u0435\u043b\u0438\u0437\ngh release create vX.Y.Z --title \"vX.Y.Z - Title\" --notes \"...\"\n</code></pre>"},{"location":"development/#code-review","title":"Code Review","text":"<ul> <li>\u0412\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 PR</li> <li>\u041d\u0443\u0436\u0435\u043d \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d approve</li> <li>CI \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442\u044c</li> </ul>"},{"location":"development/#_18","title":"\u0420\u0435\u0441\u0443\u0440\u0441\u044b","text":"<ul> <li>GitHub Issues</li> <li>GitHub Discussions</li> </ul>"},{"location":"development/generator/","title":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430","text":"<p>Go Project Starter \u2014 \u044d\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043a\u043e\u0434\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0447\u0438\u0442\u0430\u0435\u0442 YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0443 Go-\u043f\u0440\u043e\u0435\u043a\u0442.</p>"},{"location":"development/generator/#_2","title":"\u041e\u0431\u0437\u043e\u0440","text":"<pre><code>graph LR\n    A[YAML Config] --&gt; B[Config Loader]\n    B --&gt; C[Validator]\n    C --&gt; D[Generator]\n    D --&gt; E[Template Engine]\n    E --&gt; F[File System]\n    F --&gt; G[Post-processing]</code></pre>"},{"location":"development/generator/#_3","title":"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b","text":""},{"location":"development/generator/#_4","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0430\u043a\u0435\u0442\u043e\u0432","text":"<pre><code>internal/pkg/\n\u251c\u2500\u2500 config/       # \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438\n\u251c\u2500\u2500 generator/    # \u041e\u0440\u043a\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438\n\u251c\u2500\u2500 templater/    # \u0414\u0432\u0438\u0436\u043e\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432\n\u251c\u2500\u2500 meta/         # \u041c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\n\u251c\u2500\u2500 migrate/      # \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u043c\u0435\u0436\u0434\u0443 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438\n\u251c\u2500\u2500 ds/           # Domain structures\n\u251c\u2500\u2500 init/         # \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n\u2514\u2500\u2500 setup/        # Setup wizard\n</code></pre>"},{"location":"development/generator/#config","title":"config/","text":"<p>\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 spf13/viper.</p> <p>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438:</p> <ul> <li>\u041f\u0430\u0440\u0441\u0438\u043d\u0433 YAML-\u0444\u0430\u0439\u043b\u043e\u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> <li>\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0432\u0441\u0435\u0445 \u0441\u0435\u043a\u0446\u0438\u0439 (main, git, rest, grpc, workers, applications, \u0438 \u0442.\u0434.)</li> <li>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 lookup maps \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c</li> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e</li> </ul> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438:</p> <ol> <li>REST/gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0432 applications</li> <li>\u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c</li> <li>\u0418\u043c\u0435\u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432, \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432 \u0438 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</li> <li>ActiveRecord \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f ArgenVersion</li> <li>\u041f\u043e\u0440\u0442\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f REST (\u043a\u0440\u043e\u043c\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 <code>sys</code>)</li> </ol>"},{"location":"development/generator/#generator","title":"generator/","text":"<p>\u041e\u0440\u043a\u0435\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u2014 \u0446\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442.</p> <p>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u044d\u0442\u0430\u043f\u044b:</p> <ol> <li>\u0421\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c (main, transport, worker, logger, app)</li> <li>\u0421\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u0438 \u0438\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430</li> <li>\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> <li>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439 \u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432</li> <li>\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 API-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0439 (OpenAPI, Protobuf)</li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0445 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438</li> <li>\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 post-generation \u0437\u0430\u0434\u0430\u0447 (git init, goimports, go mod tidy)</li> </ol>"},{"location":"development/generator/#templater","title":"templater/","text":"<p>\u0414\u0432\u0438\u0436\u043e\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430.</p> <p>\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438:</p> <ul> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e Go <code>text/template</code></li> <li>Embedded filesystem \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f 78+ \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432</li> <li>Disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430</li> <li>\u041a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432</li> </ul> <p>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432:</p> <pre><code>templater/embedded/templates/\n\u251c\u2500\u2500 main/              # Makefile, Dockerfile, docker-compose, configs\n\u251c\u2500\u2500 transport/\n\u2502   \u251c\u2500\u2500 rest/\n\u2502   \u2502   \u251c\u2500\u2500 ogen/      # OpenAPI 3.0 \u043a\u043e\u0434\u043e\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f\n\u2502   \u2502   \u2514\u2500\u2500 template/\n\u2502   \u2502       \u2514\u2500\u2500 sys/   # Health checks, \u043c\u0435\u0442\u0440\u0438\u043a\u0438, pprof\n\u2502   \u251c\u2500\u2500 grpc/          # gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b\n\u2502   \u2514\u2500\u2500 kafka/         # Kafka consumers\n\u251c\u2500\u2500 worker/\n\u2502   \u2514\u2500\u2500 template/\n\u2502       \u251c\u2500\u2500 telegram/  # Telegram \u0431\u043e\u0442\n\u2502       \u2514\u2500\u2500 daemon/    # Background daemon\n\u251c\u2500\u2500 app/               # Application layer\n\u2514\u2500\u2500 logger/            # Logger implementations (zerolog, logrus)\n</code></pre>"},{"location":"development/generator/#meta","title":"meta/","text":"<p>\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0438 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <p>\u0424\u0443\u043d\u043a\u0446\u0438\u0438:</p> <ul> <li>\u0425\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0432 <code>meta.yaml</code></li> <li>\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438</li> <li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430</li> </ul>"},{"location":"development/generator/#migrate","title":"migrate/","text":"<p>\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430.</p> <p>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:</p> <ul> <li>\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b</li> <li>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0445 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439</li> <li>\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 deprecated \u043a\u043e\u0434\u0430 \u043f\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044e</li> </ul>"},{"location":"development/generator/#_5","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438","text":"<pre><code>sequenceDiagram\n    participant CLI\n    participant Config\n    participant Generator\n    participant Templater\n    participant FS as Filesystem\n\n    CLI-&gt;&gt;Config: Load YAML\n    Config-&gt;&gt;Config: Validate\n    CLI-&gt;&gt;Generator: Generate()\n    Generator-&gt;&gt;Templater: Collect templates\n    Generator-&gt;&gt;FS: Scan existing files\n    FS-&gt;&gt;Generator: Extract user code\n\n    loop For each template\n        Generator-&gt;&gt;Templater: Execute template\n        Templater-&gt;&gt;Generator: Generated code\n        Generator-&gt;&gt;Generator: Merge with user code\n    end\n\n    Generator-&gt;&gt;FS: Write files\n    Generator-&gt;&gt;FS: Copy API specs\n    Generator-&gt;&gt;FS: Save metadata\n    Generator-&gt;&gt;Generator: Post-processing</code></pre>"},{"location":"development/generator/#1","title":"1. \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<p>CLI \u0447\u0438\u0442\u0430\u0435\u0442 YAML-\u0444\u0430\u0439\u043b \u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u0435\u0433\u043e \u0432 config loader. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043e\u0434\u0438\u043d \u0444\u0430\u0439\u043b (<code>--config</code>), \u0442\u0430\u043a \u0438 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 (<code>--configDir</code>).</p>"},{"location":"development/generator/#2","title":"2. \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f","text":"<p>Config loader \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442:</p> <ul> <li>\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f (main.name, git.repo)</li> <li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043e\u043a (\u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b \u0432 applications, \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b)</li> <li>\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432 \u0438\u043c\u0451\u043d</li> <li>\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a</li> </ul>"},{"location":"development/generator/#3","title":"3. \u0421\u0431\u043e\u0440 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432","text":"<p>Generator \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:</p> <ul> <li>main/ \u2014 \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442\u0441\u044f</li> <li>transport/rest/ \u2014 \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0441\u0435\u043a\u0446\u0438\u044f <code>rest</code></li> <li>transport/grpc/ \u2014 \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0441\u0435\u043a\u0446\u0438\u044f <code>grpc</code></li> <li>transport/kafka/ \u2014 \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0441\u0435\u043a\u0446\u0438\u044f <code>kafka</code></li> <li>worker/ \u2014 \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0441\u0435\u043a\u0446\u0438\u044f <code>workers</code></li> <li>logger/ \u2014 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 <code>main.logger</code></li> </ul>"},{"location":"development/generator/#4","title":"4. \u0418\u0437\u0432\u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430","text":"<p>\u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442 \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, generator \u0441\u043a\u0430\u043d\u0438\u0440\u0443\u0435\u0442 \u0444\u0430\u0439\u043b\u044b \u0438 \u0438\u0437\u0432\u043b\u0435\u043a\u0430\u0435\u0442 \u043a\u043e\u0434, \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c (\u043a\u043e\u0434 \u043d\u0438\u0436\u0435 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u043e\u0432).</p>"},{"location":"development/generator/#5","title":"5. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0441 \u043a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u043e\u043c, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u043c:</p> <ul> <li>\u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438</li> <li>\u0412\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438</li> <li>\u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438</li> </ul>"},{"location":"development/generator/#6","title":"6. \u0421\u043b\u0438\u044f\u043d\u0438\u0435 \u043a\u043e\u0434\u0430","text":"<p>\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u0442\u0441\u044f \u0441 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u043c \u043a\u043e\u0434\u043e\u043c \u0447\u0435\u0440\u0435\u0437 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b.</p>"},{"location":"development/generator/#7","title":"7. \u0417\u0430\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u043e\u0432","text":"<p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e.</p>"},{"location":"development/generator/#8-post-processing","title":"8. Post-processing","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f:</p> <ul> <li><code>git init</code> (\u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f)</li> <li><code>goimports</code> (\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432)</li> <li><code>go mod tidy</code> (\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439)</li> </ul>"},{"location":"development/generator/#disclaimer-","title":"Disclaimer-\u0441\u0438\u0441\u0442\u0435\u043c\u0430","text":"<p>\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u2014 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.</p>"},{"location":"development/generator/#_6","title":"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043c\u0430\u0440\u043a\u0435\u0440:</p> <pre><code>// \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u0434\npackage handler\n\nimport \"context\"\n\ntype Handler struct {}\n\n// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// ==========================================\n\n// \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u043a\u043e\u0434 \u043d\u0438\u0436\u0435 \u2014 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0451\u0442 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e\nfunc (h *Handler) CustomMethod() {\n    // \u0412\u0430\u0448\u0430 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430\n}\n</code></pre>"},{"location":"development/generator/#_7","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b","text":"<ol> <li>\u0412\u044b\u0448\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u2014 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u0434, \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438</li> <li>\u041d\u0438\u0436\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u2014 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u043a\u043e\u0434, \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f</li> <li>\u041d\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043e\u0434 \u0432\u044b\u0448\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u2014 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b</li> </ol>"},{"location":"development/generator/#_8","title":"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430","text":"<ul> <li>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u0435\u0437 \u043f\u043e\u0442\u0435\u0440\u0438 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438</li> <li>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 API</li> <li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 endpoints \u0431\u0435\u0437 \u0440\u0443\u0447\u043d\u043e\u0433\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> </ul>"},{"location":"development/generator/#_9","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0444\u0430\u0439\u043b\u043e\u0432 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430","text":"<p>\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f: \u0444\u0430\u0439\u043b\u044b \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u044b\u0432\u0430\u044e\u0442\u0441\u044f, \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u044e\u0442\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u0438\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438, \u0438\u043b\u0438 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0443\u0434\u0430\u043b\u044f\u044e\u0442\u0441\u044f \u0438\u0437 \u043d\u0430\u0431\u043e\u0440\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432. \u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0434\u0432\u0430 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c\u0430 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438.</p>"},{"location":"development/generator/#metaversion","title":"\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u043e\u0432 (Meta.Version)","text":"<p>\u041c\u0435\u0445\u0430\u043d\u0438\u0437\u043c: \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u043d\u044b\u0439, \u0447\u0435\u0440\u0435\u0437 <code>meta/meta.go</code> (<code>curVer = 3</code>).</p> <p>\u041f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0432 <code>.project-config/meta.yaml</code> \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f <code>version: &lt;curVer&gt;</code>. \u041f\u0440\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f\u0445 <code>GenerateFilenameByTmpl()</code> (\u0432 <code>templater.go</code>) \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0435\u0442 <code>lastVer</code> (\u0438\u0437 meta.yaml) \u0441 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u0441\u0442\u0430\u0440\u043e\u0435 \u0438\u043c\u044f \u0444\u0430\u0439\u043b\u0430:</p> <ul> <li><code>lastVer &lt; 2</code>: \u0444\u0430\u0439\u043b\u044b \u0431\u0435\u0437 \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430 <code>psg_</code> \u2192 \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 <code>psg_*_gen.go</code></li> <li><code>lastVer &lt; 3</code>: <code>pkg/ds/</code> \u2192 <code>pkg/app/ds/</code></li> </ul> <p>\u0421\u0442\u0430\u0440\u043e\u0435 \u0438\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 <code>file.OldDestName</code>, \u043d\u043e\u0432\u043e\u0435 \u2014 \u0432 <code>file.DestName</code>. \u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0444\u0430\u0439\u043b \u043f\u043e <code>OldDestName</code>, \u0438\u0437\u0432\u043b\u0435\u043a\u0430\u0435\u0442 user code, \u0438 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u043f\u043e <code>DestName</code>. \u041f\u0430\u0440\u0430 <code>(OldDestName \u2192 DestName)</code> \u043f\u043e\u043f\u0430\u0434\u0430\u0435\u0442 \u0432 <code>FilesDiff.RenameFiles</code>.</p> <p>\u041f\u043e\u0447\u0435\u043c\u0443 \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u043d\u044b\u0439 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c: \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438. \u0424\u0430\u0439\u043b <code>handler.go</code> \u043d\u0430 \u0434\u0438\u0441\u043a\u0435 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0442\u043e\u043c, \u0447\u0442\u043e \u043e\u043d \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u0442\u0430\u0442\u044c <code>psg_handler_gen.go</code> \u2014 \u044d\u0442\u0443 \u0441\u0432\u044f\u0437\u044c \u0437\u043d\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0434 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438. \u0410\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e, <code>pkg/ds/types.go</code> \u043d\u0435 \u0437\u043d\u0430\u0435\u0442, \u0447\u0442\u043e \u0435\u0433\u043e \u043d\u043e\u0432\u044b\u0439 \u043f\u0443\u0442\u044c \u2014 <code>pkg/app/ds/types.go</code>. \u041d\u0443\u0436\u043d\u0430 \u044f\u0432\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \"\u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0443\u0442\u044c \u2192 \u043d\u043e\u0432\u044b\u0439 \u043f\u0443\u0442\u044c\", \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043d\u0430\u044f \u043a \u0432\u0435\u0440\u0441\u0438\u0438.</p>"},{"location":"development/generator/#_10","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 (\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435)","text":"<p>\u041c\u0435\u0445\u0430\u043d\u0438\u0437\u043c: \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439, \u0447\u0435\u0440\u0435\u0437 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b.</p> <p>\u041a\u043e\u0433\u0434\u0430 \u0448\u0430\u0431\u043b\u043e\u043d \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437 \u043d\u0430\u0431\u043e\u0440\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0435 \u043a\u043e\u0434\u0430 \u0432 runtime), \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0434\u0438\u0441\u043a\u0435. <code>GetUserCodeFromFiles()</code> (\u0432 <code>templater.go</code>) \u043f\u0440\u0438 \u043e\u0431\u0445\u043e\u0434\u0435 <code>WalkDir</code> \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u0430\u043a\u0438\u0435 \u0444\u0430\u0439\u043b\u044b:</p> <ol> <li>\u0424\u0430\u0439\u043b \u043d\u0435 \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u043d\u0430\u0431\u043e\u0440 <code>NewFiles</code> (\u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d)</li> <li>\u0424\u0430\u0439\u043b \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 disclaimer (\u0437\u043d\u0430\u0447\u0438\u0442, \u0431\u044b\u043b \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d \u043d\u0430\u043c\u0438)</li> <li>\u0424\u0430\u0439\u043b \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 user code \u043d\u0438\u0436\u0435 disclaimer (\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c)</li> </ol> <p>\u0422\u0430\u043a\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u043f\u043e\u043f\u0430\u0434\u0430\u044e\u0442 \u0432 <code>FilesDiff.ObsoleteFiles</code> \u0438 \u0443\u0434\u0430\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u043e\u0432\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432. \u0415\u0441\u043b\u0438 \u0444\u0430\u0439\u043b \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 user code \u2014 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f \u043e\u0448\u0438\u0431\u043a\u043e\u0439, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0433 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u043a\u043e\u0434.</p> <p>\u041f\u043e\u0447\u0435\u043c\u0443 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c: \u0432 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u044f, \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u0435\u0442\u0435\u043a\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e. Disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440 \u2014 \u044d\u0442\u043e \u043d\u0430\u0448\u0430 \u00ab\u043f\u043e\u0434\u043f\u0438\u0441\u044c\u00bb \u0432 \u0444\u0430\u0439\u043b\u0435. \u0415\u0441\u043b\u0438 \u0444\u0430\u0439\u043b \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d \u043d\u0430\u043c\u0438, \u043d\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0443\u0436\u0435\u043d (\u043d\u0435 \u0432 \u043d\u0430\u0431\u043e\u0440\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432) \u0438 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u2014 \u043e\u043d \u0443\u0441\u0442\u0430\u0440\u0435\u043b. \u041d\u0435 \u043d\u0443\u0436\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0432\u0435\u0440\u0441\u0438\u0439 \u0438\u043b\u0438 \u044f\u0432\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u0430\u0439\u043b\u043e\u0432 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f: \u043b\u044e\u0431\u043e\u0439 \u043d\u0430\u0448 \u0444\u0430\u0439\u043b, \u0432\u044b\u043f\u0430\u0432\u0448\u0438\u0439 \u0438\u0437 \u043d\u0430\u0431\u043e\u0440\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432, \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d \u0438 \u0443\u0434\u0430\u043b\u0451\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438.</p>"},{"location":"development/generator/#_11","title":"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c\u043e\u0432","text":"\u0410\u0441\u043f\u0435\u043a\u0442 \u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0414\u0435\u0442\u0435\u043a\u0446\u0438\u044f \u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f (disclaimer) \u041c\u0435\u0445\u0430\u043d\u0438\u0437\u043c <code>Meta.Version</code> + \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 Disclaimer + \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0432 <code>NewFiles</code> \u041a\u043e\u0434 <code>GenerateFilenameByTmpl()</code> <code>GetUserCodeFromFiles()</code> \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c case \u0432 switch <code>lastVer</code> \u041d\u0438\u0447\u0435\u0433\u043e \u2014 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 User code \u041f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0432 \u043d\u043e\u0432\u044b\u0439 \u0444\u0430\u0439\u043b \u0411\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 (\u043e\u0448\u0438\u0431\u043a\u0430)"},{"location":"development/generator/#_12","title":"\u0422\u0438\u043f\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432","text":""},{"location":"development/generator/#rest","title":"REST \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b","text":"\u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u041f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 <code>ogen</code> OpenAPI 3.0 \u043a\u043e\u0434\u043e\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0431\u0438\u0437\u043d\u0435\u0441 API <code>template</code> \u0428\u0430\u0431\u043b\u043e\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 endpoints <code>ogen_client</code> REST \u043a\u043b\u0438\u0435\u043d\u0442 \u0412\u044b\u0437\u043e\u0432 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 API"},{"location":"development/generator/#_13","title":"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b","text":"<ul> <li><code>sys</code> \u2014 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043b\u044f Prometheus \u043c\u0435\u0442\u0440\u0438\u043a, health checks, pprof</li> </ul>"},{"location":"development/generator/#runtime","title":"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442 Runtime","text":"<p>\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 go-project-starter-runtime \u2014 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0441 runtime-\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430\u043c\u0438 (middleware, logging, metrics).</p> <p>\u041f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0435\u043b\u0438\u0437\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f runtime:</p> <pre><code>// internal/pkg/templater/templater.go\nconst MinRuntimeVersion = \"vX.Y.Z\"\n</code></pre>"},{"location":"development/generator/#_14","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u2014 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0438 \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u044b</li> <li>\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 \u2014 workflow \u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b</li> </ul>"},{"location":"examples/","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b","text":"<p>\u0413\u043e\u0442\u043e\u0432\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0439 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432.</p>"},{"location":"examples/#_2","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>REST API \u2014 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 REST API \u0441\u0435\u0440\u0432\u0438\u0441</li> <li>gRPC \u0441\u0435\u0440\u0432\u0438\u0441 \u2014 gRPC \u0441 REST gateway</li> <li>CLI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u2014 CLI \u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434 \u0438\u0437 YAML</li> <li>Telegram \u0431\u043e\u0442 \u2014 Telegram \u0431\u043e\u0442</li> <li>Multi-app \u2014 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0438\u0437 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u0434\u043e\u0432\u043e\u0439 \u0431\u0430\u0437\u044b</li> </ul>"},{"location":"examples/#_3","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0431\u043e\u0440","text":"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u041f\u0440\u0438\u043c\u0435\u0440 \u041f\u0440\u043e\u0441\u0442\u043e\u0439 REST API REST API gRPC \u0441 REST gateway gRPC \u0441\u0435\u0440\u0432\u0438\u0441 CLI \u0443\u0442\u0438\u043b\u0438\u0442\u0430 / admin tool CLI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 Telegram \u0431\u043e\u0442 Telegram \u0431\u043e\u0442 E-commerce \u0441 \u0432\u043e\u0440\u043a\u0435\u0440\u0430\u043c\u0438 Multi-app \u041c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441 \u0441 Kafka Multi-app"},{"location":"examples/#_4","title":"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<p>\u041f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u0441 \u043e\u0434\u043d\u0438\u043c REST API:</p> <pre><code>main:\n  name: simple-api\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/simple-api\n  module_path: github.com/myorg/simple-api\n\nrest:\n  - name: api\n    path: [./api/openapi.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    transport: [api, sys]\n</code></pre>"},{"location":"examples/#_5","title":"\u0427\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f","text":"<p>\u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f:</p> <ul> <li>~50 \u0444\u0430\u0439\u043b\u043e\u0432, \u0433\u043e\u0442\u043e\u0432\u044b\u0445 \u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0443</li> <li>Docker \u0438 Docker Compose</li> <li>GitHub Actions CI/CD</li> <li>Makefile \u0441 40+ \u0446\u0435\u043b\u044f\u043c\u0438</li> <li>Prometheus \u043c\u0435\u0442\u0440\u0438\u043a\u0438</li> <li>Structured logging</li> </ul>"},{"location":"examples/#_6","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<p>\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0431\u043b\u0438\u0437\u043a\u0438\u0439 \u043a \u0432\u0430\u0448\u0435\u043c\u0443 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044e, \u0438 \u0430\u0434\u0430\u043f\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043f\u043e\u0434 \u0441\u0432\u043e\u0438 \u043d\u0443\u0436\u0434\u044b.</p>"},{"location":"examples/cli-app/","title":"CLI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 CLI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434 \u0438\u0437 YAML-\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438.</p>"},{"location":"examples/cli-app/#_1","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":""},{"location":"examples/cli-app/#projectyaml","title":"project.yaml","text":"<pre><code>main:\n  name: myctl\n  logger: zerolog\n  registry_type: github\n\ngit:\n  repo: github.com/myorg/myctl\n  module_path: github.com/myorg/myctl\n\ntools:\n  golang_version: \"1.24\"\n\ncli:\n  - name: admin\n    path:\n      - ./commands.yaml\n    generator_type: template\n    generator_template: cli\n\napplications:\n  - name: admin-cli\n    cli: admin\n</code></pre>"},{"location":"examples/cli-app/#commandsyaml","title":"commands.yaml","text":"<pre><code>commands:\n  - name: user\n    description: \"User management\"\n    subcommands:\n      - name: create\n        description: \"Create a new user\"\n        flags:\n          - name: email\n            type: string\n            required: true\n            description: \"User email\"\n          - name: name\n            type: string\n            description: \"User name\"\n      - name: list\n        description: \"List all users\"\n        flags:\n          - name: limit\n            type: int\n            default: \"100\"\n            description: \"Max results\"\n\n  - name: ping\n    description: \"Check connectivity\"\n\n  - name: migrate\n    description: \"Database migrations\"\n    flags:\n      - name: dir\n        type: string\n        default: \"up\"\n        description: \"Direction: up or down\"\n      - name: steps\n        type: int\n        description: \"Number of steps\"\n</code></pre>"},{"location":"examples/cli-app/#_2","title":"\u0427\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f","text":"<pre><code>internal/app/transport/cli/admin/\n\u251c\u2500\u2500 psg_handler_gen.go     # \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 handler (\u043d\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c)\n\u2514\u2500\u2500 user.go                # \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u043a\u043e\u0434 (\u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0432\u0440\u0443\u0447\u043d\u0443\u044e)\n</code></pre>"},{"location":"examples/cli-app/#psg_handler_gengo","title":"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 (<code>psg_handler_gen.go</code>)","text":"<p>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442:</p> <ul> <li>Params structs \u2014 <code>UserCreateParams</code>, <code>UserListParams</code>, <code>MigrateParams</code></li> <li>UnimplementedCLI \u2014 default-\u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u0441\u0435\u0445 \u043a\u043e\u043c\u0430\u043d\u0434</li> <li>Handler \u2014 struct \u0441 embedding <code>UnimplementedCLI</code> \u0438 \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 <code>Service</code></li> <li>registerCommands() \u2014 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0441 flag parsing</li> <li>Execute() \u2014 \u0434\u0438\u0441\u043f\u0435\u0442\u0447\u0435\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0438 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434</li> <li>PrintHelp() \u2014 \u0432\u044b\u0432\u043e\u0434 \u0441\u043f\u0440\u0430\u0432\u043a\u0438</li> </ul>"},{"location":"examples/cli-app/#_3","title":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u043a\u043e\u0434","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0432 \u0442\u043e\u043c \u0436\u0435 \u043f\u0430\u043a\u0435\u0442\u0435 \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043b\u043e\u0433\u0438\u043a\u0438:</p> <pre><code>// user.go\npackage admin\n\nimport (\n    \"context\"\n    \"fmt\"\n)\n\nfunc (h *Handler) RunUserCreate(ctx context.Context, params UserCreateParams) error {\n    fmt.Printf(\"Creating user: email=%s, name=%s\\n\", params.Email, params.Name)\n    // user, err := h.GetService().CreateUser(ctx, params.Email, params.Name)\n    return nil\n}\n\nfunc (h *Handler) RunUserList(ctx context.Context, params UserListParams) error {\n    fmt.Printf(\"Listing users (limit=%d)\\n\", params.Limit)\n    return nil\n}\n</code></pre> <pre><code>// ping.go\npackage admin\n\nimport (\n    \"context\"\n    \"fmt\"\n)\n\nfunc (h *Handler) RunPing(ctx context.Context) error {\n    fmt.Println(\"pong\")\n    return nil\n}\n</code></pre>"},{"location":"examples/cli-app/#_4","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code># \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f\ngo build -o myctl ./cmd/admin-cli\n\n# \u041a\u043e\u043c\u0430\u043d\u0434\u044b\n./myctl help\n./myctl user create --email admin@example.com --name \"Admin\"\n./myctl user list --limit 50\n./myctl ping\n./myctl migrate --dir up --steps 3\n</code></pre>"},{"location":"examples/cli-app/#_5","title":"\u0421 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\u043c\u0438","text":"<p>CLI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b (PostgreSQL, Redis \u0438 \u0434\u0440.):</p> <pre><code>driver:\n  - name: postgres\n    import: github.com/myorg/myctl/pkg/postgres\n    package: postgres\n    obj_name: Client\n\napplications:\n  - name: admin-cli\n    cli: admin\n    driver:\n      - name: postgres\n</code></pre>"},{"location":"examples/cli-app/#_6","title":"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432","text":"\u0411\u0435\u0437 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0421\u043e \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439 (<code>commands.yaml</code>) \u0420\u0443\u0447\u043d\u0430\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0438\u0437 YAML \u041d\u0435\u0442 \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 Params structs \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u041d\u0435\u0442 UnimplementedCLI \u041a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441\u0440\u0430\u0437\u0443 \u0431\u0435\u0437 user code \u041d\u0435\u0442 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438 \u0444\u043b\u0430\u0433\u043e\u0432 required-\u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u0438\u0437 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"},{"location":"examples/grpc-service/","title":"gRPC \u0441\u0435\u0440\u0432\u0438\u0441","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 gRPC \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u0441 REST gateway.</p>"},{"location":"examples/grpc-service/#grpc_1","title":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 gRPC \u0441\u0435\u0440\u0432\u0438\u0441","text":"<pre><code>main:\n  name: user-service\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/mycompany/user-service\n  module_path: github.com/mycompany/user-service\n\ngrpc:\n  - name: users\n    path: [./proto/users.proto]\n    port: 9000\n\nrest:\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    grpc: [users]\n    transport: [sys]\n</code></pre>"},{"location":"examples/grpc-service/#grpc-rest-gateway","title":"gRPC \u0441 REST Gateway","text":"<pre><code>main:\n  name: user-service\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/mycompany/user-service\n  module_path: github.com/mycompany/user-service\n\ngrpc:\n  - name: users\n    path: [./proto/users.proto]\n    port: 9000\n\nrest:\n  # REST gateway \u0434\u043b\u044f gRPC\n  - name: gateway\n    path: [./api/users-gateway.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  # gRPC \u0441\u0435\u0440\u0432\u0435\u0440\n  - name: grpc_server\n    grpc: [users]\n    transport: [sys]\n\n  # REST gateway\n  - name: rest_gateway\n    transport: [gateway, sys]\n</code></pre> <p>\u0412\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0434\u0435\u043f\u043b\u043e\u044f:</p> <ul> <li>\u0412\u043c\u0435\u0441\u0442\u0435 \u0434\u043b\u044f \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0434\u0435\u043f\u043b\u043e\u0435\u0432</li> <li>\u0420\u0430\u0437\u0434\u0435\u043b\u044c\u043d\u043e \u0441 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u043c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c</li> <li>REST gateway \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432, gRPC \u0434\u043b\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432</li> </ul>"},{"location":"examples/grpc-service/#grpc_2","title":"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432","text":"<pre><code>main:\n  name: platform-api\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/mycompany/platform-api\n  module_path: github.com/mycompany/platform-api\n\ngrpc:\n  - name: users\n    path: [./proto/users.proto]\n    port: 9000\n\n  - name: orders\n    path: [./proto/orders.proto]\n    port: 9001\n\n  - name: payments\n    path: [./proto/payments.proto]\n    port: 9002\n\nrest:\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  # \u041e\u0434\u0438\u043d \u0441\u0435\u0440\u0432\u0435\u0440 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438\n  - name: monolith\n    grpc: [users, orders, payments]\n    transport: [sys]\n\n  # \u0418\u043b\u0438 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e \u0434\u043e\u043c\u0435\u043d\u0430\u043c\n  # - name: user-service\n  #   grpc: [users]\n  #   transport: [sys]\n  #\n  # - name: order-service\n  #   grpc: [orders, payments]\n  #   transport: [sys]\n</code></pre>"},{"location":"examples/grpc-service/#fintech","title":"Fintech \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430","text":"<p>\u0421\u0435\u0440\u0432\u0438\u0441 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u0441 REST API, gRPC \u0438 event-driven \u0430\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u043e\u0439:</p> <pre><code>main:\n  name: payment-service\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/fintech/payment-service\n  module_path: github.com/fintech/payment-service\n\nrest:\n  # API \u0434\u043b\u044f \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432\n  - name: mobile\n    path: [./api/mobile.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  # \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 API\n  - name: internal\n    path: [./api/internal.yaml]\n    generator_type: ogen\n    port: 8081\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\ngrpc:\n  - name: payments\n    path: [./proto/payments.proto]\n    port: 9000\n\nkafka:\n  - name: transactions\n    type: consumer\n    client: main_kafka\n    events:\n      - name: transaction_created\n      - name: transaction_completed\n      - name: transaction_failed\n\napplications:\n  # API \u0441\u0435\u0440\u0432\u0435\u0440\n  - name: api\n    transport: [mobile, internal, sys]\n    grpc: [payments]\n\n  # Event processor\n  - name: processor\n    kafka: [transactions]\n    transport: [sys]\n\ngrafana:\n  datasources:\n    - name: Prometheus\n      type: prometheus\n      url: http://prometheus:9090\n      isDefault: true\n    - name: Loki\n      type: loki\n      url: http://loki:3100\n</code></pre> <p>\u0427\u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435:</p> <ul> <li>REST API \u0434\u043b\u044f \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432</li> <li>gRPC \u0434\u043b\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438</li> <li>Kafka consumer \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439</li> <li>PostgreSQL \u0441 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f\u043c\u0438</li> <li>Prometheus \u043c\u0435\u0442\u0440\u0438\u043a\u0438, structured logging, distributed tracing</li> <li>Docker \u0441 Traefik reverse proxy</li> </ul>"},{"location":"examples/grpc-service/#_1","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>user-service/\n\u251c\u2500\u2500 cmd/\n\u2502   \u251c\u2500\u2500 grpc_server/\n\u2502   \u2502   \u2514\u2500\u2500 main.go\n\u2502   \u2514\u2500\u2500 rest_gateway/\n\u2502       \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 grpc_server/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 grpc/users/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 service.go\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 handler.go   # \u0412\u0430\u0448 \u043a\u043e\u0434 \u0437\u0434\u0435\u0441\u044c\n\u2502   \u2502   \u2514\u2500\u2500 rest_gateway/\n\u2502   \u2502       \u2514\u2500\u2500 transport/rest/gateway/v1/\n\u2502   \u2502           \u2514\u2500\u2500 handlers.go\n\u2502   \u2514\u2500\u2500 pkg/\n\u2502       \u2514\u2500\u2500 model/\n\u251c\u2500\u2500 pkg/\n\u2502   \u2514\u2500\u2500 grpc/users/              # \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 protobuf \u043a\u043e\u0434\n\u251c\u2500\u2500 proto/\n\u2502   \u2514\u2500\u2500 users.proto\n\u251c\u2500\u2500 docker-compose.yaml\n\u2514\u2500\u2500 Makefile\n</code></pre>"},{"location":"examples/grpc-service/#_2","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":"<pre><code># \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\ngo-project-starter --config=config.yaml\n\n# \u0417\u0430\u043f\u0443\u0441\u043a\ncd user-service\nmake docker-up\nmake generate\nmake run\n\n# \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 gRPC\ngrpcurl -plaintext localhost:9000 list\ngrpcurl -plaintext localhost:9000 users.UserService/GetUser\n</code></pre>"},{"location":"examples/multi-app/","title":"Multi-app","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u0438\u0437 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u0434\u043e\u0432\u043e\u0439 \u0431\u0430\u0437\u044b.</p>"},{"location":"examples/multi-app/#e-commerce-api","title":"E-commerce API \u0441 \u0432\u043e\u0440\u043a\u0435\u0440\u0430\u043c\u0438","text":"<p>\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u043c\u0435\u0440\u0446\u0438\u0438 \u0441 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c\u0438 API \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432, \u0430\u0434\u043c\u0438\u043d\u043e\u0432 \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439:</p> <pre><code>main:\n  name: ecommerce-api\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/mycompany/ecommerce-api\n  module_path: github.com/mycompany/ecommerce-api\n\nrest:\n  # \u041f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0435 API\n  - name: public\n    path: [./api/public.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  # \u0410\u0434\u043c\u0438\u043d\u0441\u043a\u043e\u0435 API\n  - name: admin\n    path: [./api/admin.yaml]\n    generator_type: ogen\n    port: 8081\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\nkafka:\n  - name: order_events\n    type: consumer\n    client: main_kafka\n    events:\n      - name: order_created\n      - name: order_completed\n\n  - name: payment_events\n    type: consumer\n    client: main_kafka\n    events:\n      - name: payment_processed\n\nworkers:\n  - name: notification_bot\n    generator_type: telegram\n\napplications:\n  # API Gateway\n  - name: api\n    transport: [public, admin, sys]\n\n  # Event processors\n  - name: event_processor\n    kafka: [order_events, payment_events]\n    transport: [sys]\n\n  # Notification worker\n  - name: notifier\n    workers: [notification_bot]\n    transport: [sys]\n</code></pre> <p>\u0427\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f:</p> <ul> <li>3 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 deployable \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f</li> <li>2 REST API (public + admin)</li> <li>\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 endpoints (health, metrics, pprof)</li> <li>Kafka event consumers</li> <li>Telegram \u0431\u043e\u0442 \u0434\u043b\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439</li> <li>Docker Compose \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438</li> </ul>"},{"location":"examples/multi-app/#saas-analytics-platform","title":"SaaS Analytics Platform","text":"<p>\u0412\u044b\u0441\u043e\u043a\u043e\u043d\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u0430\u044f \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430 \u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445:</p> <pre><code>main:\n  name: analytics-platform\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/saas/analytics\n  module_path: github.com/saas/analytics\n\nrest:\n  # API \u0434\u043b\u044f \u0432\u0435\u0431-\u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430\n  - name: dashboard\n    path: [./api/dashboard.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  # API \u0434\u043b\u044f SDK \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439 (v1)\n  - name: sdk\n    path: [./api/sdk.yaml]\n    generator_type: ogen\n    port: 8081\n    version: v1\n\n  # \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 v2 API \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441 v1\n  - name: sdk\n    path: [./api/sdk-v2.yaml]\n    generator_type: ogen\n    port: 8081\n    version: v2\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\ngrpc:\n  - name: ingest\n    path: [./proto/ingest.proto]\n    port: 9000\n\napplications:\n  # REST API \u0441\u0435\u0440\u0432\u0435\u0440\n  - name: api\n    transport: [dashboard, sdk, sys]\n\n  # High-performance gRPC ingestion\n  - name: ingest\n    grpc: [ingest]\n    transport: [sys]\n</code></pre> <p>\u041e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438:</p> <ul> <li>\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0435 REST API \u0434\u043b\u044f \u0432\u0435\u0431-\u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430</li> <li>High-performance gRPC API \u0434\u043b\u044f SDK</li> <li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 API (v1, v2) \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e</li> </ul>"},{"location":"examples/multi-app/#docker","title":"\u0421\u0435\u0440\u0432\u0438\u0441 \u0441 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043e\u0442 Docker \u043e\u0431\u0440\u0430\u0437\u043e\u0432","text":"<p>\u0421\u0435\u0440\u0432\u0438\u0441, \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043d\u0443\u0436\u043d\u044b \u0432\u043d\u0435\u0448\u043d\u0438\u0435 Docker \u043e\u0431\u0440\u0430\u0437\u044b:</p> <pre><code>main:\n  name: checker-service\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/checker\n  module_path: github.com/myorg/checker\n\nrest:\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\nworkers:\n  - name: checker\n    generator_type: daemon\n\napplications:\n  - name: checker\n    transport: [sys]\n    workers: [checker]\n    depends_on_docker_images:\n      - ghcr.io/some-app/tool:latest\n      - postgres:15-alpine\n</code></pre> <p>\u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442:</p> <ul> <li>\u0421\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f image puller \u0441\u0435\u0440\u0432\u0438\u0441\u044b</li> <li>\u041e\u0431\u0440\u0430\u0437\u044b \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0434\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f</li> <li>\u041f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f Docker-in-Docker \u0438\u043b\u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432</li> </ul>"},{"location":"examples/multi-app/#cli","title":"CLI \u0443\u0442\u0438\u043b\u0438\u0442\u0430 \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","text":"<p>\u041a\u043e\u043d\u0441\u043e\u043b\u044c\u043d\u0430\u044f \u0443\u0442\u0438\u043b\u0438\u0442\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445:</p> <pre><code>main:\n  name: admin-tools\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/myorg/admin-tools\n  module_path: github.com/myorg/admin-tools\n\ncli:\n  - name: admin\n    generator_type: template\n    generator_template: cli\n\napplications:\n  - name: admin-cli\n    cli: admin\n</code></pre> <p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435:</p> <pre><code>./admin-cli migrate up\n./admin-cli user create --email admin@example.com\n./admin-cli cache clear --all\n</code></pre>"},{"location":"examples/multi-app/#_1","title":"\u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u041e\u0434\u043d\u0430 \u043a\u043e\u0434\u043e\u0432\u0430\u044f \u0431\u0430\u0437\u0430, \u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0438 \u0434\u0435\u043f\u043b\u043e\u044f:</p> <pre><code>applications:\n  # \u041e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0438\u043d\u0441\u0442\u0430\u043d\u0441\u044b\n  - name: api\n    transport: [public, admin, sys]\n\n  - name: workers\n    workers: [telegram_bot]\n    kafka: [events]\n    transport: [sys]\n\n  # \u0418\u043b\u0438 \u043c\u043e\u043d\u043e\u043b\u0438\u0442 \u0434\u043b\u044f \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0434\u0435\u043f\u043b\u043e\u0435\u0432\n  # - name: monolith\n  #   transport: [public, admin, sys]\n  #   workers: [telegram_bot]\n  #   kafka: [events]\n</code></pre> <p>\u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u0430\u0436\u0434\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e:</p> <pre><code>kubectl scale deployment api --replicas=5\nkubectl scale deployment workers --replicas=2\n</code></pre>"},{"location":"examples/multi-app/#_2","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>ecommerce-api/\n\u251c\u2500\u2500 cmd/\n\u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u2514\u2500\u2500 main.go\n\u2502   \u251c\u2500\u2500 event_processor/\n\u2502   \u2502   \u2514\u2500\u2500 main.go\n\u2502   \u2514\u2500\u2500 notifier/\n\u2502       \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 api/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 transport/rest/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 public/v1/\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 admin/v1/\n\u2502   \u2502   \u251c\u2500\u2500 event_processor/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 kafka/\n\u2502   \u2502   \u2514\u2500\u2500 notifier/\n\u2502   \u2502       \u2514\u2500\u2500 worker/telegram/\n\u2502   \u2514\u2500\u2500 pkg/\n\u2502       \u251c\u2500\u2500 model/\n\u2502       \u2514\u2500\u2500 service/\n\u251c\u2500\u2500 docker-compose.yaml\n\u251c\u2500\u2500 Dockerfile-api\n\u251c\u2500\u2500 Dockerfile-event_processor\n\u251c\u2500\u2500 Dockerfile-notifier\n\u2514\u2500\u2500 Makefile\n</code></pre>"},{"location":"examples/multi-app/#_3","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":"<pre><code># \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\ngo-project-starter --config=config.yaml\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u0441\u0435\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439\ncd ecommerce-api\nmake docker-up\n\n# \u0418\u043b\u0438 \u0437\u0430\u043f\u0443\u0441\u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\ndocker compose up api\ndocker compose up event_processor\ndocker compose up notifier\n</code></pre>"},{"location":"examples/rest-api/","title":"REST API","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e REST API \u0441\u0435\u0440\u0432\u0438\u0441\u0430.</p>"},{"location":"examples/rest-api/#_1","title":"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<pre><code>main:\n  name: simple-api\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/simple-api\n  module_path: github.com/myorg/simple-api\n\nrest:\n  - name: api\n    path: [./api/openapi.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    transport: [api, sys]\n</code></pre>"},{"location":"examples/rest-api/#_2","title":"\u0421 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<pre><code>main:\n  name: user-service\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/myorg/user-service\n  module_path: github.com/myorg/user-service\n\nrest:\n  - name: api\n    path: [./api/openapi.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    transport: [api, sys]\n</code></pre>"},{"location":"examples/rest-api/#rest","title":"\u0421 \u0432\u043d\u0435\u0448\u043d\u0438\u043c REST \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c","text":"<p>\u0421\u0435\u0440\u0432\u0438\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0439 API:</p> <pre><code>main:\n  name: integration-service\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/integration\n  module_path: github.com/myorg/integration\n\nrest:\n  # \u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0435 API\n  - name: api\n    path: [./api/api.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  # \u041a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API \u0441 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439\n  - name: payment_provider\n    path: [./api/external/payment.yaml]\n    generator_type: ogen_client\n    auth_params:\n      transport: header\n      type: apikey\n\n  # \u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 endpoints\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    transport: [api, payment_provider, sys]\n</code></pre> <p>\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442:</p> <ul> <li><code>api</code> \u2014 \u0432\u0430\u0448 REST \u0441\u0435\u0440\u0432\u0435\u0440</li> <li><code>payment_provider</code> \u2014 \u0442\u0438\u043f\u043e\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API</li> <li>API \u043a\u043b\u044e\u0447 \u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u0438\u0437 OnlineConf</li> </ul>"},{"location":"examples/rest-api/#api","title":"\u0421 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438 API","text":"<pre><code>main:\n  name: versioned-api\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/versioned-api\n  module_path: github.com/myorg/versioned-api\n\nrest:\n  - name: api\n    path: [./api/v1.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: api\n    path: [./api/v2.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v2\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    transport: [api, sys]  # \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0438 v1, \u0438 v2\n</code></pre> <p>\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430:</p> <pre><code>internal/app/server/transport/rest/api/\n\u251c\u2500\u2500 v1/\n\u2502   \u251c\u2500\u2500 handlers.go\n\u2502   \u2514\u2500\u2500 router.go\n\u2514\u2500\u2500 v2/\n    \u251c\u2500\u2500 handlers.go\n    \u2514\u2500\u2500 router.go\n</code></pre>"},{"location":"examples/rest-api/#grafana","title":"\u0421 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u043e\u043c Grafana","text":"<pre><code>main:\n  name: monitored-service\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/monitored\n  module_path: github.com/myorg/monitored\n\nrest:\n  - name: api\n    path: [./api/api.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\ngrafana:\n  datasources:\n    - name: Prometheus\n      type: prometheus\n      access: proxy\n      url: http://prometheus:9090\n      isDefault: true\n    - name: Loki\n      type: loki\n      access: proxy\n      url: http://loki:3100\n\napplications:\n  - name: server\n    transport: [api, sys]\n    grafana:\n      datasources:\n        - Prometheus\n        - Loki\n</code></pre> <p>\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f:</p> <ul> <li>Grafana dashboard \u0441 \u043f\u0430\u043d\u0435\u043b\u044f\u043c\u0438 \u043b\u043e\u0433\u043e\u0432 \u0438 \u043c\u0435\u0442\u0440\u0438\u043a</li> <li>Prometheus \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f scraping</li> <li>Loki \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430 \u043b\u043e\u0433\u043e\u0432</li> <li>Provisioning \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438</li> </ul>"},{"location":"examples/rest-api/#_3","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>simple-api/\n\u251c\u2500\u2500 cmd/server/\n\u2502   \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 app/server/\n\u2502   \u2502   \u2514\u2500\u2500 transport/rest/api/v1/\n\u2502   \u2502       \u251c\u2500\u2500 handlers.go      # \u0412\u0430\u0448 \u043a\u043e\u0434 \u0437\u0434\u0435\u0441\u044c\n\u2502   \u2502       \u2514\u2500\u2500 router.go\n\u2502   \u2514\u2500\u2500 pkg/\n\u2502       \u251c\u2500\u2500 model/\n\u2502       \u2514\u2500\u2500 service/\n\u251c\u2500\u2500 pkg/\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2514\u2500\u2500 rest/api/v1/             # \u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 ogen \u043a\u043e\u0434\n\u251c\u2500\u2500 api/\n\u2502   \u2514\u2500\u2500 openapi.yaml\n\u251c\u2500\u2500 docker-compose.yaml\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 Makefile\n\u2514\u2500\u2500 .github/workflows/\n</code></pre>"},{"location":"examples/rest-api/#_4","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":"<pre><code># \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\ngo-project-starter --config=config.yaml\n\n# \u0417\u0430\u043f\u0443\u0441\u043a\ncd simple-api\nmake docker-up\nmake generate\nmake run\n\n# \u0414\u043e\u0441\u0442\u0443\u043f\ncurl http://localhost:8080/api/v1/health\ncurl http://localhost:9090/metrics\n</code></pre>"},{"location":"examples/telegram-bot/","title":"Telegram \u0431\u043e\u0442","text":"<p>\u041f\u0440\u0438\u043c\u0435\u0440 Telegram \u0431\u043e\u0442\u0430.</p>"},{"location":"examples/telegram-bot/#telegram_1","title":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 Telegram \u0431\u043e\u0442","text":"<pre><code>main:\n  name: notification-bot\n  logger: zerolog\n\ngit:\n  repo: github.com/myorg/notification-bot\n  module_path: github.com/myorg/notification-bot\n\nrest:\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\nworkers:\n  - name: telegram_bot\n    generator_type: telegram\n\napplications:\n  - name: bot\n    workers: [telegram_bot]\n    transport: [sys]\n</code></pre>"},{"location":"examples/telegram-bot/#telegram_2","title":"Telegram \u0431\u043e\u0442 \u0441 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<pre><code>main:\n  name: support-bot\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/myorg/support-bot\n  module_path: github.com/myorg/support-bot\n\nrest:\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\nworkers:\n  - name: support_bot\n    generator_type: telegram\n\ndrivers:\n  - name: telegram\n    import: pkg/drivers/telegram\n    package: telegram\n    obj_name: TelegramDriver\n\napplications:\n  - name: bot\n    workers: [support_bot]\n    transport: [sys]\n    driver: [telegram]\n</code></pre>"},{"location":"examples/telegram-bot/#telegram-rest-api","title":"Telegram \u0431\u043e\u0442 \u0441 REST API","text":"<p>\u0411\u043e\u0442 \u0441 API \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f:</p> <pre><code>main:\n  name: admin-bot\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/myorg/admin-bot\n  module_path: github.com/myorg/admin-bot\n\nrest:\n  # API \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u0442\u043e\u043c\n  - name: api\n    path: [./api/admin.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\nworkers:\n  - name: admin_bot\n    generator_type: telegram\n\napplications:\n  # \u0412\u0441\u0451 \u0432 \u043e\u0434\u043d\u043e\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438\n  - name: bot\n    transport: [api, sys]\n    workers: [admin_bot]\n</code></pre>"},{"location":"examples/telegram-bot/#_1","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438","text":"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 Handler \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 PreCheckoutQuery <code>PreCheckout</code> \u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0430 SuccessfulPayment <code>Purchase</code> \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 CallbackQuery <code>CallbackQuery</code> Callback \u043e\u0442 inline \u043a\u043d\u043e\u043f\u043e\u043a Message <code>TextMessage</code> \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u0430 \u0438 \u043a\u043e\u043c\u0430\u043d\u0434"},{"location":"examples/telegram-bot/#_2","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>notification-bot/\n\u251c\u2500\u2500 cmd/bot/\n\u2502   \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 app/bot/\n\u2502   \u2502   \u2514\u2500\u2500 worker/telegram/telegram_bot/\n\u2502   \u2502       \u251c\u2500\u2500 router.go\n\u2502   \u2502       \u251c\u2500\u2500 handler/\n\u2502   \u2502       \u2502   \u2514\u2500\u2500 handler.go        # \u0412\u0430\u0448 \u043a\u043e\u0434 \u0437\u0434\u0435\u0441\u044c\n\u2502   \u2502       \u2514\u2500\u2500 commands/\n\u2502   \u2502           \u2514\u2500\u2500 commands.go\n\u2502   \u2514\u2500\u2500 pkg/\n\u2502       \u2514\u2500\u2500 service/\n\u251c\u2500\u2500 pkg/\n\u2502   \u2514\u2500\u2500 drivers/telegram/\n\u251c\u2500\u2500 docker-compose.yaml\n\u2514\u2500\u2500 Makefile\n</code></pre>"},{"location":"examples/telegram-bot/#onlineconf","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 OnlineConf","text":"\u041f\u0443\u0442\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>{service}/worker/telegram/{name}/token</code> Bot token <code>{service}/worker/telegram/{name}/webhook_url</code> Webhook URL (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"},{"location":"examples/telegram-bot/#handlergo","title":"\u041f\u0440\u0438\u043c\u0435\u0440 handler.go","text":"<pre><code>package handler\n\nimport (\n    \"context\"\n\n    tgbotapi \"github.com/go-telegram-bot-api/telegram-bot-api/v5\"\n)\n\n// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// ==========================================\n\nfunc (h *Handler) TextMessage(ctx context.Context, msg *tgbotapi.Message) error {\n    // \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439\n\n    switch msg.Text {\n    case \"/start\":\n        return h.handleStart(ctx, msg)\n    case \"/help\":\n        return h.handleHelp(ctx, msg)\n    default:\n        return h.handleUnknown(ctx, msg)\n    }\n}\n\nfunc (h *Handler) CallbackQuery(ctx context.Context, query *tgbotapi.CallbackQuery) error {\n    // \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 callback \u043e\u0442 inline \u043a\u043d\u043e\u043f\u043e\u043a\n    data := query.Data\n\n    switch data {\n    case \"confirm\":\n        return h.handleConfirm(ctx, query)\n    case \"cancel\":\n        return h.handleCancel(ctx, query)\n    }\n\n    return nil\n}\n\nfunc (h *Handler) handleStart(ctx context.Context, msg *tgbotapi.Message) error {\n    reply := tgbotapi.NewMessage(msg.Chat.ID, \"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!\")\n    _, err := h.bot.Send(reply)\n    return err\n}\n\nfunc (h *Handler) handleHelp(ctx context.Context, msg *tgbotapi.Message) error {\n    text := `\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:\n/start - \u041d\u0430\u0447\u0430\u0442\u044c\n/help - \u0421\u043f\u0440\u0430\u0432\u043a\u0430`\n\n    reply := tgbotapi.NewMessage(msg.Chat.ID, text)\n    _, err := h.bot.Send(reply)\n    return err\n}\n</code></pre>"},{"location":"examples/telegram-bot/#_3","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":"<pre><code># \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\ngo-project-starter --config=config.yaml\n\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0442\u043e\u043a\u0435\u043d\u0430 (\u0447\u0435\u0440\u0435\u0437 OnlineConf \u0438\u043b\u0438 env)\nexport OC_notification_bot__worker__telegram__telegram_bot__token=YOUR_BOT_TOKEN\n\n# \u0417\u0430\u043f\u0443\u0441\u043a\ncd notification-bot\nmake docker-up\nmake run\n\n# \u0418\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 dev-stand \u0441 OnlineConf UI\nmake dev-up\n# \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0442\u043e\u043a\u0435\u043d \u0432 http://localhost:8888\n</code></pre>"},{"location":"getting-started/","title":"\u041d\u0430\u0447\u0430\u043b\u043e \u0440\u0430\u0431\u043e\u0442\u044b","text":"<p>\u042d\u0442\u043e\u0442 \u0440\u0430\u0437\u0434\u0435\u043b \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u0431\u044b\u0441\u0442\u0440\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Go Project Starter \u0438 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441.</p>"},{"location":"getting-started/#_2","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u2014 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438</li> <li>\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442 \u2014 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0437\u0430 5 \u043c\u0438\u043d\u0443\u0442</li> </ul>"},{"location":"getting-started/#go-project-starter","title":"\u0427\u0442\u043e \u0442\u0430\u043a\u043e\u0435 Go Project Starter?","text":"<p>Go Project Starter \u2014 \u044d\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043a\u043e\u0434\u0430 (\u043d\u0435 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0438 \u043d\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 production-ready Go \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0438\u0437 YAML-\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438. \u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 78+ \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u044b\u0445 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f ~8000 \u0441\u0442\u0440\u043e\u043a \u0433\u043e\u0442\u043e\u0432\u043e\u0433\u043e \u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u043a\u043e\u0434\u0430.</p>"},{"location":"getting-started/#_3","title":"\u0427\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f","text":"<ul> <li>REST API \u0441\u0435\u0440\u0432\u0435\u0440\u044b (\u0447\u0435\u0440\u0435\u0437 OpenAPI/ogen)</li> <li>gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b (\u0447\u0435\u0440\u0435\u0437 Protocol Buffers)</li> <li>Kafka consumers</li> <li>Background workers (Telegram \u0431\u043e\u0442\u044b, daemons)</li> <li>\u041f\u043e\u043b\u043d\u0430\u044f \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 (Docker, CI/CD, \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433)</li> </ul>"},{"location":"getting-started/#_4","title":"\u041a\u043b\u044e\u0447\u0435\u0432\u0430\u044f \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c","text":"<p>\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438. \u041a\u0430\u0436\u0434\u044b\u0439 \u0444\u0430\u0439\u043b \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0434\u0435\u043b\u044f\u0435\u0442 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u0438 \u0432\u0430\u0448\u0443 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0443:</p> <pre><code>// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// ==========================================\n\nfunc (h *Handler) CreateUser(ctx context.Context, req *CreateUserRequest) (*User, error) {\n    // \u0412\u0430\u0448 \u043a\u043e\u0434 \u0437\u0434\u0435\u0441\u044c - \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0451\u0442 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e!\n}\n</code></pre>"},{"location":"getting-started/#_5","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Go 1.24+</li> <li>Docker (\u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438)</li> <li>Git (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e, \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f)</li> </ul>"},{"location":"getting-started/#_6","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043a \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 Go Project Starter.</p>"},{"location":"getting-started/installation/","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430","text":""},{"location":"getting-started/installation/#_2","title":"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Go 1.24+ \u2014 \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 Go</li> <li>Docker \u2014 \u0434\u043b\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f</li> <li>Git \u2014 \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)</li> </ul>"},{"location":"getting-started/installation/#go","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 Go","text":"<p>\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438:</p> <pre><code>go install github.com/Educentr/go-project-starter/cmd/go-project-starter@latest\n</code></pre> <p>\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430:</p> <pre><code>go-project-starter --help\n</code></pre>"},{"location":"getting-started/installation/#_3","title":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438","text":"<pre><code># \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438\ngo install github.com/Educentr/go-project-starter/cmd/go-project-starter@v0.12.0\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0435\u0440\u0441\u0438\u0438\ngo-project-starter --version\n</code></pre>"},{"location":"getting-started/installation/#_4","title":"\u0421\u0431\u043e\u0440\u043a\u0430 \u0438\u0437 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u043e\u0432","text":"<pre><code># \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\ngit clone https://github.com/Educentr/go-project-starter\ncd go-project-starter\n\n# \u0421\u0431\u043e\u0440\u043a\u0430\nmake build\n\n# \u0418\u043b\u0438 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e\ngo build -o go-project-starter ./cmd/go-project-starter\n\n# \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\ngo install ./cmd/go-project-starter\n</code></pre>"},{"location":"getting-started/installation/#_5","title":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435","text":"<p>\u0414\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438:</p> <pre><code>go install github.com/Educentr/go-project-starter/cmd/go-project-starter@latest\n</code></pre>"},{"location":"getting-started/installation/#_6","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438","text":"<pre><code># \u0412\u0435\u0440\u0441\u0438\u044f\ngo-project-starter --version\n\n# \u0421\u043f\u0440\u0430\u0432\u043a\u0430\ngo-project-starter --help\n</code></pre>"},{"location":"getting-started/installation/#_7","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433","text":"<p>\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043a \u0431\u044b\u0441\u0442\u0440\u043e\u043c\u0443 \u0441\u0442\u0430\u0440\u0442\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442.</p>"},{"location":"getting-started/quickstart/","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441 \u0437\u0430 5 \u043c\u0438\u043d\u0443\u0442.</p>"},{"location":"getting-started/quickstart/#1","title":"\u0428\u0430\u0433 1: \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<p>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b <code>config.yaml</code>:</p> <pre><code>main:\n  name: myservice\n  logger: zerolog\n  use_active_record: true\n\ngit:\n  repo: github.com/myorg/myservice\n  module_path: github.com/myorg/myservice\n\nrest:\n  - name: api\n    path: [./api/openapi.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n\n  - name: system\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\napplications:\n  - name: server\n    transport: [api, system]\n</code></pre>"},{"location":"getting-started/quickstart/#2","title":"\u0428\u0430\u0433 2: \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440","text":"<pre><code>go-project-starter --config=config.yaml\n</code></pre>"},{"location":"getting-started/quickstart/#3","title":"\u0428\u0430\u0433 3: \u0427\u0442\u043e \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435","text":"<pre><code>myservice/                    # ~50 \u0444\u0430\u0439\u043b\u043e\u0432, ~8000 \u0441\u0442\u0440\u043e\u043a production-ready \u043a\u043e\u0434\u0430\n\u251c\u2500\u2500 cmd/server/              # \u0422\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441 graceful shutdown\n\u251c\u2500\u2500 internal/\n\u2502   \u251c\u2500\u2500 app/                 # \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 \u0438 \u0432\u043e\u0440\u043a\u0435\u0440\u044b (\u0432\u0430\u0448 \u043a\u043e\u0434 \u0437\u0434\u0435\u0441\u044c)\n\u2502   \u2514\u2500\u2500 pkg/                 # \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438\n\u251c\u2500\u2500 pkg/\n\u2502   \u251c\u2500\u2500 app/                 # Runtime \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 (middleware, \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u043c\u0435\u0442\u0440\u0438\u043a\u0438)\n\u2502   \u2514\u2500\u2500 drivers/             # \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0438 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438\n\u251c\u2500\u2500 api/                     # OpenAPI/Protobuf \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438\n\u251c\u2500\u2500 configs/                 # \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (dev, staging, prod)\n\u251c\u2500\u2500 docker-compose.yaml      # \u041b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 (Postgres, Redis, Traefik)\n\u251c\u2500\u2500 Dockerfile               # Multi-stage \u0441\u0431\u043e\u0440\u043a\u0430 (\u043e\u0431\u0440\u0430\u0437 ~50MB)\n\u251c\u2500\u2500 Makefile                 # 40+ \u0446\u0435\u043b\u0435\u0439 (build, test, lint, deploy)\n\u2514\u2500\u2500 .github/workflows/       # CI/CD (test, build, push \u0432 registry)\n</code></pre> <p>\u0427\u0442\u043e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f:</p> <ul> <li>~50 \u0444\u0430\u0439\u043b\u043e\u0432, \u0433\u043e\u0442\u043e\u0432\u044b\u0445 \u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0443</li> <li>~8000 \u0441\u0442\u0440\u043e\u043a production-grade \u043a\u043e\u0434\u0430</li> <li>Docker \u043e\u0431\u0440\u0430\u0437, \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0434\u043e ~50MB</li> <li>\u041d\u0443\u043b\u0435\u0432\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u2014 \u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0440\u0430\u0437\u0430</li> <li>\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0442\u0435\u0441\u0442\u043e\u0432 \u0434\u043b\u044f \u0432\u0430\u0448\u0435\u0439 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0438</li> </ul>"},{"location":"getting-started/quickstart/#4","title":"\u0428\u0430\u0433 4: \u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0443","text":"<pre><code>cd myservice\nmake docker-up              # \u0417\u0430\u043f\u0443\u0441\u043a \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 (Postgres, Redis \u0438 \u0442.\u0434.)\nmake generate               # \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0430 \u0438\u0437 OpenAPI \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0439\nmake test                   # \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432\nmake run                    # \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430\n</code></pre> <p>\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0443:</p> <ul> <li>REST API: <code>http://localhost:8080</code></li> <li>System endpoints: <code>http://localhost:9090</code> (health, metrics, pprof)</li> <li>Prometheus \u043c\u0435\u0442\u0440\u0438\u043a\u0438: <code>http://localhost:9090/metrics</code></li> </ul>"},{"location":"getting-started/quickstart/#dry-run","title":"\u0420\u0435\u0436\u0438\u043c dry-run","text":"<p>\u041f\u0435\u0440\u0435\u0434 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0435\u0439 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u043a\u0430\u043a\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0443\u0442 \u0432\u043d\u0435\u0441\u0435\u043d\u044b:</p> <pre><code>go-project-starter --dry-run --config=config.yaml --target=./my-service\n</code></pre>"},{"location":"getting-started/quickstart/#_2","title":"\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<p>\u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438\u043b\u0438 OpenAPI \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440:</p> <pre><code>go-project-starter --config=config.yaml --target=./my-service\n</code></pre> <p>\u0412\u0430\u0436\u043d\u043e</p> <p>\u0412\u0430\u0448 \u043a\u043e\u0434 \u043d\u0438\u0436\u0435 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d:</p> <pre><code>// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// Changes manually made below will not be overwritten by generator.\n// ==========================================\n\nfunc (h *Handler) CreateUser(ctx context.Context, req *CreateUserRequest) (*User, error) {\n    // \u0412\u0430\u0448\u0430 \u0431\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 \u0437\u0434\u0435\u0441\u044c - \u043e\u043d\u0430 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0451\u0442 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e!\n}\n</code></pre>"},{"location":"getting-started/quickstart/#wizard","title":"\u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard","text":"<p>\u0414\u043b\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard:</p> <pre><code>go-project-starter init --target=.\n</code></pre> <p>Wizard \u043f\u043e\u043c\u043e\u0436\u0435\u0442:</p> <ol> <li>\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0438\u043c\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043b\u043e\u0433\u0433\u0435\u0440\u0430</li> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439</li> <li>\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (REST API, gRPC, Telegram \u0431\u043e\u0442)</li> </ol>"},{"location":"getting-started/quickstart/#_3","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430 \u2014 \u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u2014 \u043f\u043e\u043b\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435</li> <li>\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u2014 \u0433\u043e\u0442\u043e\u0432\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432</li> </ul>"},{"location":"reference/makefile-targets/","title":"Makefile Targets Reference","text":"<p>\u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0446\u0435\u043b\u0435\u0439 Makefile \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p>"},{"location":"reference/makefile-targets/#_1","title":"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430","text":"\u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make run</code> \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>make build</code> \u0421\u0431\u043e\u0440\u043a\u0430 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0430 <code>make generate</code> \u0412\u0441\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b (ogen, argen, mock) <code>make ogen</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f REST \u0438\u0437 OpenAPI <code>make argen</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f ActiveRecord <code>make mock</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043c\u043e\u043a\u043e\u0432"},{"location":"reference/makefile-targets/#_2","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"\u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make test</code> Unit \u0442\u0435\u0441\u0442\u044b \u0441 coverage <code>make race</code> \u0422\u0435\u0441\u0442\u044b \u0441 race detector <code>make coverage</code> HTML \u043e\u0442\u0447\u0451\u0442 coverage <code>make goat-tests</code> GOAT \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b <code>make goat-tests-verbose</code> GOAT \u0442\u0435\u0441\u0442\u044b \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c \u0432\u044b\u0432\u043e\u0434\u043e\u043c <code>make build_for_test-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0430 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432"},{"location":"reference/makefile-targets/#_3","title":"\u041b\u0438\u043d\u0442\u0438\u043d\u0433","text":"\u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make lint</code> \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e main <code>make lint-full</code> \u041f\u043e\u043b\u043d\u044b\u0439 lint \u0432\u0441\u0435\u0433\u043e \u043a\u043e\u0434\u0430 <code>make lint-fix</code> \u0410\u0432\u0442\u043e\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 lint \u043e\u0448\u0438\u0431\u043e\u043a <code>make install-lint</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 golangci-lint"},{"location":"reference/makefile-targets/#docker","title":"Docker","text":"\u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make docker-build</code> \u0421\u0431\u043e\u0440\u043a\u0430 Docker \u043e\u0431\u0440\u0430\u0437\u0430 <code>make docker-build-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 \u043e\u0431\u0440\u0430\u0437\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>make docker-push</code> Push \u043e\u0431\u0440\u0430\u0437\u0430 \u0432 registry <code>make docker-up</code> \u0417\u0430\u043f\u0443\u0441\u043a docker-compose <code>make docker-down</code> \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 docker-compose <code>make docker-logs</code> \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043b\u043e\u0433\u043e\u0432"},{"location":"reference/makefile-targets/#dev-stand","title":"Dev Stand","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u0440\u0438 <code>dev_stand: true</code>:</p> \u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make dev-up</code> \u0417\u0430\u043f\u0443\u0441\u043a dev \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0441 OnlineConf <code>make dev-down</code> \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 dev \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>make dev-restart</code> \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a <code>make dev-rebuild</code> \u041f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 <code>make dev-drop</code> \u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u0431\u0440\u043e\u0441 (\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 volumes)"},{"location":"reference/makefile-targets/#_4","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0411\u0414","text":"\u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make migrate-up</code> \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 <code>make migrate-down</code> \u041e\u0442\u043a\u0430\u0442\u0438\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 <code>make migrate-status</code> \u0421\u0442\u0430\u0442\u0443\u0441 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 <code>make migrate-create</code> \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044e"},{"location":"reference/makefile-targets/#_5","title":"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b","text":"<p>\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u0440\u0438 <code>artifacts: [deb, rpm, apk]</code>:</p> \u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make packages</code> \u0421\u0431\u043e\u0440\u043a\u0430 \u0432\u0441\u0435\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 <code>make deb-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 .deb \u0434\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>make rpm-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 .rpm <code>make apk-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 .apk <code>make install-nfpm</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 nfpm <code>make upload-packages</code> \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 <code>make upload-deb</code> \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e .deb <code>make upload-rpm</code> \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e .rpm <code>make upload-apk</code> \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e .apk"},{"location":"reference/makefile-targets/#_6","title":"\u0423\u0442\u0438\u043b\u0438\u0442\u044b","text":"\u0426\u0435\u043b\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make clean</code> \u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u0441\u0431\u043e\u0440\u043a\u0438 <code>make help</code> \u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u043e \u0446\u0435\u043b\u044f\u043c <code>make version</code> \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u044e"},{"location":"reference/makefile-targets/#_7","title":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435","text":""},{"location":"reference/makefile-targets/#_8","title":"\u0421\u0431\u043e\u0440\u043a\u0430","text":"<pre><code>GOPROXY=...              # Go proxy\nGOPRIVATE=...            # \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438\nCGO_ENABLED=0            # \u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0441\u0431\u043e\u0440\u043a\u0430\n</code></pre>"},{"location":"reference/makefile-targets/#docker_1","title":"Docker","text":"<pre><code>DOCKER_REGISTRY=...      # URL registry\nDOCKER_TAG=...           # \u0422\u0435\u0433 \u043e\u0431\u0440\u0430\u0437\u0430\n</code></pre>"},{"location":"reference/makefile-targets/#dev-stand_1","title":"Dev Stand","text":"<pre><code>DEV_ONLINECONF_ADMIN_PORT=8888\nDEV_TRAEFIK_PORT=9080\nDEV_POSTGRES_PORT=5432\nDEV_GRAFANA_PORT=3000\n</code></pre>"},{"location":"reference/makefile-targets/#_9","title":"\u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f","text":"<p>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0438 \u0446\u0435\u043b\u0438 \u043d\u0438\u0436\u0435 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u0430:</p> <pre><code># ==========================================\n# GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n# ==========================================\n\n.PHONY: my-custom-target\nmy-custom-target:\n    @echo \"Custom target\"\n</code></pre>"},{"location":"reference/naming/","title":"Naming Conventions","text":"<p>\u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u043e\u0431 \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0432 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445.</p>"},{"location":"reference/naming/#_1","title":"\u0418\u0435\u0440\u0430\u0440\u0445\u0438\u044f \u0438\u043c\u0451\u043d","text":"\u0418\u043c\u044f \u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u041f\u0440\u0438\u043c\u0435\u0440 \u0414\u043e\u0441\u0442\u0443\u043f ServiceName <code>Main.Name</code> <code>\"my-api\"</code> <code>constant.ServiceName</code> AppName <code>Application.Name</code> <code>\"web-app\"</code> <code>ds.AppInfo.AppName</code> TransportName <code>Transport.Name</code> <code>\"api_v1\"</code> \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 WorkerName <code>Worker.Name</code> <code>\"telegram\"</code> \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432"},{"location":"reference/naming/#_2","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435","text":""},{"location":"reference/naming/#servicename-mainname","title":"ServiceName (Main.Name)","text":"<p>\u0412\u0435\u0440\u0445\u043d\u0435\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u043e\u0435 \u0438\u043c\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438\u0437 <code>main.name</code>.</p> <ul> <li>\u0414\u043e\u0441\u0442\u0443\u043f: <code>constant.ServiceName</code></li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: namespace \u043c\u0435\u0442\u0440\u0438\u043a, root path OnlineConf, \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435</li> <li>\u041f\u0440\u0438\u043c\u0435\u0440: <code>\"my-api\"</code>, <code>\"payment-service\"</code></li> </ul>"},{"location":"reference/naming/#appname-applicationname","title":"AppName (Application.Name)","text":"<p>\u0418\u043c\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041e\u0434\u0438\u043d \u0441\u0435\u0440\u0432\u0438\u0441 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439.</p> <ul> <li>\u0414\u043e\u0441\u0442\u0443\u043f: <code>ds.AppInfo.AppName</code>, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0444\u0443\u043d\u043a\u0446\u0438\u0438</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: X-Server header, app-specific OnlineConf \u043f\u0443\u0442\u0438</li> <li>\u041f\u0440\u0438\u043c\u0435\u0440: <code>\"web-app\"</code>, <code>\"worker-app\"</code></li> </ul>"},{"location":"reference/naming/#transportname-transportname","title":"TransportName (Transport.Name)","text":"<p>\u0418\u043c\u044f REST/gRPC \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430.</p> <ul> <li>\u0414\u043e\u0441\u0442\u0443\u043f: \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432 middleware</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435: OnlineConf \u043f\u0443\u0442\u0438 \u0434\u043b\u044f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430</li> <li>\u041f\u0440\u0438\u043c\u0435\u0440: <code>\"api_v1\"</code>, <code>\"internal-api\"</code></li> </ul>"},{"location":"reference/naming/#workername-workername","title":"WorkerName (Worker.Name)","text":"<p>\u0418\u043c\u044f \u0444\u043e\u043d\u043e\u0432\u043e\u0433\u043e \u0432\u043e\u0440\u043a\u0435\u0440\u0430.</p> <ul> <li>\u0414\u043e\u0441\u0442\u0443\u043f: \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432</li> <li>\u041f\u0440\u0438\u043c\u0435\u0440: <code>\"telegram\"</code>, <code>\"kafka-consumer\"</code></li> </ul>"},{"location":"reference/naming/#onlineconf","title":"OnlineConf \u043f\u0443\u0442\u0438","text":""},{"location":"reference/naming/#3","title":"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u044b (3 \u0443\u0440\u043e\u0432\u043d\u044f)","text":"<ol> <li>Default \u2014 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 \u043a\u043e\u0434\u0435</li> <li>Transport-level: <code>/{serviceName}/transport/rest/{transportName}/{key}</code></li> <li>App-specific: <code>/{serviceName}/transport/rest/{transportName}/{appName}/{key}</code></li> </ol>"},{"location":"reference/naming/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u043f\u0443\u0442\u0435\u0439","text":"<p>\u0414\u043b\u044f <code>my-api</code> \u0441 application <code>web-app</code> \u0438 transport <code>api_v1</code>:</p> <pre><code># Transport-level\n/my-api/transport/rest/api_v1/timeout\n/my-api/transport/rest/api_v1/port\n\n# App-specific (override)\n/my-api/transport/rest/api_v1/web-app/timeout\n/my-api/transport/rest/api_v1/web-app/port\n</code></pre>"},{"location":"reference/naming/#_4","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u043a\u043e\u0434\u0435","text":""},{"location":"reference/naming/#maingo","title":"\u0412 main.go","text":"<pre><code>// ServiceName \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d\nconstant.ServiceName  // \"my-api\"\n\n// AppInfo \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 ApplicationName\ninfo := getAppInfo()\ninfo.AppName          // \"web-app\"\ninfo.Version          // \"v1.0.0\"\n</code></pre>"},{"location":"reference/naming/#middleware","title":"\u0412 Middleware","text":"<pre><code>func (dmw *DefaultMiddlewares) GetMiddlewares(\n    ctx context.Context,\n    appName string,           // \"web-app\"\n    metrics *prometheus.Registry,\n    srv ds.IService,\n    serviceName string,       // \"my-api\"\n    transportName string,     // \"api_v1\"\n    errHdl rest.RestErrorHandler,\n) ([]func(next http.Handler) http.Handler, error)\n</code></pre>"},{"location":"reference/naming/#prometheus","title":"Prometheus \u043c\u0435\u0442\u0440\u0438\u043a\u0438","text":"<pre><code>// Namespace \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 serviceName (sanitized)\nprometheus.NewHistogramVec(prometheus.HistogramOpts{\n    Namespace: strings.ReplaceAll(serviceName, \"-\", \"_\"), // \"my_api\"\n    Name:      \"request_duration_seconds\",\n})\n</code></pre>"},{"location":"reference/naming/#build-info","title":"Build Info","text":"<pre><code>prometheus.Labels{\n    \"service_name\": serviceName,  // \"my-api\"\n    \"app_name\":     info.AppName, // \"web-app\"\n    \"version\":      info.Version,\n}\n</code></pre>"},{"location":"reference/naming/#_5","title":"\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>fmt.Sprintf(\"Started: %s/%s v%s\", constant.ServiceName, info.AppName, info.Version)\n// \"Started: my-api/web-app v1.0.0\"\n</code></pre>"},{"location":"reference/naming/#_6","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 \u0440\u0430\u043d\u043d\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u0439","text":""},{"location":"reference/naming/#v0110","title":"\u0414\u043e v0.11.0","text":"<pre><code>info := ds.NewAppInfo(constant.ServiceName)  // AppName = \"my-api\"\n</code></pre>"},{"location":"reference/naming/#v0110_1","title":"\u041f\u043e\u0441\u043b\u0435 v0.11.0","text":"<pre><code>info := ds.NewAppInfo(\"web-app\")             // AppName = \"web-app\"\n// \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 constant.ServiceName \u0434\u043b\u044f service-level name\n</code></pre> <p>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:</p> <ul> <li><code>ds.NewAppInfo()</code> \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 <code>appName</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>serviceName</code></li> <li><code>AppInfo.AppName</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 Application.Name</li> <li>\u0414\u043b\u044f ServiceName \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>constant.ServiceName</code></li> <li>OnlineConf \u043f\u0443\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b \u043d\u0430 3-\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u0443\u044e \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u044e</li> </ul>"},{"location":"reference/yaml-schema/","title":"YAML Schema Reference","text":"<p>\u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u0435\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Go Project Starter.</p> <p>\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043f\u0440\u0430\u0432\u0434\u044b</p> <p>\u0410\u0432\u0442\u043e\u0440\u0438\u0442\u0435\u0442\u043d\u044b\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u2014 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0432 <code>internal/pkg/config/structs.go</code>. \u042d\u0442\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 \u043a\u043e\u0434\u043e\u043c.</p>"},{"location":"reference/yaml-schema/#_1","title":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430","text":"<pre><code>main:                      # \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\ngit:                       # Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439\ntools:                     # \u0412\u0435\u0440\u0441\u0438\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432\nrest:                      # REST \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b\ngrpc:                      # gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b\nkafka:                     # Kafka producers/consumers\ncli:                       # CLI \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b\nworker:                    # \u0424\u043e\u043d\u043e\u0432\u044b\u0435 \u0432\u043e\u0440\u043a\u0435\u0440\u044b\ndriver:                    # \u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439\napplications:              # \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (deployment units)\ngrafana:                   # Grafana datasources\njsonschema:                # JSON Schema \u0434\u043b\u044f \u0442\u0438\u043f\u0438\u0437\u0430\u0446\u0438\u0438\nartifacts:                 # \u0422\u0438\u043f\u044b \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u0441\u0431\u043e\u0440\u043a\u0438\npackaging:                 # \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432\ndocker:                    # Docker \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438\ndeploy:                    # \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0435\u043f\u043b\u043e\u044f\nscheduler:                 # \u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u0437\u0430\u0434\u0430\u0447\npost_generate:             # \u0428\u0430\u0433\u0438 \u043f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438\n</code></pre>"},{"location":"reference/yaml-schema/#main","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>main</code>","text":"<p>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p> <pre><code>main:\n  name: string              # [required] \u0418\u043c\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u043f\u0443\u0442\u044f\u0445, Docker \u043e\u0431\u0440\u0430\u0437\u0430\u0445)\n  logger: zerolog           # [optional] \u0422\u0438\u043f \u043b\u043e\u0433\u0433\u0435\u0440\u0430: zerolog|logrus\n  registry_type: github     # [required] \u0422\u0438\u043f registry: github|digitalocean|aws|selfhosted\n  author: string            # [optional] \u0410\u0432\u0442\u043e\u0440 \u0434\u043b\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432 \u0444\u0430\u0439\u043b\u043e\u0432\n  use_active_record: bool   # [optional] \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c PostgreSQL ActiveRecord\n  dev_stand: bool           # [optional] \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c docker-compose-dev.yaml \u0441 OnlineConf\n  skip_service_init: bool   # [optional] \u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e Service layer\n</code></pre>"},{"location":"reference/yaml-schema/#git","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>git</code>","text":"<p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f.</p> <pre><code>git:\n  repo: string              # [required] URL Git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\n  module_path: string       # [required] Go module path\n  private_repos: string     # [optional] \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438 \u0434\u043b\u044f GOPRIVATE (\u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e)\n</code></pre>"},{"location":"reference/yaml-schema/#tools","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>tools</code>","text":"<p>\u0412\u0435\u0440\u0441\u0438\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043f\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u0441\u0431\u043e\u0440\u043a\u0435.</p> <pre><code>tools:\n  golang_version: \"1.24\"           # [optional] \u0412\u0435\u0440\u0441\u0438\u044f Go (default: 1.24)\n  ogen_version: \"v0.78.0\"          # [optional] \u0412\u0435\u0440\u0441\u0438\u044f ogen (default: v0.78.0)\n  argen_version: \"v1.0.0\"          # [optional] \u0412\u0435\u0440\u0441\u0438\u044f argen/ActiveRecord (default: v1.0.0)\n  golangci_version: \"1.55.2\"       # [optional] \u0412\u0435\u0440\u0441\u0438\u044f golangci-lint (default: 1.55.2)\n  protobuf_version: \"1.7.0\"        # [optional] \u0412\u0435\u0440\u0441\u0438\u044f protoc-gen-go (default: 1.7.0)\n  go_jsonschema_version: \"v0.16.0\" # [optional] \u0412\u0435\u0440\u0441\u0438\u044f go-jsonschema (default: v0.16.0)\n  runtime_version: string          # [auto] \u0412\u0435\u0440\u0441\u0438\u044f go-project-starter-runtime\n  goat_version: string             # [auto] \u0412\u0435\u0440\u0441\u0438\u044f GOAT test framework\n  goat_services_version: string    # [auto] \u0412\u0435\u0440\u0441\u0438\u044f GOAT services\n</code></pre>"},{"location":"reference/yaml-schema/#rest","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>rest</code>","text":"<p>REST API \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b.</p> <pre><code>rest:\n  - name: string                # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430\n    path:                       # [required \u0434\u043b\u044f ogen/ogen_client] \u041f\u0443\u0442\u0438 \u043a OpenAPI \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f\u043c\n      - string\n    generator_type: string      # [required] \u0422\u0438\u043f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430: ogen|template|ogen_client\n    generator_template: string  # [required \u0434\u043b\u044f template] \u0418\u043c\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: sys)\n    generator_params:           # [optional] \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430\n      auth_handler: string      # [ogen] \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 auth handler\n    port: int                   # [required \u043a\u0440\u043e\u043c\u0435 sys] HTTP \u043f\u043e\u0440\u0442\n    version: string             # [required] \u0412\u0435\u0440\u0441\u0438\u044f API (v1, v2, etc)\n    api_prefix: string          # [optional] URL \u043f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f API\n    health_check_path: string   # [optional] \u041f\u0443\u0442\u044c \u0434\u043b\u044f health check\n    public_service: bool        # [optional] \u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 (\u0431\u0435\u0437 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438)\n\n    # \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f ogen_client:\n    instantiation: string       # [optional] static (default) \u0438\u043b\u0438 dynamic\n    auth_params:                # [optional] \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438\n      transport: header         # \u0422\u0438\u043f \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430 (\u0442\u043e\u043b\u044c\u043a\u043e header)\n      type: apikey              # \u0422\u0438\u043f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438: apikey \u0438\u043b\u0438 bearer\n</code></pre>"},{"location":"reference/yaml-schema/#rest_1","title":"\u0422\u0438\u043f\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 REST","text":"\u0422\u0438\u043f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>ogen</code> OpenAPI 3.0 \u0441\u0435\u0440\u0432\u0435\u0440 \u0447\u0435\u0440\u0435\u0437 ogen <code>template</code> \u0428\u0430\u0431\u043b\u043e\u043d\u043d\u0430\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f (sys \u0434\u043b\u044f metrics/health) <code>ogen_client</code> REST \u043a\u043b\u0438\u0435\u043d\u0442 \u0434\u043b\u044f \u0432\u044b\u0437\u043e\u0432\u0430 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 API"},{"location":"reference/yaml-schema/#instantiation-modes-ogen_client","title":"Instantiation modes (ogen_client)","text":"\u0420\u0435\u0436\u0438\u043c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>static</code> \u041e\u0434\u0438\u043d \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0430 \u0432\u0441\u0451 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 (default) <code>dynamic</code> \u041d\u043e\u0432\u044b\u0439 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430"},{"location":"reference/yaml-schema/#grpc","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>grpc</code>","text":"<p>gRPC \u0441\u0435\u0440\u0432\u0438\u0441\u044b.</p> <pre><code>grpc:\n  - name: string                # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430\n    path: string                # [required] \u041f\u0443\u0442\u044c \u043a .proto \u0444\u0430\u0439\u043b\u0443\n    short: string               # [optional] \u041a\u043e\u0440\u043e\u0442\u043a\u043e\u0435 \u0438\u043c\u044f \u0434\u043b\u044f \u043f\u0430\u043a\u0435\u0442\u043e\u0432\n    port: int                   # [required] gRPC \u043f\u043e\u0440\u0442\n    generator_type: string      # [required] \u0422\u0438\u043f: buf_client\n    buf_local_plugins: bool     # [optional] \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 buf \u043f\u043b\u0430\u0433\u0438\u043d\u044b\n\n    # \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f buf_client:\n    instantiation: string       # [optional] static (default) \u0438\u043b\u0438 dynamic\n</code></pre>"},{"location":"reference/yaml-schema/#instantiation-modes-buf_client","title":"Instantiation modes (buf_client)","text":"\u0420\u0435\u0436\u0438\u043c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>static</code> \u041e\u0434\u0438\u043d \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0430 \u0432\u0441\u0451 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 (default) <code>dynamic</code> \u041a\u043b\u0438\u0435\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0432 \u0440\u0430\u043d\u0442\u0430\u0439\u043c\u0435 \u0447\u0435\u0440\u0435\u0437 <code>NewDynamicClient(ctx, address)</code>"},{"location":"reference/yaml-schema/#kafka","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>kafka</code>","text":"<p>Kafka producers \u0438 consumers.</p> <pre><code>kafka:\n  - name: string                # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f\n    type: string                # [required] \u0422\u0438\u043f: producer|consumer\n    driver: string              # [optional] \u0414\u0440\u0430\u0439\u0432\u0435\u0440: segmentio (default)|custom\n    client: string              # [required] \u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0434\u043b\u044f OnlineConf \u043f\u0443\u0442\u0435\u0439\n    group: string               # [required \u0434\u043b\u044f consumer] Consumer group\n    events:                     # [required] \u0421\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0431\u044b\u0442\u0438\u0439\n      - name: string            # [required] \u0418\u043c\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043c\u0435\u0442\u043e\u0434\u043e\u0432)\n        schema: string          # [optional] \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 JSON schema: schemaset.schemaid\n\n    # \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f custom driver:\n    driver_import: string       # [required] Import path \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\n    driver_package: string      # [required] \u0418\u043c\u044f \u043f\u0430\u043a\u0435\u0442\u0430\n    driver_obj: string          # [required] \u0418\u043c\u044f struct \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\n</code></pre>"},{"location":"reference/yaml-schema/#cli","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>cli</code>","text":"<p>CLI \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439.</p> <pre><code>cli:\n  - name: string                # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f CLI\n    path:                       # [optional] \u041f\u0443\u0442\u044c \u043a \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043a\u043e\u043c\u0430\u043d\u0434 (commands.yaml)\n      - string\n    generator_type: template    # [required] \u0422\u0438\u043f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430\n    generator_template: cli     # [required] \u0418\u043c\u044f \u0448\u0430\u0431\u043b\u043e\u043d\u0430\n    generator_params:           # [optional] \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430\n      key: value\n</code></pre>"},{"location":"reference/yaml-schema/#commandsyaml","title":"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 (<code>commands.yaml</code>)","text":"<p>\u0424\u0430\u0439\u043b, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 <code>path</code>, \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 CLI \u043a\u043e\u043c\u0430\u043d\u0434\u044b:</p> <pre><code>commands:\n  - name: string                # [required] \u0418\u043c\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b\n    description: string         # [required] \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b\n\n    # Leaf-\u043a\u043e\u043c\u0430\u043d\u0434\u0430 (\u0431\u0435\u0437 subcommands):\n    flags:                      # [optional] \u0424\u043b\u0430\u0433\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b\n      - name: string            # [required] \u0418\u043c\u044f \u0444\u043b\u0430\u0433\u0430 (--name)\n        type: string            # [required] \u0422\u0438\u043f: string|int|bool|float64|duration\n        required: bool          # [optional] \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0444\u043b\u0430\u0433\n        default: string         # [optional] \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\n        description: string     # [optional] \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\n\n    # \u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0441 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u0430\u043c\u0438 (\u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 flags):\n    subcommands:                # [optional] \u041f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u044b\n      - name: string            # [required] \u0418\u043c\u044f \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u044b\n        description: string     # [required] \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u044b\n        flags:                  # [optional] \u0424\u043b\u0430\u0433\u0438 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434\u044b\n          - name: string\n            type: string\n            required: bool\n            default: string\n            description: string\n</code></pre>"},{"location":"reference/yaml-schema/#_2","title":"\u0422\u0438\u043f\u044b \u0444\u043b\u0430\u0433\u043e\u0432","text":"\u0422\u0438\u043f Go \u0442\u0438\u043f \u041f\u0440\u0438\u043c\u0435\u0440 default <code>string</code> <code>string</code> <code>\"hello\"</code> <code>int</code> <code>int</code> <code>\"100\"</code> <code>bool</code> <code>bool</code> <code>\"true\"</code> <code>float64</code> <code>float64</code> <code>\"3.14\"</code> <code>duration</code> <code>time.Duration</code> <code>\"5s\"</code>"},{"location":"reference/yaml-schema/#_3","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438","text":"<ul> <li>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u043c\u043e\u0436\u0435\u0442 \u0438\u043c\u0435\u0442\u044c <code>subcommands</code> \u0438\u043b\u0438 <code>flags</code>, \u043d\u043e \u043d\u0435 \u043e\u0431\u0430</li> <li>\u0418\u043c\u0435\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b</li> <li>\u0418\u043c\u0435\u043d\u0430 \u043f\u043e\u0434\u043a\u043e\u043c\u0430\u043d\u0434 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b</li> <li><code>type</code> \u0444\u043b\u0430\u0433\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439</li> </ul>"},{"location":"reference/yaml-schema/#worker","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>worker</code>","text":"<p>\u0424\u043e\u043d\u043e\u0432\u044b\u0435 \u0432\u043e\u0440\u043a\u0435\u0440\u044b.</p> <pre><code>worker:\n  - name: string                # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u0432\u043e\u0440\u043a\u0435\u0440\u0430\n    path:                       # [optional] \u041f\u0443\u0442\u0438 \u043a \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f\u043c\n      - string\n    version: string             # [optional] \u0412\u0435\u0440\u0441\u0438\u044f\n    generator_type: template    # [required] \u0422\u0438\u043f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430\n    generator_template: string  # [required] \u0428\u0430\u0431\u043b\u043e\u043d: telegram|daemon\n    generator_params:           # [optional] \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430\n      key: value\n</code></pre>"},{"location":"reference/yaml-schema/#_4","title":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432","text":"\u0428\u0430\u0431\u043b\u043e\u043d \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>telegram</code> Telegram \u0431\u043e\u0442 <code>daemon</code> \u0424\u043e\u043d\u043e\u0432\u044b\u0439 daemon \u043f\u0440\u043e\u0446\u0435\u0441\u0441"},{"location":"reference/yaml-schema/#driver","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>driver</code>","text":"<p>\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u0439.</p> <pre><code>driver:\n  - name: string                # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\n    import: string              # [required] Import path\n    package: string             # [required] \u0418\u043c\u044f \u043f\u0430\u043a\u0435\u0442\u0430\n    obj_name: string            # [required] \u0418\u043c\u044f struct \u043e\u0431\u044a\u0435\u043a\u0442\u0430\n    service_injection: string   # [optional] \u041a\u043e\u0434 \u0434\u043b\u044f \u0438\u043d\u044a\u0435\u043a\u0446\u0438\u0438 \u0432 Service\n</code></pre>"},{"location":"reference/yaml-schema/#applications","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>applications</code>","text":"<p>\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u2014 \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u044b\u0435 \u0435\u0434\u0438\u043d\u0438\u0446\u044b \u0434\u0435\u043f\u043b\u043e\u044f (\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u044b).</p> <pre><code>applications:\n  - name: string                # [required] \u0418\u043c\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (= \u0438\u043c\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430)\n\n    transport:\n      - name: string            # \u0418\u043c\u044f REST \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430\n        config:                 # [optional] \u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a\n          instantiation: string # static|dynamic (\u0434\u043b\u044f ogen_client)\n\n    kafka:                      # [optional] Kafka producers/consumers\n      - string\n    worker:                     # [optional] \u0412\u043e\u0440\u043a\u0435\u0440\u044b\n      - string\n    cli: string                 # [optional] CLI \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442 (\u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 transport/worker)\n\n    driver:                     # [optional] \u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438\n      - name: string            # \u0418\u043c\u044f \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\n        params:                 # [optional] \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438\n          - string\n\n    deploy:                     # [optional] \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0435\u043f\u043b\u043e\u044f\n      volumes:                  # Docker volumes\n        - path: string          # \u041f\u0443\u0442\u044c \u043a \u0444\u0430\u0439\u043b\u0443/\u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438\n          mount: string         # \u0422\u043e\u0447\u043a\u0430 \u043c\u043e\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435\n\n    use_active_record: bool     # [optional] \u041f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0443\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443\n    use_envs: bool              # [optional] \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c environment variables\n    depends_on_docker_images:   # [optional] Docker \u043e\u0431\u0440\u0430\u0437\u044b \u0434\u043b\u044f pre-pull\n      - string\n\n    # GOAT \u0442\u0435\u0441\u0442\u044b:\n    goat_tests: bool            # [optional] \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c GOAT \u0442\u0435\u0441\u0442\u044b (\u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0444\u043b\u0430\u0433)\n    goat_tests_config:          # [optional] \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f GOAT\n      enabled: bool\n      binary_path: string       # \u041f\u0443\u0442\u044c \u043a \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u043c\u0443 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0443\n\n    # Grafana:\n    grafana:\n      datasources:              # \u0421\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 datasources \u043f\u043e \u0438\u043c\u0435\u043d\u0438\n        - string\n\n    # \u0410\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u044b (\u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435):\n    artifacts:\n      - docker\n      - deb\n</code></pre> <p>CLI \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f</p> <p>\u0415\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d <code>cli</code>, \u043d\u0435\u043b\u044c\u0437\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>transport</code> \u0438 <code>worker</code>.</p>"},{"location":"reference/yaml-schema/#grafana","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>grafana</code>","text":"<p>\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Grafana datasources.</p> <pre><code>grafana:\n  datasources:\n    - name: string              # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f\n      type: string              # [required] \u0422\u0438\u043f: prometheus|loki\n      access: string            # [optional] \u0420\u0435\u0436\u0438\u043c: proxy (default)|direct\n      url: string               # [required] URL datasource\n      isDefault: bool           # [optional] Default datasource\n      editable: bool            # [optional] \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0432 UI\n</code></pre>"},{"location":"reference/yaml-schema/#jsonschema","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>jsonschema</code>","text":"<p>JSON Schema \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 Go \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u0441 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0435\u0439.</p> <pre><code>jsonschema:\n  - name: string                # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u0441\u0445\u0435\u043c\n    package: string             # [optional] \u0418\u043c\u044f Go \u043f\u0430\u043a\u0435\u0442\u0430 (default: name)\n\n    # \u041d\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f):\n    schemas:\n      - id: string              # [required] \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 ID \u0434\u043b\u044f \u0441\u0441\u044b\u043b\u043e\u043a \u0438\u0437 kafka\n        path: string            # [required] \u041f\u0443\u0442\u044c \u043a JSON schema \u0444\u0430\u0439\u043b\u0443\n        type: string            # [optional] \u0418\u043c\u044f Go \u0442\u0438\u043f\u0430 (auto-generated \u0435\u0441\u043b\u0438 \u043f\u0443\u0441\u0442\u043e)\n\n    # Legacy \u0444\u043e\u0440\u043c\u0430\u0442 (deprecated):\n    path:\n      - string\n</code></pre>"},{"location":"reference/yaml-schema/#artifacts","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>artifacts</code>","text":"<p>\u0422\u0438\u043f\u044b \u0430\u0440\u0442\u0435\u0444\u0430\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438.</p> <pre><code>artifacts:\n  - docker                      # Docker \u043e\u0431\u0440\u0430\u0437\u044b\n  - deb                         # Debian \u043f\u0430\u043a\u0435\u0442\u044b\n  - rpm                         # RPM \u043f\u0430\u043a\u0435\u0442\u044b\n  - apk                         # Alpine \u043f\u0430\u043a\u0435\u0442\u044b\n</code></pre>"},{"location":"reference/yaml-schema/#packaging","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>packaging</code>","text":"<p>\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 (deb/rpm/apk).</p> <pre><code>packaging:\n  maintainer: string            # [required] Email maintainer'\u0430\n  description: string           # [required] \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0430\u043a\u0435\u0442\u0430\n  homepage: string              # [optional] URL \u043f\u0440\u043e\u0435\u043a\u0442\u0430\n  license: string               # [optional] \u041b\u0438\u0446\u0435\u043d\u0437\u0438\u044f\n  vendor: string                # [optional] \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f/\u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\n  install_dir: string           # [optional] \u041f\u0443\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0430\n  config_dir: string            # [optional] \u041f\u0443\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432\n  upload:                       # [optional] \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0430\u043a\u0435\u0442\u043e\u0432\n    type: string                # \u0422\u0438\u043f \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430: minio|aws|rsync\n</code></pre> <p>Credentials \u0434\u043b\u044f upload</p> <p>Credentials (endpoint, bucket, keys) \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 CI/CD \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435, \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0444\u0438\u0433.</p>"},{"location":"reference/yaml-schema/#docker","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>docker</code>","text":"<p>Docker \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438.</p> <pre><code>docker:\n  image_prefix: string          # [optional] \u041f\u0440\u0435\u0444\u0438\u043a\u0441 \u0434\u043b\u044f Docker \u043e\u0431\u0440\u0430\u0437\u043e\u0432\n</code></pre>"},{"location":"reference/yaml-schema/#deploy","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>deploy</code>","text":"<p>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u0435\u043f\u043b\u043e\u044f.</p> <pre><code>deploy:\n  log_collector:                # [optional] \u0421\u0431\u043e\u0440\u0449\u0438\u043a \u043b\u043e\u0433\u043e\u0432\n    type: string                # \u0422\u0438\u043f \u0441\u0431\u043e\u0440\u0449\u0438\u043a\u0430\n    parameters:                 # \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b\n      key: value\n</code></pre>"},{"location":"reference/yaml-schema/#scheduler","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>scheduler</code>","text":"<p>\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u0437\u0430\u0434\u0430\u0447.</p> <pre><code>scheduler:\n  enabled: bool                 # [optional] \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c scheduler\n</code></pre>"},{"location":"reference/yaml-schema/#post_generate","title":"\u0421\u0435\u043a\u0446\u0438\u044f <code>post_generate</code>","text":"<p>\u0428\u0430\u0433\u0438, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0435 \u043f\u043e\u0441\u043b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438.</p> <pre><code>post_generate:\n  - git_install                 # \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f git \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f\n  - tools_install               # \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432\n  - clean_imports               # \u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u0432 (goimports)\n  - executable_scripts          # chmod +x \u0434\u043b\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432\n  - call_generate               # \u0412\u044b\u0437\u043e\u0432 make generate\n  - go_mod_tidy                 # go mod tidy\n</code></pre>"},{"location":"reference/yaml-schema/#_5","title":"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438","text":""},{"location":"reference/yaml-schema/#_6","title":"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438","text":"<ol> <li><code>main.name</code> \u2014 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e</li> <li><code>main.registry_type</code> \u2014 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: <code>github</code>, <code>digitalocean</code>, <code>aws</code>, <code>selfhosted</code></li> <li><code>git.repo</code> \u0438 <code>git.module_path</code> \u2014 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b</li> <li>REST/gRPC \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0432 <code>applications</code></li> <li>\u0414\u0440\u0430\u0439\u0432\u0435\u0440\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0441\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 <code>driver</code></li> <li>\u0418\u043c\u0435\u043d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432, \u0432\u043e\u0440\u043a\u0435\u0440\u043e\u0432, \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u043e\u0432 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f</li> <li>\u041f\u043e\u0440\u0442\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f REST (\u043a\u0440\u043e\u043c\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 <code>sys</code>)</li> </ol>"},{"location":"reference/yaml-schema/#_7","title":"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438","text":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435 <code>use_active_record: true</code> \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f <code>tools.argen_version</code> <code>artifacts</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 <code>deb/rpm/apk</code> \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0435\u043a\u0446\u0438\u044f <code>packaging</code> <code>kafka.type: consumer</code> \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f <code>group</code> <code>kafka.driver: custom</code> \u0422\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f <code>driver_import</code>, <code>driver_package</code>, <code>driver_obj</code> <code>rest.generator_type: template</code> \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f <code>generator_template</code> <code>rest.instantiation</code> \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f <code>ogen_client</code>"},{"location":"reference/yaml-schema/#_8","title":"\u041f\u043e\u043b\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>main:\n  name: myservice\n  logger: zerolog              # \u0438\u043b\u0438 logrus\n  registry_type: github\n  use_active_record: true\n  dev_stand: true\n\ngit:\n  repo: https://github.com/myorg/myservice\n  module_path: github.com/myorg/myservice\n\ntools:\n  golang_version: \"1.22\"\n  ogen_version: \"v1.0.0\"\n\nrest:\n  - name: api\n    path: [./api/openapi.yaml]\n    generator_type: ogen\n    port: 8080\n    version: v1\n    health_check_path: /health\n\n  - name: sys\n    generator_type: template\n    generator_template: sys\n    port: 9090\n    version: v1\n\n  - name: external_api\n    generator_type: ogen_client\n    path: [./api/external.yaml]\n    instantiation: dynamic\n    auth_params:\n      transport: header\n      type: apikey\n\nkafka:\n  - name: events_producer\n    type: producer\n    client: main_kafka\n    events:\n      - name: user_created\n        schema: models.user\n\njsonschema:\n  - name: models\n    schemas:\n      - id: user\n        path: ./schemas/user.json\n\napplications:\n  - name: api\n    transport:\n      - name: api\n      - name: sys\n      - name: external_api\n        config:\n          instantiation: dynamic\n    kafka: [events_producer]\n    goat_tests: true\n\n  - name: workers\n    worker: [telegram_bot]\n\nworker:\n  - name: telegram_bot\n    generator_type: template\n    generator_template: telegram\n\nartifacts:\n  - docker\n</code></pre>"},{"location":"testing/","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432.</p>"},{"location":"testing/#_2","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>GOAT \u2014 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0441 GOAT \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u043e\u043c</li> </ul>"},{"location":"testing/#_3","title":"\u041e\u0431\u0437\u043e\u0440","text":"<p>\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:</p> \u0423\u0440\u043e\u0432\u0435\u043d\u044c \u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Unit \u0442\u0435\u0441\u0442\u044b <code>make test</code> \u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u0431\u0435\u0437 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 Integration \u0442\u0435\u0441\u0442\u044b <code>make goat-tests</code> E2E \u0442\u0435\u0441\u0442\u044b \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438"},{"location":"testing/#unit","title":"Unit \u0442\u0435\u0441\u0442\u044b","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432 \u0441 coverage\nmake test\n\n# \u0421 race detector\nmake race\n\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f HTML \u043e\u0442\u0447\u0451\u0442\u0430\nmake coverage\n</code></pre>"},{"location":"testing/#goat-integration","title":"GOAT Integration \u0442\u0435\u0441\u0442\u044b","text":"<p>GOAT (Go Application Testing) \u2014 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.</p>"},{"location":"testing/#_4","title":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435","text":"<pre><code>applications:\n  - name: api\n    goat_tests: true\n    transport: [api, sys]\n</code></pre>"},{"location":"testing/#_5","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":"<pre><code># \u0421\u0431\u043e\u0440\u043a\u0430 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432\nmake goat-tests\n\n# \u0421 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c \u0432\u044b\u0432\u043e\u0434\u043e\u043c\nmake goat-tests-verbose\n</code></pre>"},{"location":"testing/#_6","title":"\u0427\u0442\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f","text":"<ul> <li>\u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0435 HTTP endpoints</li> <li>\u0420\u0435\u0430\u043b\u044c\u043d\u0430\u044f \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 (testcontainers)</li> <li>\u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 API (mock-\u0441\u0435\u0440\u0432\u0435\u0440\u044b)</li> </ul>"},{"location":"testing/#_7","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>GOAT \u2014 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u043c \u0442\u0435\u0441\u0442\u0430\u043c</li> </ul>"},{"location":"testing/goat/","title":"GOAT Integration Tests","text":"<p>GOAT (Go Application Testing) \u2014 \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a \u0434\u043b\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f Go-\u043c\u0438\u043a\u0440\u043e\u0441\u0435\u0440\u0432\u0438\u0441\u043e\u0432.</p>"},{"location":"testing/goat/#_1","title":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"testing/goat/#_2","title":"\u041f\u0440\u043e\u0441\u0442\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442","text":"<pre><code>applications:\n  - name: api\n    goat_tests: true\n    transport: [api, sys]\n</code></pre>"},{"location":"testing/goat/#_3","title":"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<pre><code>applications:\n  - name: api\n    goat_tests_config:\n      enabled: true\n      binary_path: /tmp/my-custom-path\n    transport: [api, sys]\n</code></pre>"},{"location":"testing/goat/#_4","title":"\u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b","text":"<p>\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>tests/</code> \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f:</p> \u0424\u0430\u0439\u043b \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>psg_app_gen.go</code> \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>psg_base_suite_gen.go</code> \u0411\u0430\u0437\u043e\u0432\u044b\u0439 test suite <code>psg_config_gen.go</code> \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 <code>psg_helpers_gen.go</code> HTTP \u043a\u043b\u0438\u0435\u043d\u0442, retry \u043b\u043e\u0433\u0438\u043a\u0430 <code>psg_init_gen.go</code> \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 <code>psg_main_test.go</code> \u0422\u043e\u0447\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u043e\u0432"},{"location":"testing/goat/#_5","title":"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"<ul> <li>Go 1.24+</li> <li>Docker (\u0434\u043b\u044f testcontainers)</li> <li>\u0421\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f</li> </ul>"},{"location":"testing/goat/#_6","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":""},{"location":"testing/goat/#1-initgo","title":"1. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 <code>init.go</code>","text":"<p>\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0444\u0430\u0439\u043b, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 <code>TestEnvInitializer</code>:</p> <pre><code>package tests\n\nimport (\n    \"context\"\n    \"database/sql\"\n    \"fmt\"\n    \"os\"\n    \"path/filepath\"\n\n    gtt \"github.com/Educentr/goat\"\n    \"github.com/Educentr/goat-services/psql\"\n    \"github.com/Educentr/goat/services\"\n    \"github.com/Educentr/goat/testutil\"\n)\n\ntype testEnvInitializerImpl struct{}\n\ntype myTestConfig struct {\n    *YourProjectConfig\n}\n\nfunc (c *myTestConfig) NewExecutor(env *gtt.Env, mockAddress string) *gtt.Executor {\n    envVars := c.loadEnvVars()\n    c.configureDB(envVars, env)\n\n    return gtt.NewExecutorBuilder(c.BinaryPath()).\n        WithEnv(envVars).\n        Build()\n}\n\nfunc (c *myTestConfig) loadEnvVars() map[string]string {\n    envVars, _ := testutil.LoadEnvFile(\"tests/etc/onlineconf/onlineconf.env\")\n    envVars[\"ONLINECONFIG_FROM_ENV\"] = \"true\"\n    return envVars\n}\n\nfunc (c *myTestConfig) configureDB(envVars map[string]string, env *gtt.Env) {\n    pg := services.MustGetTyped[*psql.Env](env.Manager(), \"postgres\")\n    svc := c.ServiceName()\n    envVars[fmt.Sprintf(\"OC_%s__db__main\", svc)] = fmt.Sprintf(\"%s:%s\", pg.DBHost, pg.DBPort)\n    envVars[fmt.Sprintf(\"OC_%s__db__main__User\", svc)] = pg.DBUser\n    envVars[fmt.Sprintf(\"OC_%s__db__main__Password\", svc)] = pg.DBPass\n    envVars[fmt.Sprintf(\"OC_%s__db__main__DB\", svc)] = pg.DBName\n}\n\nfunc (c *myTestConfig) ApplyMigrations(ctx context.Context, db *sql.DB) error {\n    migrationsPath, _ := filepath.Abs(filepath.Join(\"..\", \"etc/database/postgres\"))\n    migrationFiles := []string{\"01_schema.sql\"}\n\n    for _, file := range migrationFiles {\n        content, err := os.ReadFile(filepath.Join(migrationsPath, file))\n        if err != nil {\n            continue\n        }\n        if _, err := db.ExecContext(ctx, string(content)); err != nil {\n            return fmt.Errorf(\"apply migration %s: %w\", file, err)\n        }\n    }\n    return nil\n}\n\nfunc (c *myTestConfig) CleanupTables(ctx context.Context, db *sql.DB) error {\n    tables := []string{\"users\", \"sessions\"}\n    for _, table := range tables {\n        if _, err := db.ExecContext(ctx, fmt.Sprintf(\"TRUNCATE TABLE %s RESTART IDENTITY CASCADE\", table)); err != nil {\n            return fmt.Errorf(\"truncate %s: %w\", table, err)\n        }\n    }\n    return nil\n}\n\nfunc (t *testEnvInitializerImpl) InitTestEnv() (testutil.TestAppConfig, *gtt.Env) {\n    config := &amp;myTestConfig{YourProjectConfig: NewYourProjectConfig()}\n    services.MustRegisterServiceFuncTyped(\"postgres\", psql.Run)\n    servicesMap := services.NewServicesMap(\"postgres\")\n    manager := services.NewManager(servicesMap, services.DefaultManagerConfig())\n    env := gtt.NewEnv(gtt.EnvConfig{}, manager)\n    return config, env\n}\n\nfunc init() {\n    testEnvInit = &amp;testEnvInitializerImpl{}\n}\n</code></pre>"},{"location":"testing/goat/#_7","title":"\u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"testing/goat/#test-suite","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 test suite","text":"<pre><code>package tests\n\nimport (\n    \"net/http\"\n    \"testing\"\n\n    \"github.com/stretchr/testify/suite\"\n)\n\ntype MyFeatureTestSuite struct {\n    BaseTestSuite\n}\n\nfunc (s *MyFeatureTestSuite) TestMyFeature() {\n    // 1. \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445\n    // 2. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\n    resp, body := s.client.Get(s.T(), \"/my/endpoint\")\n    // 3. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\n    s.Require().Equal(http.StatusOK, resp.StatusCode)\n}\n\nfunc TestMyFeatureTestSuite(t *testing.T) {\n    suite.Run(t, new(MyFeatureTestSuite))\n}\n</code></pre>"},{"location":"testing/goat/#http","title":"HTTP \u043a\u043b\u0438\u0435\u043d\u0442","text":"<pre><code>// GET \u0437\u0430\u043f\u0440\u043e\u0441\nresp, body := s.client.Get(s.T(), \"/endpoint\")\n\n// POST \u0437\u0430\u043f\u0440\u043e\u0441\nreqBody := map[string]interface{}{\"field\": \"value\"}\nresp, body := s.client.Post(s.T(), \"/endpoint\", reqBody)\n\n// \u0421 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0435\u0439\ns.client.WithAuth(token)\nresp, body := s.client.Get(s.T(), \"/protected\")\n</code></pre>"},{"location":"testing/goat/#basetestsuite","title":"\u041c\u0435\u0442\u043e\u0434\u044b BaseTestSuite","text":"\u041c\u0435\u0442\u043e\u0434 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>s.ctx</code> Context \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 <code>s.env</code> GOAT Environment <code>s.client</code> HTTP \u043a\u043b\u0438\u0435\u043d\u0442 <code>s.Mocks()</code> Mock-\u0441\u0435\u0440\u0432\u0435\u0440\u044b"},{"location":"testing/goat/#mock-api","title":"Mock-\u0441\u0435\u0440\u0432\u0435\u0440\u044b \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 API","text":"<p>\u0415\u0441\u043b\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 <code>ogen_client</code>:</p> <pre><code>package tests\n\nimport (\n    \"context\"\n    \"net/http\"\n\n    externalapi \"github.com/your-org/your-project/pkg/rest/external/v1\"\n    externalmock \"github.com/your-org/your-project/pkg/mocks/external\"\n    \"go.uber.org/mock/gomock\"\n)\n\ntype MockServers struct {\n    ExternalHandler *externalmock.MockHandler\n}\n\nfunc HTTPMocksSetup(mocks *MockServers) func(server *http.ServeMux, ctl *gomock.Controller) {\n    return func(server *http.ServeMux, ctl *gomock.Controller) {\n        mocks.ExternalHandler = externalmock.NewMockHandler(ctl)\n\n        externalServer, _ := externalapi.NewServer(mocks.ExternalHandler, nil)\n        server.Handle(\"/external/\", externalServer)\n    }\n}\n</code></pre>"},{"location":"testing/goat/#_8","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0442\u0435\u0441\u0442\u0430\u0445","text":"<pre><code>func (s *MyTestSuite) TestExternalAPICall() {\n    s.Mocks().ExternalHandler.EXPECT().\n        GetData(gomock.Any()).\n        Return(&amp;externalapi.DataResponse{Status: \"success\"}, nil).\n        Times(1)\n\n    resp, body := s.client.Get(s.T(), \"/my-endpoint\")\n    s.Require().Equal(http.StatusOK, resp.StatusCode)\n}\n</code></pre>"},{"location":"testing/goat/#_9","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432","text":""},{"location":"testing/goat/#makefile","title":"\u0427\u0435\u0440\u0435\u0437 Makefile","text":"<pre><code>make goat-tests           # \u0421\u0431\u043e\u0440\u043a\u0430 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\nmake goat-tests-verbose   # \u0421 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c \u0432\u044b\u0432\u043e\u0434\u043e\u043c\nmake build_for_test-api   # \u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0431\u043e\u0440\u043a\u0430 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0430\n</code></pre>"},{"location":"testing/goat/#_10","title":"\u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e","text":"<pre><code># \u0421\u0431\u043e\u0440\u043a\u0430 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0430\nCGO_ENABLED=1 go build -cover -race -o /tmp/api ./cmd/api\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432\ngo test -v ./tests/...\n\n# \u041a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 suite\ngo test -v -run TestAuthTestSuite ./tests/...\n\n# \u041a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u0442\u0435\u0441\u0442\ngo test -v -run TestAuthTestSuite/TestLogin ./tests/...\n</code></pre>"},{"location":"testing/goat/#_11","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0444\u0430\u0439\u043b\u043e\u0432","text":"<pre><code>your-project/\n\u251c\u2500\u2500 cmd/api/\n\u2502   \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 psg_*.go           # [generated]\n\u2502   \u251c\u2500\u2500 init.go            # [manual] \u0412\u0430\u0448\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f\n\u2502   \u251c\u2500\u2500 factories.go       # [manual] \u0424\u0430\u0431\u0440\u0438\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445\n\u2502   \u251c\u2500\u2500 fixtures.go        # [manual] \u041a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b\n\u2502   \u251c\u2500\u2500 assertions.go      # [manual] Assertion helpers\n\u2502   \u251c\u2500\u2500 auth_test.go       # [manual] \u0412\u0430\u0448\u0438 \u0442\u0435\u0441\u0442\u044b\n\u2502   \u2514\u2500\u2500 etc/onlineconf/    # \u0422\u0435\u0441\u0442\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\n\u2514\u2500\u2500 etc/database/postgres/ # SQL \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438\n</code></pre>"},{"location":"testing/goat/#best-practices","title":"Best Practices","text":"<ol> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0444\u0430\u0431\u0440\u0438\u043a\u0438 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445</li> <li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 fixtures \u0434\u043b\u044f \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442</li> <li>\u041d\u0430\u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 BaseTestSuite</li> <li>\u041e\u0447\u0438\u0449\u0430\u0439\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043c\u0435\u0436\u0434\u0443 \u0442\u0435\u0441\u0442\u0430\u043c\u0438 (CleanupTables)</li> <li>\u041f\u043e\u043d\u044f\u0442\u043d\u044b\u0435 \u0438\u043c\u0435\u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432: <code>TestFeature_WhenCondition_ExpectedResult</code></li> </ol>"},{"location":"testing/goat/#troubleshooting","title":"Troubleshooting","text":""},{"location":"testing/goat/#api-did-not-become-ready","title":"\"API did not become ready\"","text":"<ul> <li>\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a: <code>ls -la /tmp/api</code></li> <li>Docker \u0437\u0430\u043f\u0443\u0449\u0435\u043d</li> <li>\u041f\u043e\u0440\u0442\u044b \u043d\u0435 \u0437\u0430\u043d\u044f\u0442\u044b</li> <li>\u041b\u043e\u0433\u0438: <code>tail -f /tmp/yourproject-test-*.log</code></li> </ul>"},{"location":"testing/goat/#testenvinitializer-not-implemented","title":"\"TestEnvInitializer not implemented\"","text":"<ul> <li>\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 <code>tests/init.go</code></li> <li>\u0420\u0435\u0430\u043b\u0438\u0437\u0443\u0439\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441</li> <li>\u041f\u0440\u0438\u0441\u0432\u043e\u0439\u0442\u0435 \u0432 <code>init()</code>: <code>testEnvInit = &amp;testEnvInitializerImpl{}</code></li> </ul>"},{"location":"testing/goat/#_12","title":"\u0420\u0435\u0441\u0443\u0440\u0441\u044b","text":"<ul> <li>GOAT Framework</li> <li>Testcontainers Go</li> <li>testify/suite</li> </ul>"},{"location":"workflow/","title":"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0447\u0435\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441 Go Project Starter.</p>"},{"location":"workflow/#_2","title":"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u0430","text":"<ul> <li>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u2014 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438</li> <li>Makefile \u2014 \u0446\u0435\u043b\u0438 Makefile \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430</li> <li>OnlineConf \u2014 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 OnlineConf</li> </ul>"},{"location":"workflow/#workflow","title":"\u0422\u0438\u043f\u0438\u0447\u043d\u044b\u0439 workflow","text":""},{"location":"workflow/#1","title":"1. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<pre><code># \u0418\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 wizard\ngo-project-starter init --target=.\n\n# \u0418\u043b\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0438\u0437 \u0433\u043e\u0442\u043e\u0432\u043e\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0430\ngo-project-starter --config=config.yaml\n</code></pre>"},{"location":"workflow/#2","title":"2. \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430","text":"<pre><code># \u0417\u0430\u043f\u0443\u0441\u043a \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\nmake docker-up\n\n# \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0430 \u0438\u0437 OpenAPI\nmake generate\n\n# \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430\nmake run\n</code></pre>"},{"location":"workflow/#3-api","title":"3. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 API","text":"<ol> <li>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 OpenAPI \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e</li> <li>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043e\u0434:</li> </ol> <pre><code>make generate\n</code></pre>"},{"location":"workflow/#4","title":"4. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430","text":"<ol> <li>\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 <code>config.yaml</code></li> <li>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442:</li> </ol> <pre><code>go-project-starter --config=config.yaml\n</code></pre> <p>\u0412\u0430\u0448 \u043a\u043e\u0434 \u043d\u0438\u0436\u0435 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d.</p>"},{"location":"workflow/#5","title":"5. \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"<pre><code>make test           # Unit \u0442\u0435\u0441\u0442\u044b\nmake goat-tests     # \u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 GOAT \u0442\u0435\u0441\u0442\u044b\n</code></pre>"},{"location":"workflow/#6","title":"6. \u0414\u0435\u043f\u043b\u043e\u0439","text":"<pre><code>make docker-build   # \u0421\u0431\u043e\u0440\u043a\u0430 Docker \u043e\u0431\u0440\u0430\u0437\u0430\nmake docker-push    # Push \u0432 registry\n</code></pre>"},{"location":"workflow/#_3","title":"\u0424\u0430\u0439\u043b\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f","text":"<ul> <li><code>.gitignore</code></li> <li><code>go.mod</code>, <code>go.sum</code></li> <li><code>LICENSE.txt</code></li> <li><code>README.md</code></li> <li><code>.git/</code> \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f</li> </ul>"},{"location":"workflow/#_4","title":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0433\u0438","text":"<ul> <li>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u2014 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438</li> <li>Makefile \u2014 \u0432\u0441\u0435 \u0446\u0435\u043b\u0438 Makefile</li> <li>OnlineConf \u2014 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f</li> </ul>"},{"location":"workflow/makefile/","title":"Makefile","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0446\u0435\u043b\u0435\u0439 Makefile \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430.</p>"},{"location":"workflow/makefile/#_1","title":"\u041e\u0431\u0437\u043e\u0440","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 Makefile \u0441 40+ \u0446\u0435\u043b\u044f\u043c\u0438 \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438, \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0434\u0435\u043f\u043b\u043e\u044f.</p>"},{"location":"workflow/makefile/#_2","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b","text":""},{"location":"workflow/makefile/#_3","title":"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make run</code> \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>make build</code> \u0421\u0431\u043e\u0440\u043a\u0430 \u0431\u0438\u043d\u0430\u0440\u043d\u0438\u043a\u0430 <code>make generate</code> \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u0441\u0435\u0445 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 (ogen, argen, mock) <code>make docker-up</code> \u0417\u0430\u043f\u0443\u0441\u043a \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439 \u0432 Docker <code>make docker-down</code> \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439"},{"location":"workflow/makefile/#_4","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make test</code> \u0417\u0430\u043f\u0443\u0441\u043a unit \u0442\u0435\u0441\u0442\u043e\u0432 \u0441 coverage <code>make race</code> \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432 \u0441 race detector <code>make goat-tests</code> \u0417\u0430\u043f\u0443\u0441\u043a \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 GOAT \u0442\u0435\u0441\u0442\u043e\u0432 <code>make goat-tests-verbose</code> GOAT \u0442\u0435\u0441\u0442\u044b \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u043c \u0432\u044b\u0432\u043e\u0434\u043e\u043c"},{"location":"workflow/makefile/#_5","title":"\u041b\u0438\u043d\u0442\u0438\u043d\u0433","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make lint</code> \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e main <code>make lint-full</code> \u041f\u043e\u043b\u043d\u044b\u0439 lint \u0432\u0441\u0435\u0433\u043e \u043a\u043e\u0434\u0430 <code>make lint-fix</code> \u0410\u0432\u0442\u043e\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 lint \u043e\u0448\u0438\u0431\u043e\u043a <code>make install-lint</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 golangci-lint"},{"location":"workflow/makefile/#docker","title":"Docker","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make docker-build</code> \u0421\u0431\u043e\u0440\u043a\u0430 Docker \u043e\u0431\u0440\u0430\u0437\u0430 <code>make docker-push</code> Push \u043e\u0431\u0440\u0430\u0437\u0430 \u0432 registry <code>make docker-up</code> \u0417\u0430\u043f\u0443\u0441\u043a docker-compose <code>make docker-down</code> \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 docker-compose"},{"location":"workflow/makefile/#dev-stand-dev_stand-true","title":"Dev Stand (\u043f\u0440\u0438 <code>dev_stand: true</code>)","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make dev-up</code> \u0417\u0430\u043f\u0443\u0441\u043a dev \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0441 OnlineConf <code>make dev-down</code> \u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 dev \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>make dev-restart</code> \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a dev \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>make dev-rebuild</code> \u041f\u0435\u0440\u0435\u0441\u0431\u043e\u0440\u043a\u0430 \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 <code>make dev-drop</code> \u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u0431\u0440\u043e\u0441 (\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 volumes)"},{"location":"workflow/makefile/#_6","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0411\u0414","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make migrate-up</code> \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 <code>make migrate-down</code> \u041e\u0442\u043a\u0430\u0442\u0438\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 <code>make migrate-status</code> \u0421\u0442\u0430\u0442\u0443\u0441 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439"},{"location":"workflow/makefile/#_7","title":"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0430","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make generate</code> \u0412\u0441\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b <code>make ogen</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f REST \u0438\u0437 OpenAPI <code>make argen</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f ActiveRecord <code>make mock</code> \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043c\u043e\u043a\u043e\u0432"},{"location":"workflow/makefile/#artifacts-deb-rpm-apk","title":"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043f\u0430\u043a\u0435\u0442\u044b (\u043f\u0440\u0438 <code>artifacts: [deb, rpm, apk]</code>)","text":"\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>make packages</code> \u0421\u0431\u043e\u0440\u043a\u0430 \u0432\u0441\u0435\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 <code>make deb-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 .deb \u0434\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>make rpm-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 .rpm \u0434\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>make apk-{app}</code> \u0421\u0431\u043e\u0440\u043a\u0430 .apk \u0434\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f <code>make install-nfpm</code> \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 nfpm <code>make upload-packages</code> \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0430\u043a\u0435\u0442\u043e\u0432"},{"location":"workflow/makefile/#_8","title":"\u041f\u0440\u0438\u043c\u0435\u0440\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","text":""},{"location":"workflow/makefile/#_9","title":"\u041f\u043e\u043b\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438","text":"<pre><code># 1. \u0417\u0430\u043f\u0443\u0441\u043a \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439\nmake docker-up\n\n# 2. \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u0434\u0430\nmake generate\n\n# 3. \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432\nmake test\n\n# 4. \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\nmake run\n</code></pre>"},{"location":"workflow/makefile/#_10","title":"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u043a\u043e\u043c\u043c\u0438\u0442\u0443","text":"<pre><code># 1. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 lint\nmake lint\n\n# 2. \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432\nmake test\n\n# 3. Commit\ngit add .\ngit commit -m \"Feature: add user endpoint\"\n</code></pre>"},{"location":"workflow/makefile/#_11","title":"\u0421\u0431\u043e\u0440\u043a\u0430 \u0438 \u0434\u0435\u043f\u043b\u043e\u0439","text":"<pre><code># 1. \u0421\u0431\u043e\u0440\u043a\u0430 Docker \u043e\u0431\u0440\u0430\u0437\u0430\nmake docker-build\n\n# 2. Push \u0432 registry\nmake docker-push\n\n# 3. \u0418\u043b\u0438 \u0441\u0431\u043e\u0440\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043f\u0430\u043a\u0435\u0442\u043e\u0432\nmake packages\nmake upload-packages\n</code></pre>"},{"location":"workflow/makefile/#dev-stand-onlineconf","title":"Dev Stand \u0441 OnlineConf","text":"<pre><code># 1. \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f\nmake dev-up\n\n# 2. \u041f\u043e\u0441\u043b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043a\u043e\u0434\u0430\nmake dev-rebuild\n\n# 3. \u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u0431\u0440\u043e\u0441 (\u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 SQL)\nmake dev-drop\nmake dev-up\n</code></pre>"},{"location":"workflow/makefile/#_12","title":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":""},{"location":"workflow/makefile/#_13","title":"\u0421\u0431\u043e\u0440\u043a\u0430","text":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>GOPROXY</code> Go proxy \u0434\u043b\u044f \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 <code>GOPRIVATE</code> \u041f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0435 Go \u043c\u043e\u0434\u0443\u043b\u0438"},{"location":"workflow/makefile/#docker_1","title":"Docker","text":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>DOCKER_REGISTRY</code> URL Docker registry <code>DOCKER_TAG</code> \u0422\u0435\u0433 \u043e\u0431\u0440\u0430\u0437\u0430"},{"location":"workflow/makefile/#dev-stand","title":"Dev Stand","text":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>DEV_ONLINECONF_ADMIN_PORT</code> \u041f\u043e\u0440\u0442 OnlineConf Admin UI (default: 8888) <code>DEV_TRAEFIK_PORT</code> \u041f\u043e\u0440\u0442 Traefik dashboard (default: 9080) <code>DEV_POSTGRES_PORT</code> \u041f\u043e\u0440\u0442 PostgreSQL (default: 5432) <code>DEV_GRAFANA_PORT</code> \u041f\u043e\u0440\u0442 Grafana (default: 3000)"},{"location":"workflow/makefile/#_14","title":"\u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f","text":"<p>Makefile \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0441 disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u043e\u043c. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u0446\u0435\u043b\u0438 \u043d\u0438\u0436\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430:</p> <pre><code># ==========================================\n# GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n# ==========================================\n\n# \u0412\u0430\u0448\u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u0446\u0435\u043b\u0438\n.PHONY: my-custom-target\nmy-custom-target:\n    @echo \"Custom target\"\n</code></pre>"},{"location":"workflow/onlineconf/","title":"OnlineConf","text":"<p>\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 OnlineConf \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438.</p>"},{"location":"workflow/onlineconf/#_1","title":"\u041e\u0431\u0437\u043e\u0440","text":"<p>OnlineConf \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0431\u0435\u0437 \u0440\u0435\u0434\u0435\u043f\u043b\u043e\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430.</p> <p>\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442 OnlineConf \u0434\u043b\u044f:</p> <ul> <li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432 (\u043f\u043e\u0440\u0442\u044b, \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u044b)</li> <li>\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445</li> <li>Feature flags</li> <li>\u0421\u0435\u043a\u0440\u0435\u0442\u043e\u0432 \u0438 credentials</li> </ul>"},{"location":"workflow/onlineconf/#_2","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0443\u0442\u0435\u0439","text":"<pre><code>{service_name}/\n\u251c\u2500\u2500 devstand                    # 0 \u0438\u043b\u0438 1\n\u251c\u2500\u2500 log/\n\u2502   \u2514\u2500\u2500 level                   # info, debug, error\n\u251c\u2500\u2500 transport/\n\u2502   \u2514\u2500\u2500 rest/\n\u2502       \u2514\u2500\u2500 {name}_{version}/\n\u2502           \u251c\u2500\u2500 ip                  # 0.0.0.0\n\u2502           \u251c\u2500\u2500 port                # 8080\n\u2502           \u251c\u2500\u2500 timeout_read        # 30s (ReadTimeout + IdleTimeout)\n\u2502           \u251c\u2500\u2500 timeout_write       # 60s (WriteTimeout)\n\u2502           \u251c\u2500\u2500 timeout_read_header # 30s (ReadHeaderTimeout, default = timeout_read)\n\u2502           \u2514\u2500\u2500 handler/\n\u2502               \u251c\u2500\u2500 default/\n\u2502               \u2502   \u2514\u2500\u2500 timeout     # 2s (default handler timeout)\n\u2502               \u2514\u2500\u2500 {path}/\n\u2502                   \u2514\u2500\u2500 timeout     # per-path handler timeout\n\u251c\u2500\u2500 db/\n\u2502   \u2514\u2500\u2500 main/\n\u2502       \u251c\u2500\u2500 host                # localhost:5432\n\u2502       \u251c\u2500\u2500 User\n\u2502       \u251c\u2500\u2500 Password\n\u2502       \u2514\u2500\u2500 DB\n\u2514\u2500\u2500 security/\n    \u251c\u2500\u2500 csrf/\n    \u2502   \u2514\u2500\u2500 enabled             # 0 \u0438\u043b\u0438 1\n    \u2514\u2500\u2500 httpAuth/\n        \u2514\u2500\u2500 enabled             # 0 \u0438\u043b\u0438 1\n</code></pre>"},{"location":"workflow/onlineconf/#_3","title":"\u0418\u0435\u0440\u0430\u0440\u0445\u0438\u044f \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043e\u0432","text":"<p>OnlineConf \u043f\u0443\u0442\u0438 \u0441\u043b\u0435\u0434\u0443\u044e\u0442 3-\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u043e\u0439 \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u0438 \u0434\u043b\u044f REST \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u0432:</p> <ol> <li>Default from code \u2014 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 \u043a\u043e\u0434\u0435</li> <li>Transport-level: <code>/{serviceName}/transport/rest/{transportName}/{key}</code></li> <li>App-specific: <code>/{serviceName}/transport/rest/{transportName}/{appName}/{key}</code></li> </ol>"},{"location":"workflow/onlineconf/#_4","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<p>\u0414\u043b\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u0430 <code>my-api</code> \u0441 application <code>web-app</code> \u0438 transport <code>api_v1</code>:</p> <pre><code># Transport-level (\u0434\u043b\u044f \u0432\u0441\u0435\u0445 apps \u0441 \u044d\u0442\u0438\u043c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043e\u043c)\n/my-api/transport/rest/api_v1/timeout_read\n/my-api/transport/rest/api_v1/timeout_write\n/my-api/transport/rest/api_v1/port\n\n# App-specific (override \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e application)\n/my-api/transport/rest/api_v1/web-app/timeout_read\n/my-api/transport/rest/api_v1/web-app/timeout_write\n/my-api/transport/rest/api_v1/web-app/port\n</code></pre>"},{"location":"workflow/onlineconf/#_5","title":"\u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u043e\u0432","text":"<p>\u0421\u0435\u0440\u0432\u0435\u0440\u043d\u044b\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u044b (<code>timeout_read</code>, <code>timeout_write</code>, <code>timeout_read_header</code>) \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u044b \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 OnlineConf \u0447\u0435\u0440\u0435\u0437 <code>RegisterSubscription</code>. \u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 OnlineConf Admin UI:</p> <ol> <li>Callback \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442 <code>http.Server</code> \u043f\u043e\u043b\u044f \u0431\u0435\u0437 \u0440\u0435\u0441\u0442\u0430\u0440\u0442\u0430</li> <li>\u0412 \u043b\u043e\u0433\u0435 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \"REST server timeouts updated\"</li> <li>\u041d\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\u043c</li> </ol>"},{"location":"workflow/onlineconf/#handler-timeouts","title":"Handler Timeouts","text":"<p>Handler timeout \u2014 \u0442\u0430\u0439\u043c\u0430\u0443\u0442 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043e\u0434\u043d\u043e\u0433\u043e HTTP-\u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 <code>context.WithTimeout</code> \u0432 middleware.</p>"},{"location":"workflow/onlineconf/#3-level-fallback","title":"3-level fallback","text":"<ol> <li>Per-path app-specific: <code>/{svc}/transport/rest/{transport}/{app}/handler/{urlPath}/timeout</code></li> <li>Per-path transport-level: <code>/{svc}/transport/rest/{transport}/handler/{urlPath}/timeout</code></li> <li>Default app-specific: <code>/{svc}/transport/rest/{transport}/{app}/handler/default/timeout</code></li> <li>Default transport-level: <code>/{svc}/transport/rest/{transport}/handler/default/timeout</code></li> <li>Code default: <code>2s</code></li> </ol>"},{"location":"workflow/onlineconf/#handler-timeout-vs-write-timeout","title":"\u0412\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f handler timeout vs write timeout","text":"<p>\u0415\u0441\u043b\u0438 handler timeout \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 server write timeout, \u043e\u043d \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442\u0441\u044f \u0434\u043e write timeout \u0441 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435\u043c \u0432 \u043b\u043e\u0433\u0435. \u042d\u0442\u043e \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044e, \u043a\u043e\u0433\u0434\u0430 handler \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0441\u0435\u0440\u0432\u0435\u0440 \u0443\u0436\u0435 \u0437\u0430\u043a\u0440\u044b\u043b \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435.</p>"},{"location":"workflow/onlineconf/#_6","title":"\u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<p>OnlineConf \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f:</p> <pre><code># Core settings\nOC_{ProjectName}__devstand=0\nOC_{ProjectName}__log__level=info\n\n# REST API settings\nOC_{ProjectName}__transport__rest__{name}_{version}__ip=0.0.0.0\nOC_{ProjectName}__transport__rest__{name}_{version}__port=8081\nOC_{ProjectName}__transport__rest__{name}_{version}__timeout_read=30s\nOC_{ProjectName}__transport__rest__{name}_{version}__timeout_write=60s\n\n# Database settings\nOC_{ProjectName}__db__main=127.0.0.1:5432\nOC_{ProjectName}__db__main__User=myproject\nOC_{ProjectName}__db__main__Password=password\nOC_{ProjectName}__db__main__DB=myproject\n\n# Security\nOC_{ProjectName}__security__csrf__enabled=0\nOC_{ProjectName}__security__httpAuth__enabled=0\n</code></pre>"},{"location":"workflow/onlineconf/#dev-stand","title":"Dev Stand","text":"<p>\u041f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 <code>dev_stand: true</code> \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u043d\u043e\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u0435 \u0441 OnlineConf.</p>"},{"location":"workflow/onlineconf/#_7","title":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"<pre><code>main:\n  name: myproject\n  dev_stand: true\n\npost_generate:\n  - git_install    # \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f dev_stand\n  - call_generate\n  - go_mod_tidy\n</code></pre>"},{"location":"workflow/onlineconf/#_8","title":"\u0417\u0430\u043f\u0443\u0441\u043a","text":"<pre><code>make dev-up\n</code></pre>"},{"location":"workflow/onlineconf/#_9","title":"\u0414\u043e\u0441\u0442\u0443\u043f","text":"\u0421\u0435\u0440\u0432\u0438\u0441 URL Credentials OnlineConf Admin http://localhost:8888 admin / admin Traefik Dashboard http://localhost:9080 - Application API http://localhost:{port} -"},{"location":"workflow/onlineconf/#dev-","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 dev-\u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                docker-compose-dev.yaml                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  OnlineConf Stack:                                          \u2502\n\u2502  onlineconf-database  - MySQL \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438     \u2502\n\u2502  onlineconf-admin     - Web UI \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f           \u2502\n\u2502  onlineconf-updater   - \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0432 TREE.cdb \u0444\u0430\u0439\u043b\u044b      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  traefik              - reverse proxy                        \u2502\n\u2502  {app1}               - \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 1                         \u2502\n\u2502  {app2}               - \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 2                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Infrastructure (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e):                               \u2502\n\u2502  postgres             - \u0435\u0441\u043b\u0438 use_active_record: true         \u2502\n\u2502  grafana              - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c grafana.datasources        \u2502\n\u2502  prometheus           - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c prometheus datasource      \u2502\n\u2502  loki                 - \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c loki datasource            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"workflow/onlineconf/#_10","title":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<ol> <li>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 http://localhost:8888</li> <li>\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u043a\u0430\u043a admin / admin</li> <li>\u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0432 \u0434\u0435\u0440\u0435\u0432\u0435</li> <li>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 <code>TREE.cdb</code></li> </ol>"},{"location":"workflow/onlineconf/#_11","title":"\u0421\u0431\u0440\u043e\u0441 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<p>\u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 SQL-\u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043d\u0443\u0436\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c MySQL volume:</p> <pre><code>make dev-drop\nmake dev-up\n</code></pre>"},{"location":"workflow/onlineconf/#_12","title":"\u0427\u0442\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0432 \u043a\u043e\u0434\u0435","text":"<pre><code>// \u0427\u0442\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439\nmaxRetries := onlineconf.GetInt(\"myservice.api.max_retries\")\ntimeout := onlineconf.GetDuration(\"myservice.api.timeout\")\nenabled := onlineconf.GetBool(\"myservice.feature.enabled\")\n\n// \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0432 OnlineConf\n</code></pre>"},{"location":"workflow/onlineconf/#kafka","title":"Kafka \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f","text":"\u041f\u0443\u0442\u044c \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 <code>{service}/kafka/{client}/brokers</code> \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u0440\u043e\u043a\u0435\u0440\u043e\u0432 <code>{service}/kafka/{client}/auth_type</code> none, PLAIN, SCRAM-SHA-* <code>{service}/kafka/{client}/username</code> SASL username <code>{service}/kafka/{client}/password</code> SASL password <code>{service}/kafka/{client}/tls_enabled</code> 0 \u0438\u043b\u0438 1 <code>{service}/kafka/{client}/events/{event}/topic</code> Topic name"},{"location":"workflow/onlineconf/#troubleshooting","title":"Troubleshooting","text":""},{"location":"workflow/onlineconf/#onlineconf-updater-treecdb","title":"OnlineConf updater \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 TREE.cdb","text":"<pre><code># \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043b\u043e\u0433\u0438 updater\ndocker compose -f docker-compose-dev.yaml logs onlineconf-updater\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0447\u0442\u043e admin UI \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d\ncurl http://localhost:8888\n\n# \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0447\u0442\u043e MySQL \u0433\u043e\u0442\u043e\u0432\ndocker compose -f docker-compose-dev.yaml logs onlineconf-database\n</code></pre>"},{"location":"workflow/onlineconf/#init-configsql","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 init-config.sql \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f","text":"<p>MySQL \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 init-\u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u043f\u0435\u0440\u0432\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435:</p> <pre><code>make dev-drop\nmake dev-up\n</code></pre>"},{"location":"workflow/regeneration/","title":"\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438","text":"<p>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439 \u043c\u0435\u0436\u0434\u0443 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438.</p>"},{"location":"workflow/regeneration/#_2","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043a\u043e\u0434\u0430","text":"<p>\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c: \u041f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0435\u0441\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0431\u0435\u0437 \u043f\u043e\u0442\u0435\u0440\u0438 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.</p>"},{"location":"workflow/regeneration/#disclaimer-","title":"\u041a\u0430\u043a \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 Disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u044b","text":"<p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043c\u0430\u0440\u043a\u0435\u0440:</p> <pre><code>// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// Changes manually made below will not be overwritten by generator.\n// ==========================================\n</code></pre> <p>\u041f\u0440\u0430\u0432\u0438\u043b\u0430:</p> <ol> <li>\u041a\u043e\u0434 \u0432\u044b\u0448\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0435</li> <li>\u041a\u043e\u0434 \u043d\u0438\u0436\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430</li> <li>\u0415\u0441\u043b\u0438 \u043d\u0443\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u0434 \u2014 \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0435\u0433\u043e \u043d\u0438\u0436\u0435 \u043c\u0430\u0440\u043a\u0435\u0440\u0430</li> </ol>"},{"location":"workflow/regeneration/#_3","title":"\u041f\u0440\u0438\u043c\u0435\u0440","text":"<pre><code>package handler\n\nimport (\n    \"context\"\n    \"net/http\"\n)\n\n// ==========================================\n// GENERATED CODE - DO NOT EDIT ABOVE THIS LINE\n// ==========================================\n\nfunc (h *Handler) CreateUser(ctx context.Context, req *CreateUserRequest) (*User, error) {\n    // \u0412\u0430\u0448 \u043a\u043e\u0434 \u0437\u0434\u0435\u0441\u044c - \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0451\u0442 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e!\n\n    user := &amp;User{\n        Email: req.Email,\n        Name:  req.Name,\n    }\n\n    // \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f\n    if err := h.validateBusinessRules(user); err != nil {\n        return nil, err\n    }\n\n    return h.repo.Create(ctx, user)\n}\n\n// \u0412\u0430\u0448\u0438 \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438\nfunc (h *Handler) validateBusinessRules(user *User) error {\n    // ...\n}\n</code></pre>"},{"location":"workflow/regeneration/#workflow","title":"Workflow \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438","text":""},{"location":"workflow/regeneration/#openapiprotobuf","title":"\u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 OpenAPI/Protobuf","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>make generate</code>:</p> <pre><code># 1. \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c api/openapi.yaml\n# 2. \u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434\nmake generate\n\n# \u0412\u0430\u0448 \u043a\u043e\u0434 \u0432 handlers.go \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f\n</code></pre>"},{"location":"workflow/regeneration/#configyaml","title":"\u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 config.yaml","text":"<p>\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e:</p> <pre><code># 1. \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c config.yaml\n# 2. \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)\ngo-project-starter --dry-run --config=config.yaml --target=.\n\n# 3. \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\ngo-project-starter --config=config.yaml --target=.\n</code></pre>"},{"location":"workflow/regeneration/#_4","title":"\u0424\u0430\u0439\u043b\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f","text":"<ul> <li><code>.gitignore</code></li> <li><code>go.mod</code>, <code>go.sum</code></li> <li><code>LICENSE.txt</code></li> <li><code>README.md</code></li> <li><code>.git/</code> \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f</li> </ul>"},{"location":"workflow/regeneration/#_5","title":"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u043c\u0435\u0436\u0434\u0443 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438","text":"<p>\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438.</p>"},{"location":"workflow/regeneration/#_6","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0435\u0440\u0441\u0438\u0438","text":"<pre><code>go-project-starter --version\n</code></pre>"},{"location":"workflow/regeneration/#_7","title":"\u0417\u0430\u043f\u0443\u0441\u043a \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438","text":"<pre><code>go-project-starter migrate --configDir=.project-config\n</code></pre>"},{"location":"workflow/regeneration/#_8","title":"\u0427\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f","text":"<ol> <li>\u0427\u0438\u0442\u0430\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e</li> <li>\u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0445 \u043f\u043e\u043b\u0435\u0439:</li> <li>\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439</li> <li>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b</li> <li>\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 deprecated-\u043f\u043e\u043b\u0435\u0439</li> <li>\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d\u043d\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e</li> </ol>"},{"location":"workflow/regeneration/#_9","title":"\u041f\u0440\u0438\u043c\u0435\u0440 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438","text":"<pre><code># \u0414\u043e \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 (\u0441\u0442\u0430\u0440\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442)\nrest:\n  - name: api\n    generator: ogen\n\n# \u041f\u043e\u0441\u043b\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 (\u043d\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442)\nrest:\n  - name: api\n    generator_type: ogen\n</code></pre>"},{"location":"workflow/regeneration/#_10","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432","text":""},{"location":"workflow/regeneration/#rest","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e REST \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0430","text":"<ol> <li>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 <code>config.yaml</code>:</li> </ol> <pre><code>rest:\n  - name: admin\n    path: [./api/admin.yaml]\n    generator_type: ogen\n    port: 8081\n    version: v1\n</code></pre> <ol> <li>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 application:</li> </ol> <pre><code>applications:\n  - name: api\n    transport: [api, admin, sys]\n</code></pre> <ol> <li>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435:</li> </ol> <pre><code>go-project-starter --config=config.yaml\n</code></pre>"},{"location":"workflow/regeneration/#_11","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0432\u043e\u0440\u043a\u0435\u0440\u0430","text":"<ol> <li>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 <code>config.yaml</code>:</li> </ol> <pre><code>workers:\n  - name: email_sender\n    generator_type: daemon\n</code></pre> <ol> <li>\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0432 application:</li> </ol> <pre><code>applications:\n  - name: workers\n    workers: [telegram_bot, email_sender]\n</code></pre> <ol> <li>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442.</li> </ol>"},{"location":"workflow/regeneration/#_12","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432","text":"<p>\u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u0435\u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430:</p> <ol> <li> <p>\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0431\u0435\u0437 user code \u2014 \u0443\u0434\u0430\u043b\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438.    \u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u043f\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u044e disclaimer-\u043c\u0430\u0440\u043a\u0435\u0440\u0430    \u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044e \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u043d\u0430\u0431\u043e\u0440\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432.</p> </li> <li> <p>\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 user code \u2014 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f \u043e\u0448\u0438\u0431\u043a\u043e\u0439.    \u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043a\u043e\u0434 \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0432\u0440\u0443\u0447\u043d\u0443\u044e.</p> </li> <li> <p>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0444\u0430\u0439\u043b\u044b (\u0431\u0435\u0437 disclaimer) \u2014 \u043d\u0435 \u0437\u0430\u0442\u0440\u0430\u0433\u0438\u0432\u0430\u044e\u0442\u0441\u044f.</p> </li> </ol> <p>\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>--dry-run</code> \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432 \u0432\u044b\u0432\u043e\u0434\u0435 \u043a\u0430\u043a \"Remove obsolete file\".</p>"},{"location":"workflow/regeneration/#best-practices","title":"Best Practices","text":""},{"location":"workflow/regeneration/#_13","title":"\u0412\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438","text":"<p>\u0425\u0440\u0430\u043d\u0438\u0442\u0435 <code>config.yaml</code> \u0432 Git:</p> <pre><code>git add config.yaml\ngit commit -m \"Add admin API transport\"\n</code></pre>"},{"location":"workflow/regeneration/#_14","title":"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439","text":"<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>--dry-run</code> \u043f\u0435\u0440\u0435\u0434 \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0435\u0439:</p> <pre><code>go-project-starter --dry-run --config=config.yaml --target=.\n</code></pre>"},{"location":"workflow/regeneration/#_15","title":"\u0420\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u0430\u044f \u0440\u0435\u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f","text":"<p>\u0420\u0435\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0439\u0442\u0435 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e\u0441\u043b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u0430:</p> <pre><code>go install github.com/Educentr/go-project-starter/cmd/go-project-starter@latest\ngo-project-starter --config=config.yaml --target=.\n</code></pre> <p>\u042d\u0442\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u043d\u043e\u0433\u043e \u043a\u043e\u0434\u0430.</p>"}]}